(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function tE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bg={exports:{}},Bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function j5(){if(R_)return Bc;R_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Bc.Fragment=e,Bc.jsx=n,Bc.jsxs=n,Bc}var N_;function V5(){return N_||(N_=1,bg.exports=j5()),bg.exports}var p=V5(),xg={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function O5(){if(C_)return Re;C_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function V(B,se,ue){this.props=B,this.context=se,this.refs=C,this.updater=ue||M}V.prototype.isReactComponent={},V.prototype.setState=function(B,se){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,se,"setState")},V.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=V.prototype;function N(B,se,ue){this.props=B,this.context=se,this.refs=C,this.updater=ue||M}var W=N.prototype=new F;W.constructor=N,k(W,V.prototype),W.isPureReactComponent=!0;var ee=Array.isArray;function ae(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function j(B,se,ue){var fe=ue.ref;return{$$typeof:t,type:B,key:se,ref:fe!==void 0?fe:null,props:ue}}function L(B,se){return j(B.type,se,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function q(B){var se={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return se[ue]})}var O=/\/+/g;function st(B,se){return typeof B=="object"&&B!==null&&B.key!=null?q(""+B.key):se.toString(36)}function yt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ae,ae):(B.status="pending",B.then(function(se){B.status==="pending"&&(B.status="fulfilled",B.value=se)},function(se){B.status==="pending"&&(B.status="rejected",B.reason=se)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function J(B,se,ue,fe,Se){var ke=typeof B;(ke==="undefined"||ke==="boolean")&&(B=null);var He=!1;if(B===null)He=!0;else switch(ke){case"bigint":case"string":case"number":He=!0;break;case"object":switch(B.$$typeof){case t:case e:He=!0;break;case v:return He=B._init,J(He(B._payload),se,ue,fe,Se)}}if(He)return Se=Se(B),He=fe===""?"."+st(B,0):fe,ee(Se)?(ue="",He!=null&&(ue=He.replace(O,"$&/")+"/"),J(Se,se,ue,"",function(ia){return ia})):Se!=null&&(U(Se)&&(Se=L(Se,ue+(Se.key==null||B&&B.key===Se.key?"":(""+Se.key).replace(O,"$&/")+"/")+He)),se.push(Se)),1;He=0;var Ft=fe===""?".":fe+":";if(ee(B))for(var ut=0;ut<B.length;ut++)fe=B[ut],ke=Ft+st(fe,ut),He+=J(fe,se,ue,ke,Se);else if(ut=E(B),typeof ut=="function")for(B=ut.call(B),ut=0;!(fe=B.next()).done;)fe=fe.value,ke=Ft+st(fe,ut++),He+=J(fe,se,ue,ke,Se);else if(ke==="object"){if(typeof B.then=="function")return J(yt(B),se,ue,fe,Se);throw se=String(B),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return He}function oe(B,se,ue){if(B==null)return B;var fe=[],Se=0;return J(B,fe,"","",function(ke){return se.call(ue,ke,Se++)}),fe}function me(B){if(B._status===-1){var se=B._result;se=se(),se.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=se)}if(B._status===1)return B._result.default;throw B._result}var De=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Oe={map:oe,forEach:function(B,se,ue){oe(B,function(){se.apply(this,arguments)},ue)},count:function(B){var se=0;return oe(B,function(){se++}),se},toArray:function(B){return oe(B,function(se){return se})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Re.Activity=b,Re.Children=Oe,Re.Component=V,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=N,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},Re.cache=function(B){return function(){return B.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(B,se,ue){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var fe=k({},B.props),Se=B.key;if(se!=null)for(ke in se.key!==void 0&&(Se=""+se.key),se)!R.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(fe[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)fe.children=ue;else if(1<ke){for(var He=Array(ke),Ft=0;Ft<ke;Ft++)He[Ft]=arguments[Ft+2];fe.children=He}return j(B.type,Se,fe)},Re.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Re.createElement=function(B,se,ue){var fe,Se={},ke=null;if(se!=null)for(fe in se.key!==void 0&&(ke=""+se.key),se)R.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=se[fe]);var He=arguments.length-2;if(He===1)Se.children=ue;else if(1<He){for(var Ft=Array(He),ut=0;ut<He;ut++)Ft[ut]=arguments[ut+2];Se.children=Ft}if(B&&B.defaultProps)for(fe in He=B.defaultProps,He)Se[fe]===void 0&&(Se[fe]=He[fe]);return j(B,ke,Se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:d,render:B}},Re.isValidElement=U,Re.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:me}},Re.memo=function(B,se){return{$$typeof:g,type:B,compare:se===void 0?null:se}},Re.startTransition=function(B){var se=I.T,ue={};I.T=ue;try{var fe=B(),Se=I.S;Se!==null&&Se(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ae,De)}catch(ke){De(ke)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),I.T=se}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(B){return I.H.use(B)},Re.useActionState=function(B,se,ue){return I.H.useActionState(B,se,ue)},Re.useCallback=function(B,se){return I.H.useCallback(B,se)},Re.useContext=function(B){return I.H.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B,se){return I.H.useDeferredValue(B,se)},Re.useEffect=function(B,se){return I.H.useEffect(B,se)},Re.useEffectEvent=function(B){return I.H.useEffectEvent(B)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(B,se,ue){return I.H.useImperativeHandle(B,se,ue)},Re.useInsertionEffect=function(B,se){return I.H.useInsertionEffect(B,se)},Re.useLayoutEffect=function(B,se){return I.H.useLayoutEffect(B,se)},Re.useMemo=function(B,se){return I.H.useMemo(B,se)},Re.useOptimistic=function(B,se){return I.H.useOptimistic(B,se)},Re.useReducer=function(B,se,ue){return I.H.useReducer(B,se,ue)},Re.useRef=function(B){return I.H.useRef(B)},Re.useState=function(B){return I.H.useState(B)},Re.useSyncExternalStore=function(B,se,ue){return I.H.useSyncExternalStore(B,se,ue)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.3",Re}var I_;function ly(){return I_||(I_=1,xg.exports=O5()),xg.exports}var D=ly();const Pf=tE(D);var _g={exports:{}},Fc={},wg={exports:{}},Tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function P5(){return D_||(D_=1,(function(t){function e(J,oe){var me=J.length;J.push(oe);e:for(;0<me;){var De=me-1>>>1,Oe=J[De];if(0<a(Oe,oe))J[De]=oe,J[me]=Oe,me=De;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var oe=J[0],me=J.pop();if(me!==oe){J[0]=me;e:for(var De=0,Oe=J.length,B=Oe>>>1;De<B;){var se=2*(De+1)-1,ue=J[se],fe=se+1,Se=J[fe];if(0>a(ue,me))fe<Oe&&0>a(Se,ue)?(J[De]=Se,J[fe]=me,De=fe):(J[De]=ue,J[se]=me,De=se);else if(fe<Oe&&0>a(Se,me))J[De]=Se,J[fe]=me,De=fe;else break e}}return oe}function a(J,oe){var me=J.sortIndex-oe.sortIndex;return me!==0?me:J.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,b=null,_=3,E=!1,M=!1,k=!1,C=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function W(J){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=J)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function ee(J){if(k=!1,W(J),!M)if(n(m)!==null)M=!0,ae||(ae=!0,q());else{var oe=n(g);oe!==null&&yt(ee,oe.startTime-J)}}var ae=!1,I=-1,R=5,j=-1;function L(){return C?!0:!(t.unstable_now()-j<R)}function U(){if(C=!1,ae){var J=t.unstable_now();j=J;var oe=!0;try{e:{M=!1,k&&(k=!1,F(I),I=-1),E=!0;var me=_;try{t:{for(W(J),b=n(m);b!==null&&!(b.expirationTime>J&&L());){var De=b.callback;if(typeof De=="function"){b.callback=null,_=b.priorityLevel;var Oe=De(b.expirationTime<=J);if(J=t.unstable_now(),typeof Oe=="function"){b.callback=Oe,W(J),oe=!0;break t}b===n(m)&&s(m),W(J)}else s(m);b=n(m)}if(b!==null)oe=!0;else{var B=n(g);B!==null&&yt(ee,B.startTime-J),oe=!1}}break e}finally{b=null,_=me,E=!1}oe=void 0}}finally{oe?q():ae=!1}}}var q;if(typeof N=="function")q=function(){N(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,st=O.port2;O.port1.onmessage=U,q=function(){st.postMessage(null)}}else q=function(){V(U,0)};function yt(J,oe){I=V(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(J){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var me=_;_=oe;try{return J()}finally{_=me}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var me=_;_=J;try{return oe()}finally{_=me}},t.unstable_scheduleCallback=function(J,oe,me){var De=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,J){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=me+Oe,J={id:v++,callback:oe,priorityLevel:J,startTime:me,expirationTime:Oe,sortIndex:-1},me>De?(J.sortIndex=me,e(g,J),n(m)===null&&J===n(g)&&(k?(F(I),I=-1):k=!0,yt(ee,me-De))):(J.sortIndex=Oe,e(m,J),M||E||(M=!0,ae||(ae=!0,q()))),J},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(J){var oe=_;return function(){var me=_;_=oe;try{return J.apply(this,arguments)}finally{_=me}}}})(Tg)),Tg}var k_;function L5(){return k_||(k_=1,wg.exports=P5()),wg.exports}var Eg={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function U5(){if(M_)return cn;M_=1;var t=ly();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},cn.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},cn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},cn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},cn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},cn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},cn.requestFormReset=function(m){s.d.r(m)},cn.unstable_batchedUpdates=function(m,g){return m(g)},cn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var j_;function z5(){if(j_)return Eg.exports;j_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=U5(),Eg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function B5(){if(V_)return Fc;V_=1;var t=L5(),e=ly(),n=z5();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var y=f.alternate;if(y===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===o)return m(f),i;if(y===u)return m(f),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=y;else{for(var w=!1,S=f.child;S;){if(S===o){w=!0,o=f,u=y;break}if(S===u){w=!0,u=f,o=y;break}S=S.sibling}if(!w){for(S=y.child;S;){if(S===o){w=!0,o=y,u=f;break}if(S===u){w=!0,u=y,o=f;break}S=S.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),N=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case V:return"Profiler";case C:return"StrictMode";case ee:return"Suspense";case ae:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case N:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:st(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return st(i(r))}catch{}}return null}var yt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},De=[],Oe=-1;function B(i){return{current:i}}function se(i){0>Oe||(i.current=De[Oe],De[Oe]=null,Oe--)}function ue(i,r){Oe++,De[Oe]=i.current,i.current=r}var fe=B(null),Se=B(null),ke=B(null),He=B(null);function Ft(i,r){switch(ue(ke,r),ue(Se,i),ue(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Xx(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Xx(r),i=Wx(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(fe),ue(fe,i)}function ut(){se(fe),se(Se),se(ke)}function ia(i){i.memoizedState!==null&&ue(He,i);var r=fe.current,o=Wx(r,i.type);r!==o&&(ue(Se,i),ue(fe,o))}function ao(i){Se.current===i&&(se(fe),se(Se)),He.current===i&&(se(He),Pc._currentValue=me)}var oo,lo;function Di(i){if(oo===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);oo=r&&r[1]||"",lo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oo+i+lo}var Pl=!1;function sa(i,r){if(!i||Pl)return"";Pl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Y=X}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(X){Y=X}i.call(ie.prototype)}}else{try{throw Error()}catch(X){Y=X}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],S=y[1];if(w&&S){var P=w.split(`
`),K=S.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===K.length)for(u=P.length-1,f=K.length-1;1<=u&&0<=f&&P[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==K[f]){var Z=`
`+P[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Pl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Di(o):""}function Ll(i,r){switch(i.tag){case 26:case 27:case 5:return Di(i.type);case 16:return Di("Lazy");case 13:return i.child!==r&&r!==null?Di("Suspense Fallback"):Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return sa(i.type,!1);case 11:return sa(i.type.render,!1);case 1:return sa(i.type,!0);case 31:return Di("Activity");default:return""}}function Ul(i){try{var r="",o=null;do r+=Ll(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,Xs=t.unstable_cancelCallback,_m=t.unstable_shouldYield,Qu=t.unstable_requestPaint,pn=t.unstable_now,ra=t.unstable_getCurrentPriorityLevel,zl=t.unstable_ImmediatePriority,Bl=t.unstable_UserBlockingPriority,Ws=t.unstable_NormalPriority,wm=t.unstable_LowPriority,Xu=t.unstable_IdlePriority,Wu=t.log,Zu=t.unstable_setDisableYieldValue,ui=null,Jt=null;function qn(i){if(typeof Wu=="function"&&Zu(i),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ui,i)}catch{}}var Et=Math.clz32?Math.clz32:eh,Ju=Math.log,co=Math.LN2;function eh(i){return i>>>=0,i===0?32:31-(Ju(i)/co|0)|0}var ki=256,aa=262144,It=4194304;function Mi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ji(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?f=Mi(u):(w&=S,w!==0?f=Mi(w):o||(o=S&~i,o!==0&&(f=Mi(o))))):(S=u&~y,S!==0?f=Mi(S):w!==0?f=Mi(w):o||(o=u&~i,o!==0&&(f=Mi(o)))),f===0?0:r!==0&&r!==f&&(r&y)===0&&(y=f&-f,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:f}function hi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Tm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(){var i=It;return It<<=1,(It&62914560)===0&&(It=4194304),i}function Vi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function oa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Em(i,r,o,u,f,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,P=i.expirationTimes,K=i.hiddenUpdates;for(o=w&~o;0<o;){var Z=31-Et(o),ie=1<<Z;S[Z]=0,P[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~ie}u!==0&&la(i,u,0),y!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~r))}function la(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Et(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Fl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Et(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Hl(i,r){var o=r&-r;return o=(o&42)!==0?1:ca(o),(o&(i.suspendedLanes|r))!==0?0:o}function ca(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ps(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nh(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:x_(i.type))}function di(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var fi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+fi,Kt="__reactProps$"+fi,Oi="__reactContainer$"+fi,uo="__reactEvents$"+fi,Sm="__reactListeners$"+fi,ih="__reactHandles$"+fi,sh="__reactResources$"+fi,Pi="__reactMarker$"+fi;function ho(i){delete i[Dt],delete i[Kt],delete i[uo],delete i[Sm],delete i[ih]}function Li(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Oi]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=s_(i);i!==null;){if(o=i[Dt])return o;i=s_(i)}return r}i=o,o=i.parentNode}return null}function Gn(i){if(i=i[Dt]||i[Oi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function kn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ui(i){var r=i[sh];return r||(r=i[sh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(i){i[Pi]=!0}var ql=new Set,Gl={};function zi(i,r){Bi(i,r),Bi(i+"Capture",r)}function Bi(i,r){for(Gl[i]=r,i=0;i<r.length;i++)ql.add(r[i])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Yl={};function rh(i){return Ct.call(Yl,i)?!0:Ct.call(Kl,i)?!1:$l.test(i)?Yl[i]=!0:(Kl[i]=!0,!1)}function fo(i,r,o){if(rh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Mn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Mt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Yt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ql(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function We(i){if(!i._valueTracker){var r=Zs(i)?"checked":"value";i._valueTracker=Ql(i,r,""+i[r])}}function ua(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Zs(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ha=/[\n"\\]/g;function xn(i){return i.replace(ha,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mo(i,r,o,u,f,y,w,S){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Yt(r)):i.value!==""+Yt(r)&&(i.value=""+Yt(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?Xl(i,w,Yt(r)):o!=null?Xl(i,w,Yt(o)):u!=null&&i.removeAttribute("value"),f==null&&y!=null&&(i.defaultChecked=!!y),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Yt(S):i.removeAttribute("name")}function ah(i,r,o,u,f,y,w,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){We(i);return}o=o!=null?""+Yt(o):"",r=r!=null?""+Yt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),We(i)}function Xl(i,r,o){r==="number"&&Fi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Js(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Yt(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function oh(i,r,o){if(r!=null&&(r=""+Yt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Yt(o):""}function er(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(yt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Yt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),We(i)}function _n(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||lh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Zl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Wl(i,f,u)}else for(var y in r)r.hasOwnProperty(y)&&Wl(i,y,r[y])}function po(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(i){return tr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function mi(){}var Jl=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var nr=null,Hi=null;function da(i){var r=Gn(i);if(r&&(i=r.stateNode)){var o=i[Kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(mo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Kt]||null;if(!f)throw Error(s(90));mo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ua(u)}break e;case"textarea":oh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Js(i,!!o.multiple,r,!1)}}}var yo=!1;function ir(i,r,o){if(yo)return i(r,o);yo=!0;try{var u=i(r);return u}finally{if(yo=!1,(nr!==null||Hi!==null)&&(nd(),nr&&(r=nr,i=Hi,Hi=nr=null,da(r),i)))for(r=0;r<i.length;r++)da(i[r])}}function pi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Kt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(Kn)try{var et={};Object.defineProperty(et,"passive",{get:function(){fa=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{fa=!1}var qi=null,ec=null,ma=null;function tc(){if(ma)return ma;var i,r=ec,o=r.length,u,f="value"in qi?qi.value:qi.textContent,y=f.length;for(i=0;i<o&&r[i]===f[i];i++);var w=o-i;for(u=1;u<=w&&r[o-u]===f[y-u];u++);return ma=f.slice(i,1<u?1-u:void 0)}function pa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function gs(){return!0}function gi(){return!1}function en(i){function r(o,u,f,y,w){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?gs:gi,this.isPropagationStopped=gi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),r}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=en(ys),sr=b({},ys,{view:0,detail:0}),nc=en(sr),rr,vo,$i,bo=b({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(rr=i.screenX-$i.screenX,vo=i.screenY-$i.screenY):vo=rr=0,$i=i),rr)},movementY:function(i){return"movementY"in i?i.movementY:vo}}),ic=en(bo),ga=b({},bo,{dataTransfer:0}),uh=en(ga),hh=b({},sr,{relatedTarget:0}),ya=en(hh),sc=b({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=en(sc),xo=b({},ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fh=en(xo),mh=b({},ys,{data:0}),Ki=en(mh),ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=yh[i])?!!r[i]:!1}function ar(){return vh}var gn=b({},sr,{key:function(i){if(i.key){var r=ph[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=pa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(i){return i.type==="keypress"?pa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bh=en(gn),xh=b({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=en(xh),h=b({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),x=en(h),T=b({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(T),G=b({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=en(G),le=b({},ys,{newState:0,oldState:0}),Ce=en(le),St=[9,13,27,32],Ke=Kn&&"CompositionEvent"in window,ht=null;Kn&&"documentMode"in document&&(ht=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!ht,Yi=Kn&&(!Ke||ht&&8<ht&&11>=ht),yi=" ",vi=!1;function va(i,r){switch(i){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wo=!1;function sC(i,r){switch(i){case"compositionend":return _o(r);case"keypress":return r.which!==32?null:(vi=!0,yi);case"textInput":return i=r.data,i===yi&&vi?null:i;default:return null}}function rC(i,r){if(wo)return i==="compositionend"||!Ke&&va(i,r)?(i=tc(),ma=ec=qi=null,wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o1(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!aC[i.type]:r==="textarea"}function l1(i,r,o,u){nr?Hi?Hi.push(u):Hi=[u]:nr=u,r=cd(r,"onChange"),0<r.length&&(o=new Gi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var rc=null,ac=null;function oC(i){qx(i,0)}function _h(i){var r=kn(i);if(ua(r))return i}function c1(i,r){if(i==="change")return r}var u1=!1;if(Kn){var Am;if(Kn){var Rm="oninput"in document;if(!Rm){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Rm=typeof h1.oninput=="function"}Am=Rm}else Am=!1;u1=Am&&(!document.documentMode||9<document.documentMode)}function d1(){rc&&(rc.detachEvent("onpropertychange",f1),ac=rc=null)}function f1(i){if(i.propertyName==="value"&&_h(ac)){var r=[];l1(r,ac,i,$n(i)),ir(oC,r)}}function lC(i,r,o){i==="focusin"?(d1(),rc=r,ac=o,rc.attachEvent("onpropertychange",f1)):i==="focusout"&&d1()}function cC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _h(ac)}function uC(i,r){if(i==="click")return _h(r)}function hC(i,r){if(i==="input"||i==="change")return _h(r)}function dC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var jn=typeof Object.is=="function"?Object.is:dC;function oc(i,r){if(jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ct.call(r,f)||!jn(i[f],r[f]))return!1}return!0}function m1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function p1(i,r){var o=m1(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=m1(o)}}function g1(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?g1(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function y1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Fi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Fi(i.document)}return r}function Nm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var fC=Kn&&"documentMode"in document&&11>=document.documentMode,To=null,Cm=null,lc=null,Im=!1;function v1(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Im||To==null||To!==Fi(u)||(u=To,"selectionStart"in u&&Nm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),lc&&oc(lc,u)||(lc=u,u=cd(Cm,"onSelect"),0<u.length&&(r=new Gi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=To)))}function ba(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Eo={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Dm={},b1={};Kn&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function xa(i){if(Dm[i])return Dm[i];if(!Eo[i])return i;var r=Eo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in b1)return Dm[i]=r[o];return i}var x1=xa("animationend"),_1=xa("animationiteration"),w1=xa("animationstart"),mC=xa("transitionrun"),pC=xa("transitionstart"),gC=xa("transitioncancel"),T1=xa("transitionend"),E1=new Map,km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");km.push("scrollEnd");function bi(i,r){E1.set(i,r),zi(r,[i])}var wh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qn=[],So=0,Mm=0;function Th(){for(var i=So,r=Mm=So=0;r<i;){var o=Qn[r];Qn[r++]=null;var u=Qn[r];Qn[r++]=null;var f=Qn[r];Qn[r++]=null;var y=Qn[r];if(Qn[r++]=null,u!==null&&f!==null){var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}y!==0&&S1(o,f,y)}}function Eh(i,r,o,u){Qn[So++]=i,Qn[So++]=r,Qn[So++]=o,Qn[So++]=u,Mm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function jm(i,r,o,u){return Eh(i,r,o,u),Sh(i)}function _a(i,r){return Eh(i,null,null,r),Sh(i)}function S1(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(f=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,f&&r!==null&&(f=31-Et(o),i=y.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),y):null}function Sh(i){if(50<Ic)throw Ic=0,Hp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ao={};function yC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,u){return new yC(i,r,o,u)}function Vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bs(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function A1(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ah(i,r,o,u,f,y){var w=0;if(u=i,typeof i=="function")Vm(i)&&(w=1);else if(typeof i=="string")w=w5(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=Vn(31,o,r,f),i.elementType=j,i.lanes=y,i;case k:return wa(o.children,f,y,r);case C:w=8,f|=24;break;case V:return i=Vn(12,o,r,f|2),i.elementType=V,i.lanes=y,i;case ee:return i=Vn(13,o,r,f),i.elementType=ee,i.lanes=y,i;case ae:return i=Vn(19,o,r,f),i.elementType=ae,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:w=10;break e;case F:w=9;break e;case W:w=11;break e;case I:w=14;break e;case R:w=16,u=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Vn(w,o,r,f),r.elementType=i,r.type=u,r.lanes=y,r}function wa(i,r,o,u){return i=Vn(7,i,u,r),i.lanes=o,i}function Om(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function R1(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function Pm(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var N1=new WeakMap;function Xn(i,r){if(typeof i=="object"&&i!==null){var o=N1.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ul(r)},N1.set(i,r),r)}return{value:i,source:r,stack:Ul(r)}}var Ro=[],No=0,Rh=null,cc=0,Wn=[],Zn=0,or=null,Qi=1,Xi="";function xs(i,r){Ro[No++]=cc,Ro[No++]=Rh,Rh=i,cc=r}function C1(i,r,o){Wn[Zn++]=Qi,Wn[Zn++]=Xi,Wn[Zn++]=or,or=i;var u=Qi;i=Xi;var f=32-Et(u)-1;u&=~(1<<f),o+=1;var y=32-Et(r)+f;if(30<y){var w=f-f%5;y=(u&(1<<w)-1).toString(32),u>>=w,f-=w,Qi=1<<32-Et(r)+f|o<<f|u,Xi=y+i}else Qi=1<<y|o<<f|u,Xi=i}function Lm(i){i.return!==null&&(xs(i,1),C1(i,1,0))}function Um(i){for(;i===Rh;)Rh=Ro[--No],Ro[No]=null,cc=Ro[--No],Ro[No]=null;for(;i===or;)or=Wn[--Zn],Wn[Zn]=null,Xi=Wn[--Zn],Wn[Zn]=null,Qi=Wn[--Zn],Wn[Zn]=null}function I1(i,r){Wn[Zn++]=Qi,Wn[Zn++]=Xi,Wn[Zn++]=or,Qi=r.id,Xi=r.overflow,or=i}var tn=null,ot=null,Fe=!1,lr=null,Jn=!1,zm=Error(s(519));function cr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uc(Xn(r,i)),zm}function D1(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Dt]=i,r[Kt]=u,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<kc.length;o++)Ve(kc[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),ah(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),er(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Yx(r.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),u.onScroll!=null&&Ve("scroll",r),u.onScrollEnd!=null&&Ve("scrollend",r),u.onClick!=null&&(r.onclick=mi),r=!0):r=!1,r||cr(i,!0)}function k1(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:tn=tn.return}}function Co(i){if(i!==tn)return!1;if(!Fe)return k1(i),Fe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||sg(i.type,i.memoizedProps)),o=!o),o&&ot&&cr(i),k1(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=i_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=i_(i)}else r===27?(r=ot,Tr(i.type)?(i=cg,cg=null,ot=i):ot=r):ot=tn?ti(i.stateNode.nextSibling):null;return!0}function Ta(){ot=tn=null,Fe=!1}function Bm(){var i=lr;return i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i),lr=null),i}function uc(i){lr===null?lr=[i]:lr.push(i)}var Fm=B(null),Ea=null,_s=null;function ur(i,r,o){ue(Fm,r._currentValue),r._currentValue=o}function ws(i){i._currentValue=Fm.current,se(Fm)}function Hm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function qm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var y=f.dependencies;if(y!==null){var w=f.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=f;for(var P=0;P<r.length;P++)if(S.context===r[P]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Hm(y.return,o,i),u||(w=null);break e}y=S.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Hm(w,o,i),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===i){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Io(i,r,o,u){i=null;for(var f=r,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var S=f.type;jn(f.pendingProps.value,w.value)||(i!==null?i.push(S):i=[S])}}else if(f===He.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Pc):i=[Pc])}f=f.return}i!==null&&qm(r,i,o,u),r.flags|=262144}function Nh(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Sa(i){Ea=i,_s=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return M1(Ea,i)}function Ch(i,r){return Ea===null&&Sa(i),M1(i,r)}function M1(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},_s===null){if(i===null)throw Error(s(308));_s=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else _s=_s.next=r;return o}var vC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},bC=t.unstable_scheduleCallback,xC=t.unstable_NormalPriority,jt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new vC,data:new Map,refCount:0}}function hc(i){i.refCount--,i.refCount===0&&bC(xC,function(){i.controller.abort()})}var dc=null,$m=0,Do=0,ko=null;function _C(i,r){if(dc===null){var o=dc=[];$m=0,Do=Qp(),ko={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $m++,r.then(j1,j1),r}function j1(){if(--$m===0&&dc!==null){ko!==null&&(ko.status="fulfilled");var i=dc;dc=null,Do=0,ko=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function wC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var V1=J.S;J.S=function(i,r){vx=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&_C(i,r),V1!==null&&V1(i,r)};var Aa=B(null);function Km(){var i=Aa.current;return i!==null?i:rt.pooledCache}function Ih(i,r){r===null?ue(Aa,Aa.current):ue(Aa,r.pool)}function O1(){var i=Km();return i===null?null:{parent:jt._currentValue,pool:i}}var Mo=Error(s(460)),Ym=Error(s(474)),Dh=Error(s(542)),kh={then:function(){}};function P1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function L1(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(mi,mi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,z1(i),i;default:if(typeof r.status=="string")r.then(mi,mi);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,z1(i),i}throw Na=r,Mo}}function Ra(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Na=o,Mo):o}}var Na=null;function U1(){if(Na===null)throw Error(s(459));var i=Na;return Na=null,i}function z1(i){if(i===Mo||i===Dh)throw Error(s(483))}var jo=null,fc=0;function Mh(i){var r=fc;return fc+=1,jo===null&&(jo=[]),L1(jo,i,r)}function mc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function jh(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function B1(i){function r(H,z){if(i){var $=H.deletions;$===null?(H.deletions=[z],H.flags|=16):$.push(z)}}function o(H,z){if(!i)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function u(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=bs(H,z),H.index=0,H.sibling=null,H}function y(H,z,$){return H.index=$,i?($=H.alternate,$!==null?($=$.index,$<z?(H.flags|=67108866,z):$):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function w(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,$,te){return z===null||z.tag!==6?(z=Om($,H.mode,te),z.return=H,z):(z=f(z,$),z.return=H,z)}function P(H,z,$,te){var ve=$.type;return ve===k?Z(H,z,$.props.children,te,$.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&Ra(ve)===z.type)?(z=f(z,$.props),mc(z,$),z.return=H,z):(z=Ah($.type,$.key,$.props,null,H.mode,te),mc(z,$),z.return=H,z)}function K(H,z,$,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Pm($,H.mode,te),z.return=H,z):(z=f(z,$.children||[]),z.return=H,z)}function Z(H,z,$,te,ve){return z===null||z.tag!==7?(z=wa($,H.mode,te,ve),z.return=H,z):(z=f(z,$),z.return=H,z)}function ie(H,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Om(""+z,H.mode,$),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return $=Ah(z.type,z.key,z.props,null,H.mode,$),mc($,z),$.return=H,$;case M:return z=Pm(z,H.mode,$),z.return=H,z;case R:return z=Ra(z),ie(H,z,$)}if(yt(z)||q(z))return z=wa(z,H.mode,$,null),z.return=H,z;if(typeof z.then=="function")return ie(H,Mh(z),$);if(z.$$typeof===N)return ie(H,Ch(H,z),$);jh(H,z)}return null}function Y(H,z,$,te){var ve=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:S(H,z,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===ve?P(H,z,$,te):null;case M:return $.key===ve?K(H,z,$,te):null;case R:return $=Ra($),Y(H,z,$,te)}if(yt($)||q($))return ve!==null?null:Z(H,z,$,te,null);if(typeof $.then=="function")return Y(H,z,Mh($),te);if($.$$typeof===N)return Y(H,z,Ch(H,$),te);jh(H,$)}return null}function X(H,z,$,te,ve){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get($)||null,S(z,H,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return H=H.get(te.key===null?$:te.key)||null,P(z,H,te,ve);case M:return H=H.get(te.key===null?$:te.key)||null,K(z,H,te,ve);case R:return te=Ra(te),X(H,z,$,te,ve)}if(yt(te)||q(te))return H=H.get($)||null,Z(z,H,te,ve,null);if(typeof te.then=="function")return X(H,z,$,Mh(te),ve);if(te.$$typeof===N)return X(H,z,$,Ch(z,te),ve);jh(z,te)}return null}function pe(H,z,$,te){for(var ve=null,Ge=null,ye=z,Me=z=0,Le=null;ye!==null&&Me<$.length;Me++){ye.index>Me?(Le=ye,ye=null):Le=ye.sibling;var $e=Y(H,ye,$[Me],te);if($e===null){ye===null&&(ye=Le);break}i&&ye&&$e.alternate===null&&r(H,ye),z=y($e,z,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e,ye=Le}if(Me===$.length)return o(H,ye),Fe&&xs(H,Me),ve;if(ye===null){for(;Me<$.length;Me++)ye=ie(H,$[Me],te),ye!==null&&(z=y(ye,z,Me),Ge===null?ve=ye:Ge.sibling=ye,Ge=ye);return Fe&&xs(H,Me),ve}for(ye=u(ye);Me<$.length;Me++)Le=X(ye,H,Me,$[Me],te),Le!==null&&(i&&Le.alternate!==null&&ye.delete(Le.key===null?Me:Le.key),z=y(Le,z,Me),Ge===null?ve=Le:Ge.sibling=Le,Ge=Le);return i&&ye.forEach(function(Nr){return r(H,Nr)}),Fe&&xs(H,Me),ve}function xe(H,z,$,te){if($==null)throw Error(s(151));for(var ve=null,Ge=null,ye=z,Me=z=0,Le=null,$e=$.next();ye!==null&&!$e.done;Me++,$e=$.next()){ye.index>Me?(Le=ye,ye=null):Le=ye.sibling;var Nr=Y(H,ye,$e.value,te);if(Nr===null){ye===null&&(ye=Le);break}i&&ye&&Nr.alternate===null&&r(H,ye),z=y(Nr,z,Me),Ge===null?ve=Nr:Ge.sibling=Nr,Ge=Nr,ye=Le}if($e.done)return o(H,ye),Fe&&xs(H,Me),ve;if(ye===null){for(;!$e.done;Me++,$e=$.next())$e=ie(H,$e.value,te),$e!==null&&(z=y($e,z,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return Fe&&xs(H,Me),ve}for(ye=u(ye);!$e.done;Me++,$e=$.next())$e=X(ye,H,Me,$e.value,te),$e!==null&&(i&&$e.alternate!==null&&ye.delete($e.key===null?Me:$e.key),z=y($e,z,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return i&&ye.forEach(function(M5){return r(H,M5)}),Fe&&xs(H,Me),ve}function it(H,z,$,te){if(typeof $=="object"&&$!==null&&$.type===k&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var ve=$.key;z!==null;){if(z.key===ve){if(ve=$.type,ve===k){if(z.tag===7){o(H,z.sibling),te=f(z,$.props.children),te.return=H,H=te;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&Ra(ve)===z.type){o(H,z.sibling),te=f(z,$.props),mc(te,$),te.return=H,H=te;break e}o(H,z);break}else r(H,z);z=z.sibling}$.type===k?(te=wa($.props.children,H.mode,te,$.key),te.return=H,H=te):(te=Ah($.type,$.key,$.props,null,H.mode,te),mc(te,$),te.return=H,H=te)}return w(H);case M:e:{for(ve=$.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(H,z.sibling),te=f(z,$.children||[]),te.return=H,H=te;break e}else{o(H,z);break}else r(H,z);z=z.sibling}te=Pm($,H.mode,te),te.return=H,H=te}return w(H);case R:return $=Ra($),it(H,z,$,te)}if(yt($))return pe(H,z,$,te);if(q($)){if(ve=q($),typeof ve!="function")throw Error(s(150));return $=ve.call($),xe(H,z,$,te)}if(typeof $.then=="function")return it(H,z,Mh($),te);if($.$$typeof===N)return it(H,z,Ch(H,$),te);jh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(H,z.sibling),te=f(z,$),te.return=H,H=te):(o(H,z),te=Om($,H.mode,te),te.return=H,H=te),w(H)):o(H,z)}return function(H,z,$,te){try{fc=0;var ve=it(H,z,$,te);return jo=null,ve}catch(ye){if(ye===Mo||ye===Dh)throw ye;var Ge=Vn(29,ye,null,H.mode);return Ge.lanes=te,Ge.return=H,Ge}finally{}}}var Ca=B1(!0),F1=B1(!1),hr=!1;function Qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function dr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Sh(i),S1(i,null,o),r}return Eh(i,u,r,o),Sh(i)}function pc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Fl(i,o)}}function Wm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?f=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?f=y=r:y=y.next=r}else f=y=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Zm=!1;function gc(){if(Zm){var i=ko;if(i!==null)throw i}}function yc(i,r,o,u){Zm=!1;var f=i.updateQueue;hr=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,K=P.next;P.next=null,w===null?y=K:w.next=K,w=P;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==w&&(S===null?Z.firstBaseUpdate=K:S.next=K,Z.lastBaseUpdate=P))}if(y!==null){var ie=f.baseState;w=0,Z=K=P=null,S=y;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Pe&Y)===Y:(u&Y)===Y){Y!==0&&Y===Do&&(Zm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=i,xe=S;Y=r;var it=o;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){ie=pe.call(it,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,Y=typeof pe=="function"?pe.call(it,ie,Y):pe,Y==null)break e;ie=b({},ie,Y);break e;case 2:hr=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(K=Z=X,P=ie):Z=Z.next=X,w|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(P=ie),f.baseState=P,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,y===null&&(f.shared.lanes=0),vr|=w,i.lanes=w,i.memoizedState=ie}}function H1(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function q1(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)H1(o[i],r)}var Vo=B(null),Vh=B(0);function G1(i,r){i=Ds,ue(Vh,i),ue(Vo,r),Ds=i|r.baseLanes}function Jm(){ue(Vh,Ds),ue(Vo,Vo.current)}function ep(){Ds=Vh.current,se(Vo),se(Vh)}var On=B(null),ei=null;function mr(i){var r=i.alternate;ue(At,At.current&1),ue(On,i),ei===null&&(r===null||Vo.current!==null||r.memoizedState!==null)&&(ei=i)}function tp(i){ue(At,At.current),ue(On,i),ei===null&&(ei=i)}function $1(i){i.tag===22?(ue(At,At.current),ue(On,i),ei===null&&(ei=i)):pr()}function pr(){ue(At,At.current),ue(On,On.current)}function Pn(i){se(On),ei===i&&(ei=null),se(At)}var At=B(0);function Oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||og(o)||lg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ts=0,Ie=null,tt=null,Vt=null,Ph=!1,Oo=!1,Ia=!1,Lh=0,vc=0,Po=null,TC=0;function vt(){throw Error(s(321))}function np(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!jn(i[o],r[o]))return!1;return!0}function ip(i,r,o,u,f,y){return Ts=y,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?Cb:vp,Ia=!1,y=o(u,f),Ia=!1,Oo&&(y=Y1(r,o,u,f)),K1(i),y}function K1(i){J.H=_c;var r=tt!==null&&tt.next!==null;if(Ts=0,Vt=tt=Ie=null,Ph=!1,vc=0,Po=null,r)throw Error(s(300));i===null||Ot||(i=i.dependencies,i!==null&&Nh(i)&&(Ot=!0))}function Y1(i,r,o,u){Ie=i;var f=0;do{if(Oo&&(Po=null),vc=0,Oo=!1,25<=f)throw Error(s(301));if(f+=1,Vt=tt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=Ib,y=r(o,u)}while(Oo);return y}function EC(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?bc(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Ie.flags|=1024),r}function sp(){var i=Lh!==0;return Lh=0,i}function rp(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ap(i){if(Ph){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ph=!1}Ts=0,Vt=tt=Ie=null,Oo=!1,vc=Lh=0,Po=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ie.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Rt(){if(tt===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=Vt===null?Ie.memoizedState:Vt.next;if(r!==null)Vt=r,tt=i;else{if(i===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Vt===null?Ie.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(i){var r=vc;return vc+=1,Po===null&&(Po=[]),i=L1(Po,i,r),r=Ie,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Cb:vp),i}function zh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bc(i);if(i.$$typeof===N)return nn(i)}throw Error(s(438,String(i)))}function op(i){var r=null,o=Ie.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Uh(),Ie.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function Es(i,r){return typeof r=="function"?r(i):r}function Bh(i){var r=Rt();return lp(r,tt,i)}function lp(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,y=u.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}r.baseQueue=f=y,u.pending=null}if(y=i.baseState,f===null)i.memoizedState=y;else{r=f.next;var S=w=null,P=null,K=r,Z=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Pe&ie)===ie:(Ts&ie)===ie){var Y=K.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Do&&(Z=!0);else if((Ts&Y)===Y){K=K.next,Y===Do&&(Z=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(S=P=ie,w=y):P=P.next=ie,Ie.lanes|=Y,vr|=Y;ie=K.action,Ia&&o(y,ie),y=K.hasEagerState?K.eagerState:o(y,ie)}else Y={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},P===null?(S=P=Y,w=y):P=P.next=Y,Ie.lanes|=ie,vr|=ie;K=K.next}while(K!==null&&K!==r);if(P===null?w=y:P.next=S,!jn(y,i.memoizedState)&&(Ot=!0,Z&&(o=ko,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=P,u.lastRenderedState=y}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function cp(i){var r=Rt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,y=r.memoizedState;if(f!==null){o.pending=null;var w=f=f.next;do y=i(y,w.action),w=w.next;while(w!==f);jn(y,r.memoizedState)||(Ot=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Q1(i,r,o){var u=Ie,f=Rt(),y=Fe;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!jn((tt||f).memoizedState,o);if(w&&(f.memoizedState=o,Ot=!0),f=f.queue,dp(Z1.bind(null,u,f,i),[i]),f.getSnapshot!==r||w||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Lo(9,{destroy:void 0},W1.bind(null,u,f,o,r),null),rt===null)throw Error(s(349));y||(Ts&127)!==0||X1(u,r,o)}return o}function X1(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r=Uh(),Ie.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function W1(i,r,o,u){r.value=o,r.getSnapshot=u,J1(r)&&eb(i)}function Z1(i,r,o){return o(function(){J1(r)&&eb(i)})}function J1(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!jn(i,o)}catch{return!0}}function eb(i){var r=_a(i,2);r!==null&&An(r,i,2)}function up(i){var r=yn();if(typeof i=="function"){var o=i;if(i=o(),Ia){qn(!0);try{o()}finally{qn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:i},r}function tb(i,r,o,u){return i.baseState=o,lp(i,tt,typeof u=="function"?u:Es)}function SC(i,r,o,u,f){if(qh(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};J.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,nb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function nb(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var y=J.T,w={};J.T=w;try{var S=o(f,u),P=J.S;P!==null&&P(w,S),ib(i,r,S)}catch(K){hp(i,r,K)}finally{y!==null&&w.types!==null&&(y.types=w.types),J.T=y}}else try{y=o(f,u),ib(i,r,y)}catch(K){hp(i,r,K)}}function ib(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){sb(i,r,u)},function(u){return hp(i,r,u)}):sb(i,r,o)}function sb(i,r,o){r.status="fulfilled",r.value=o,rb(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,nb(i,o)))}function hp(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,rb(r),r=r.next;while(r!==u)}i.action=null}function rb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function ab(i,r){return r}function ob(i,r){if(Fe){var o=rt.formState;if(o!==null){e:{var u=Ie;if(Fe){if(ot){t:{for(var f=ot,y=Jn;f.nodeType!==8;){if(!y){f=null;break t}if(f=ti(f.nextSibling),f===null){f=null;break t}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){ot=ti(f.nextSibling),u=f.data==="F!";break e}}cr(u)}u=!1}u&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ab,lastRenderedState:r},o.queue=u,o=Ab.bind(null,Ie,u),u.dispatch=o,u=up(!1),y=yp.bind(null,Ie,!1,u.queue),u=yn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=SC.bind(null,Ie,f,y,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function lb(i){var r=Rt();return cb(r,tt,i)}function cb(i,r,o){if(r=lp(i,r,ab)[0],i=Bh(Es)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=bc(r)}catch(w){throw w===Mo?Dh:w}else u=r;r=Rt();var f=r.queue,y=f.dispatch;return o!==r.memoizedState&&(Ie.flags|=2048,Lo(9,{destroy:void 0},AC.bind(null,f,o),null)),[u,y,i]}function AC(i,r){i.action=r}function ub(i){var r=Rt(),o=tt;if(o!==null)return cb(r,o,i);Rt(),r=r.memoizedState,o=Rt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Lo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Uh(),Ie.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function hb(){return Rt().memoizedState}function Fh(i,r,o,u){var f=yn();Ie.flags|=i,f.memoizedState=Lo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Hh(i,r,o,u){var f=Rt();u=u===void 0?null:u;var y=f.memoizedState.inst;tt!==null&&u!==null&&np(u,tt.memoizedState.deps)?f.memoizedState=Lo(r,y,o,u):(Ie.flags|=i,f.memoizedState=Lo(1|r,y,o,u))}function db(i,r){Fh(8390656,8,i,r)}function dp(i,r){Hh(2048,8,i,r)}function RC(i){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Uh(),Ie.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function fb(i){var r=Rt().memoizedState;return RC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function mb(i,r){return Hh(4,2,i,r)}function pb(i,r){return Hh(4,4,i,r)}function gb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function yb(i,r,o){o=o!=null?o.concat([i]):null,Hh(4,4,gb.bind(null,r,i),o)}function fp(){}function vb(i,r){var o=Rt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&np(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function bb(i,r){var o=Rt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&np(r,u[1]))return u[0];if(u=i(),Ia){qn(!0);try{i()}finally{qn(!1)}}return o.memoizedState=[u,r],u}function mp(i,r,o){return o===void 0||(Ts&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=xx(),Ie.lanes|=i,vr|=i,o)}function xb(i,r,o,u){return jn(o,r)?o:Vo.current!==null?(i=mp(i,o,u),jn(i,r)||(Ot=!0),i):(Ts&42)===0||(Ts&1073741824)!==0&&(Pe&261930)===0?(Ot=!0,i.memoizedState=o):(i=xx(),Ie.lanes|=i,vr|=i,r)}function _b(i,r,o,u,f){var y=oe.p;oe.p=y!==0&&8>y?y:8;var w=J.T,S={};J.T=S,yp(i,!1,r,o);try{var P=f(),K=J.S;if(K!==null&&K(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Z=wC(P,u);xc(i,r,Z,zn(i))}else xc(i,r,u,zn(i))}catch(ie){xc(i,r,{then:function(){},status:"rejected",reason:ie},zn())}finally{oe.p=y,w!==null&&S.types!==null&&(w.types=S.types),J.T=w}}function NC(){}function pp(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=wb(i).queue;_b(i,f,r,me,o===null?NC:function(){return Tb(i),o(u)})}function wb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:me},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Tb(i){var r=wb(i);r.next===null&&(r=i.alternate.memoizedState),xc(i,r.next.queue,{},zn())}function gp(){return nn(Pc)}function Eb(){return Rt().memoizedState}function Sb(){return Rt().memoizedState}function CC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=zn();i=dr(o);var u=fr(r,i,o);u!==null&&(An(u,r,o),pc(u,r,o)),r={cache:Gm()},i.payload=r;return}r=r.return}}function IC(i,r,o){var u=zn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qh(i)?Rb(r,o):(o=jm(i,r,o,u),o!==null&&(An(o,i,u),Nb(o,r,u)))}function Ab(i,r,o){var u=zn();xc(i,r,o,u)}function xc(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(qh(i))Rb(r,f);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,S=y(w,o);if(f.hasEagerState=!0,f.eagerState=S,jn(S,w))return Eh(i,r,f,0),rt===null&&Th(),!1}catch{}finally{}if(o=jm(i,r,f,u),o!==null)return An(o,i,u),Nb(o,r,u),!0}return!1}function yp(i,r,o,u){if(u={lane:2,revertLane:Qp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qh(i)){if(r)throw Error(s(479))}else r=jm(i,o,u,2),r!==null&&An(r,i,2)}function qh(i){var r=i.alternate;return i===Ie||r!==null&&r===Ie}function Rb(i,r){Oo=Ph=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Nb(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Fl(i,o)}}var _c={readContext:nn,use:zh,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};_c.useEffectEvent=vt;var Cb={readContext:nn,use:zh,useCallback:function(i,r){return yn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:db,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Fh(4194308,4,gb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Fh(4194308,4,i,r)},useInsertionEffect:function(i,r){Fh(4,2,i,r)},useMemo:function(i,r){var o=yn();r=r===void 0?null:r;var u=i();if(Ia){qn(!0);try{i()}finally{qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=yn();if(o!==void 0){var f=o(r);if(Ia){qn(!0);try{o(r)}finally{qn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=IC.bind(null,Ie,i),[u.memoizedState,i]},useRef:function(i){var r=yn();return i={current:i},r.memoizedState=i},useState:function(i){i=up(i);var r=i.queue,o=Ab.bind(null,Ie,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:fp,useDeferredValue:function(i,r){var o=yn();return mp(o,i,r)},useTransition:function(){var i=up(!1);return i=_b.bind(null,Ie,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ie,f=yn();if(Fe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),rt===null)throw Error(s(349));(Pe&127)!==0||X1(u,r,o)}f.memoizedState=o;var y={value:o,getSnapshot:r};return f.queue=y,db(Z1.bind(null,u,y,i),[i]),u.flags|=2048,Lo(9,{destroy:void 0},W1.bind(null,u,y,o,r),null),o},useId:function(){var i=yn(),r=rt.identifierPrefix;if(Fe){var o=Xi,u=Qi;o=(u&~(1<<32-Et(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Lh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=TC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:gp,useFormState:ob,useActionState:ob,useOptimistic:function(i){var r=yn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=yp.bind(null,Ie,!0,o),o.dispatch=r,[i,r]},useMemoCache:op,useCacheRefresh:function(){return yn().memoizedState=CC.bind(null,Ie)},useEffectEvent:function(i){var r=yn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},vp={readContext:nn,use:zh,useCallback:vb,useContext:nn,useEffect:dp,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:pb,useMemo:bb,useReducer:Bh,useRef:hb,useState:function(){return Bh(Es)},useDebugValue:fp,useDeferredValue:function(i,r){var o=Rt();return xb(o,tt.memoizedState,i,r)},useTransition:function(){var i=Bh(Es)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:bc(i),r]},useSyncExternalStore:Q1,useId:Eb,useHostTransitionStatus:gp,useFormState:lb,useActionState:lb,useOptimistic:function(i,r){var o=Rt();return tb(o,tt,i,r)},useMemoCache:op,useCacheRefresh:Sb};vp.useEffectEvent=fb;var Ib={readContext:nn,use:zh,useCallback:vb,useContext:nn,useEffect:dp,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:pb,useMemo:bb,useReducer:cp,useRef:hb,useState:function(){return cp(Es)},useDebugValue:fp,useDeferredValue:function(i,r){var o=Rt();return tt===null?mp(o,i,r):xb(o,tt.memoizedState,i,r)},useTransition:function(){var i=cp(Es)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:bc(i),r]},useSyncExternalStore:Q1,useId:Eb,useHostTransitionStatus:gp,useFormState:ub,useActionState:ub,useOptimistic:function(i,r){var o=Rt();return tt!==null?tb(o,tt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:op,useCacheRefresh:Sb};Ib.useEffectEvent=fb;function bp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var xp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=zn(),f=dr(u);f.payload=r,o!=null&&(f.callback=o),r=fr(i,f,u),r!==null&&(An(r,i,u),pc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=zn(),f=dr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=fr(i,f,u),r!==null&&(An(r,i,u),pc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=zn(),u=dr(o);u.tag=2,r!=null&&(u.callback=r),r=fr(i,u,o),r!==null&&(An(r,i,o),pc(r,i,o))}};function Db(i,r,o,u,f,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!oc(o,u)||!oc(f,y):!0}function kb(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&xp.enqueueReplaceState(r,r.state,null)}function Da(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function Mb(i){wh(i)}function jb(i){console.error(i)}function Vb(i){wh(i)}function Gh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Ob(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _p(i,r,o){return o=dr(o),o.tag=3,o.payload={element:null},o.callback=function(){Gh(i,r)},o}function Pb(i){return i=dr(i),i.tag=3,i}function Lb(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var y=u.value;i.payload=function(){return f(y)},i.callback=function(){Ob(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Ob(r,o,u),typeof f!="function"&&(br===null?br=new Set([this]):br.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function DC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Io(r,o,f,!0),o=On.current,o!==null){switch(o.tag){case 31:case 13:return ei===null?id():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===kh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),$p(i,u,f)),!1;case 22:return o.flags|=65536,u===kh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),$p(i,u,f)),!1}throw Error(s(435,o.tag))}return $p(i,u,f),id(),!1}if(Fe)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==zm&&(i=Error(s(422),{cause:u}),uc(Xn(i,o)))):(u!==zm&&(r=Error(s(423),{cause:u}),uc(Xn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Xn(u,o),f=_p(i.stateNode,u,f),Wm(i,f),bt!==4&&(bt=2)),!1;var y=Error(s(520),{cause:u});if(y=Xn(y,o),Cc===null?Cc=[y]:Cc.push(y),bt!==4&&(bt=2),r===null)return!0;u=Xn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=_p(o.stateNode,u,i),Wm(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(br===null||!br.has(y))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Pb(f),Lb(f,i,o,u),Wm(o,f),!1}o=o.return}while(o!==null);return!1}var wp=Error(s(461)),Ot=!1;function sn(i,r,o,u){r.child=i===null?F1(r,null,o,u):Ca(r,i.child,o,u)}function Ub(i,r,o,u,f){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return Sa(r),u=ip(i,r,o,w,y,f),S=sp(),i!==null&&!Ot?(rp(i,r,f),Ss(i,r,f)):(Fe&&S&&Lm(r),r.flags|=1,sn(i,r,u,f),r.child)}function zb(i,r,o,u,f){if(i===null){var y=o.type;return typeof y=="function"&&!Vm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Bb(i,r,y,u,f)):(i=Ah(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!Ip(i,f)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:oc,o(w,u)&&i.ref===r.ref)return Ss(i,r,f)}return r.flags|=1,i=bs(y,u),i.ref=r.ref,i.return=r,r.child=i}function Bb(i,r,o,u,f){if(i!==null){var y=i.memoizedProps;if(oc(y,u)&&i.ref===r.ref)if(Ot=!1,r.pendingProps=u=y,Ip(i,f))(i.flags&131072)!==0&&(Ot=!0);else return r.lanes=i.lanes,Ss(i,r,f)}return Tp(i,r,o,u,f)}function Fb(i,r,o,u){var f=u.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~y}else u=0,r.child=null;return Hb(i,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ih(r,y!==null?y.cachePool:null),y!==null?G1(r,y):Jm(),$1(r);else return u=r.lanes=536870912,Hb(i,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Ih(r,y.cachePool),G1(r,y),pr(),r.memoizedState=null):(i!==null&&Ih(r,null),Jm(),pr());return sn(i,r,f,o),r.child}function wc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Hb(i,r,o,u,f){var y=Km();return y=y===null?null:{parent:jt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&Ih(r,null),Jm(),$1(r),i!==null&&Io(i,r,u,!0),r.childLanes=f,null}function $h(i,r){return r=Yh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function qb(i,r,o){return Ca(r,i.child,null,o),i=$h(r,r.pendingProps),i.flags|=2,Pn(r),r.memoizedState=null,i}function kC(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Fe){if(u.mode==="hidden")return i=$h(r,u),r.lanes=536870912,wc(null,i);if(tp(r),(i=ot)?(i=n_(i,Jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:or!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=R1(i),o.return=r,r.child=o,tn=r,ot=null)):i=null,i===null)throw cr(r);return r.lanes=536870912,null}return $h(r,u)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(tp(r),f)if(r.flags&256)r.flags&=-257,r=qb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ot||Io(i,r,o,!1),f=(o&i.childLanes)!==0,Ot||f){if(u=rt,u!==null&&(w=Hl(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,_a(i,w),An(u,i,w),wp;id(),r=qb(i,r,o)}else i=y.treeContext,ot=ti(w.nextSibling),tn=r,Fe=!0,lr=null,Jn=!1,i!==null&&I1(r,i),r=$h(r,u),r.flags|=4096;return r}return i=bs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Tp(i,r,o,u,f){return Sa(r),o=ip(i,r,o,u,void 0,f),u=sp(),i!==null&&!Ot?(rp(i,r,f),Ss(i,r,f)):(Fe&&u&&Lm(r),r.flags|=1,sn(i,r,o,f),r.child)}function Gb(i,r,o,u,f,y){return Sa(r),r.updateQueue=null,o=Y1(r,u,o,f),K1(i),u=sp(),i!==null&&!Ot?(rp(i,r,y),Ss(i,r,y)):(Fe&&u&&Lm(r),r.flags|=1,sn(i,r,o,y),r.child)}function $b(i,r,o,u,f){if(Sa(r),r.stateNode===null){var y=Ao,w=o.contextType;typeof w=="object"&&w!==null&&(y=nn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Qm(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?nn(w):Ao,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(bp(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&xp.enqueueReplaceState(y,y.state,null),yc(r,u,y,f),gc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var S=r.memoizedProps,P=Da(o,S);y.props=P;var K=y.context,Z=o.contextType;w=Ao,typeof Z=="object"&&Z!==null&&(w=nn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||K!==w)&&kb(r,y,u,w),hr=!1;var Y=r.memoizedState;y.state=Y,yc(r,u,y,f),gc(),K=r.memoizedState,S||Y!==K||hr?(typeof ie=="function"&&(bp(r,o,ie,u),K=r.memoizedState),(P=hr||Db(r,o,P,u,Y,K,w))?(Z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),y.props=u,y.state=K,y.context=w,u=P):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Xm(i,r),w=r.memoizedProps,Z=Da(o,w),y.props=Z,ie=r.pendingProps,Y=y.context,K=o.contextType,P=Ao,typeof K=="object"&&K!==null&&(P=nn(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ie||Y!==P)&&kb(r,y,u,P),hr=!1,Y=r.memoizedState,y.state=Y,yc(r,u,y,f),gc();var X=r.memoizedState;w!==ie||Y!==X||hr||i!==null&&i.dependencies!==null&&Nh(i.dependencies)?(typeof S=="function"&&(bp(r,o,S,u),X=r.memoizedState),(Z=hr||Db(r,o,Z,u,Y,X,P)||i!==null&&i.dependencies!==null&&Nh(i.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,P)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),y.props=u,y.state=X,y.context=P,u=Z):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,Kh(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=Ca(r,i.child,null,f),r.child=Ca(r,null,o,f)):sn(i,r,o,f),r.memoizedState=y.state,i=r.child):i=Ss(i,r,f),i}function Kb(i,r,o,u){return Ta(),r.flags|=256,sn(i,r,o,u),r.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(i){return{baseLanes:i,cachePool:O1()}}function Ap(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function Yb(i,r,o){var u=r.pendingProps,f=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(At.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Fe){if(f?mr(r):pr(),(i=ot)?(i=n_(i,Jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:or!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=R1(i),o.return=r,r.child=o,tn=r,ot=null)):i=null,i===null)throw cr(r);return lg(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(pr(),f=r.mode,S=Yh({mode:"hidden",children:S},f),u=wa(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Sp(o),u.childLanes=Ap(i,w,o),r.memoizedState=Ep,wc(null,u)):(mr(r),Rp(r,S))}var P=i.memoizedState;if(P!==null&&(S=P.dehydrated,S!==null)){if(y)r.flags&256?(mr(r),r.flags&=-257,r=Np(i,r,o)):r.memoizedState!==null?(pr(),r.child=i.child,r.flags|=128,r=null):(pr(),S=u.fallback,f=r.mode,u=Yh({mode:"visible",children:u.children},f),S=wa(S,f,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ca(r,i.child,null,o),u=r.child,u.memoizedState=Sp(o),u.childLanes=Ap(i,w,o),r.memoizedState=Ep,r=wc(null,u));else if(mr(r),lg(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var K=w.dgst;w=K,u=Error(s(419)),u.stack="",u.digest=w,uc({value:u,source:null,stack:null}),r=Np(i,r,o)}else if(Ot||Io(i,r,o,!1),w=(o&i.childLanes)!==0,Ot||w){if(w=rt,w!==null&&(u=Hl(w,o),u!==0&&u!==P.retryLane))throw P.retryLane=u,_a(i,u),An(w,i,u),wp;og(S)||id(),r=Np(i,r,o)}else og(S)?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,ot=ti(S.nextSibling),tn=r,Fe=!0,lr=null,Jn=!1,i!==null&&I1(r,i),r=Rp(r,u.children),r.flags|=4096);return r}return f?(pr(),S=u.fallback,f=r.mode,P=i.child,K=P.sibling,u=bs(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,K!==null?S=bs(K,S):(S=wa(S,f,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,wc(null,u),u=r.child,S=i.child.memoizedState,S===null?S=Sp(o):(f=S.cachePool,f!==null?(P=jt._currentValue,f=f.parent!==P?{parent:P,pool:P}:f):f=O1(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=Ap(i,w,o),r.memoizedState=Ep,wc(i.child,u)):(mr(r),o=i.child,i=o.sibling,o=bs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function Rp(i,r){return r=Yh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Yh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function Np(i,r,o){return Ca(r,i.child,null,o),i=Rp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Qb(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Hm(i.return,r,o)}function Cp(i,r,o,u,f,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=f,w.treeForkCount=y)}function Xb(i,r,o){var u=r.pendingProps,f=u.revealOrder,y=u.tail;u=u.children;var w=At.current,S=(w&2)!==0;if(S?(w=w&1|2,r.flags|=128):w&=1,ue(At,w),sn(i,r,u,o),u=Fe?cc:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Qb(i,o,r);else if(i.tag===19)Qb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Oh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Cp(r,!1,f,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Oh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Cp(r,!0,o,null,y,u);break;case"together":Cp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ss(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),vr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Io(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=bs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=bs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ip(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Nh(i)))}function MC(i,r,o){switch(r.tag){case 3:Ft(r,r.stateNode.containerInfo),ur(r,jt,i.memoizedState.cache),Ta();break;case 27:case 5:ia(r);break;case 4:Ft(r,r.stateNode.containerInfo);break;case 10:ur(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,tp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(mr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Yb(i,r,o):(mr(r),i=Ss(i,r,o),i!==null?i.sibling:null);mr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Io(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return Xb(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(At,At.current),u)break;return null;case 22:return r.lanes=0,Fb(i,r,o,r.pendingProps);case 24:ur(r,jt,i.memoizedState.cache)}return Ss(i,r,o)}function Wb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ot=!0;else{if(!Ip(i,o)&&(r.flags&128)===0)return Ot=!1,MC(i,r,o);Ot=(i.flags&131072)!==0}else Ot=!1,Fe&&(r.flags&1048576)!==0&&C1(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ra(r.elementType),r.type=i,typeof i=="function")Vm(i)?(u=Da(i,u),r.tag=1,r=$b(null,r,i,u,o)):(r.tag=0,r=Tp(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===W){r.tag=11,r=Ub(null,r,i,u,o);break e}else if(f===I){r.tag=14,r=zb(null,r,i,u,o);break e}}throw r=st(i)||i,Error(s(306,r,""))}}return r;case 0:return Tp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Da(u,r.pendingProps),$b(i,r,u,f,o);case 3:e:{if(Ft(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;f=y.element,Xm(i,r),yc(r,u,null,o);var w=r.memoizedState;if(u=w.cache,ur(r,jt,u),u!==y.cache&&qm(r,[jt],o,!0),gc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Kb(i,r,u,o);break e}else if(u!==f){f=Xn(Error(s(424)),r),uc(f),r=Kb(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=ti(i.firstChild),tn=r,Fe=!0,lr=null,Jn=!0,o=F1(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ta(),u===f){r=Ss(i,r,o);break e}sn(i,r,u,o)}r=r.child}return r;case 26:return Kh(i,r),i===null?(o=l_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Fe||(o=r.type,i=r.pendingProps,u=ud(ke.current).createElement(o),u[Dt]=r,u[Kt]=i,rn(u,o,i),kt(u),r.stateNode=u):r.memoizedState=l_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ia(r),i===null&&Fe&&(u=r.stateNode=r_(r.type,r.pendingProps,ke.current),tn=r,Jn=!0,f=ot,Tr(r.type)?(cg=f,ot=ti(u.firstChild)):ot=f),sn(i,r,r.pendingProps.children,o),Kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Fe&&((f=u=ot)&&(u=c5(u,r.type,r.pendingProps,Jn),u!==null?(r.stateNode=u,tn=r,ot=ti(u.firstChild),Jn=!1,f=!0):f=!1),f||cr(r)),ia(r),f=r.type,y=r.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,sg(f,y)?u=null:w!==null&&sg(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=ip(i,r,EC,null,null,o),Pc._currentValue=f),Kh(i,r),sn(i,r,u,o),r.child;case 6:return i===null&&Fe&&((i=o=ot)&&(o=u5(o,r.pendingProps,Jn),o!==null?(r.stateNode=o,tn=r,ot=null,i=!0):i=!1),i||cr(r)),null;case 13:return Yb(i,r,o);case 4:return Ft(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ca(r,null,u,o):sn(i,r,u,o),r.child;case 11:return Ub(i,r,r.type,r.pendingProps,o);case 7:return sn(i,r,r.pendingProps,o),r.child;case 8:return sn(i,r,r.pendingProps.children,o),r.child;case 12:return sn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ur(r,r.type,u.value),sn(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Sa(r),f=nn(f),u=u(f),r.flags|=1,sn(i,r,u,o),r.child;case 14:return zb(i,r,r.type,r.pendingProps,o);case 15:return Bb(i,r,r.type,r.pendingProps,o);case 19:return Xb(i,r,o);case 31:return kC(i,r,o);case 22:return Fb(i,r,o,r.pendingProps);case 24:return Sa(r),u=nn(jt),i===null?(f=Km(),f===null&&(f=rt,y=Gm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=o),f=y),r.memoizedState={parent:u,cache:f},Qm(r),ur(r,jt,f)):((i.lanes&o)!==0&&(Xm(i,r),yc(r,null,null,o),gc()),f=i.memoizedState,y=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ur(r,jt,u)):(u=y.cache,ur(r,jt,u),u!==f.cache&&qm(r,[jt],o,!0))),sn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function As(i){i.flags|=4}function Dp(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Ex())i.flags|=8192;else throw Na=kh,Ym}else i.flags&=-16777217}function Zb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!f_(r))if(Ex())i.flags|=8192;else throw Na=kh,Ym}function Qh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?th():536870912,i.lanes|=r,Fo|=r)}function Tc(i,r){if(!Fe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function jC(i,r,o){var u=r.pendingProps;switch(Um(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ws(jt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Co(r)?As(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bm())),lt(r),null;case 26:var f=r.type,y=r.memoizedState;return i===null?(As(r),y!==null?(lt(r),Zb(r,y)):(lt(r),Dp(r,f,null,u,o))):y?y!==i.memoizedState?(As(r),lt(r),Zb(r,y)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&As(r),lt(r),Dp(r,f,i,u,o)),null;case 27:if(ao(r),o=ke.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&As(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=fe.current,Co(r)?D1(r):(i=r_(f,u,o),r.stateNode=i,As(r))}return lt(r),null;case 5:if(ao(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&As(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(y=fe.current,Co(r))D1(r);else{var w=ud(ke.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(f,{is:u.is}):w.createElement(f)}}y[Dt]=r,y[Kt]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(rn(y,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&As(r)}}return lt(r),Dp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&As(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=ke.current,Co(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=tn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Yx(i.nodeValue,o)),i||cr(r,!0)}else i=ud(i).createTextNode(u),i[Dt]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Co(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Dt]=r}else Ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Bm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Pn(r),r):(Pn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Co(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Dt]=r}else Ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=Bm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Pn(r),r):(Pn(r),null)}return Pn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Qh(r,r.updateQueue),lt(r),null);case 4:return ut(),i===null&&Jp(r.stateNode.containerInfo),lt(r),null;case 10:return ws(r.type),lt(r),null;case 19:if(se(At),u=r.memoizedState,u===null)return lt(r),null;if(f=(r.flags&128)!==0,y=u.rendering,y===null)if(f)Tc(u,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Oh(i),y!==null){for(r.flags|=128,Tc(u,!1),i=y.updateQueue,r.updateQueue=i,Qh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)A1(o,i),o=o.sibling;return ue(At,At.current&1|2),Fe&&xs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&pn()>ed&&(r.flags|=128,f=!0,Tc(u,!1),r.lanes=4194304)}else{if(!f)if(i=Oh(y),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Qh(r,i),Tc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Fe)return lt(r),null}else 2*pn()-u.renderingStartTime>ed&&o!==536870912&&(r.flags|=128,f=!0,Tc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(i=u.last,i!==null?i.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=pn(),i.sibling=null,o=At.current,ue(At,f?o&1|2:o&1),Fe&&xs(r,u.treeForkCount),i):(lt(r),null);case 22:case 23:return Pn(r),ep(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&Qh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&se(Aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ws(jt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function VC(i,r){switch(Um(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ws(jt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ao(r),null;case 31:if(r.memoizedState!==null){if(Pn(r),r.alternate===null)throw Error(s(340));Ta()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Pn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ta()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return se(At),null;case 4:return ut(),null;case 10:return ws(r.type),null;case 22:case 23:return Pn(r),ep(),i!==null&&se(Aa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ws(jt),null;case 25:return null;default:return null}}function Jb(i,r){switch(Um(r),r.tag){case 3:ws(jt),ut();break;case 26:case 27:case 5:ao(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Pn(r);break;case 13:Pn(r);break;case 19:se(At);break;case 10:ws(r.type);break;case 22:case 23:Pn(r),ep(),i!==null&&se(Aa);break;case 24:ws(jt)}}function Ec(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==f)}}catch(S){Je(r,r.return,S)}}function gr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&i)===i){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,f=r;var P=o,K=S;try{K()}catch(Z){Je(f,P,Z)}}}u=u.next}while(u!==y)}}catch(Z){Je(r,r.return,Z)}}function ex(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{q1(r,o)}catch(u){Je(i,i.return,u)}}}function tx(i,r,o){o.props=Da(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,r,u)}}function Sc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Je(i,r,f)}}function Wi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Je(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(i,r,f)}else o.current=null}function nx(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Je(i,i.return,f)}}function kp(i,r,o){try{var u=i.stateNode;i5(u,i.type,o,r),u[Kt]=r}catch(f){Je(i,i.return,f)}}function ix(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Tr(i.type)||i.tag===4}function Mp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ix(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Tr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=mi));else if(u!==4&&(u===27&&Tr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(jp(i,r,o),i=i.sibling;i!==null;)jp(i,r,o),i=i.sibling}function Xh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Tr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Xh(i,r,o),i=i.sibling;i!==null;)Xh(i,r,o),i=i.sibling}function sx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);rn(r,u,o),r[Dt]=i,r[Kt]=o}catch(y){Je(i,i.return,y)}}var Rs=!1,Pt=!1,Vp=!1,rx=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function OC(i,r){if(i=i.containerInfo,ng=yd,i=y1(i),Nm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,S=-1,P=-1,K=0,Z=0,ie=i,Y=null;t:for(;;){for(var X;ie!==o||f!==0&&ie.nodeType!==3||(S=w+f),ie!==y||u!==0&&ie.nodeType!==3||(P=w+u),ie.nodeType===3&&(w+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Y=ie,ie=X;for(;;){if(ie===i)break t;if(Y===o&&++K===f&&(S=w),Y===y&&++Z===u&&(P=w),(X=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=X}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ig={focusedElem:i,selectionRange:o},yd=!1,Qt=r;Qt!==null;)if(r=Qt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Qt=i;else for(;Qt!==null;){switch(r=Qt,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,f=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var pe=Da(o.type,f);i=u.getSnapshotBeforeUpdate(pe,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(xe){Je(o,o.return,xe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ag(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ag(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Qt=i;break}Qt=r.return}}function ax(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Cs(i,o),u&4&&Ec(5,o);break;case 1:if(Cs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){Je(o,o.return,w)}else{var f=Da(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Je(o,o.return,w)}}u&64&&ex(o),u&512&&Sc(o,o.return);break;case 3:if(Cs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{q1(i,r)}catch(w){Je(o,o.return,w)}}break;case 27:r===null&&u&4&&sx(o);case 26:case 5:Cs(i,o),r===null&&u&4&&nx(o),u&512&&Sc(o,o.return);break;case 12:Cs(i,o);break;case 31:Cs(i,o),u&4&&cx(i,o);break;case 13:Cs(i,o),u&4&&ux(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=GC.bind(null,o),h5(i,o))));break;case 22:if(u=o.memoizedState!==null||Rs,!u){r=r!==null&&r.memoizedState!==null||Pt,f=Rs;var y=Pt;Rs=u,(Pt=r)&&!y?Is(i,o,(o.subtreeFlags&8772)!==0):Cs(i,o),Rs=f,Pt=y}break;case 30:break;default:Cs(i,o)}}function ox(i){var r=i.alternate;r!==null&&(i.alternate=null,ox(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ho(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dt=null,wn=!1;function Ns(i,r,o){for(o=o.child;o!==null;)lx(i,r,o),o=o.sibling}function lx(i,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 26:Pt||Wi(o,r),Ns(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Wi(o,r);var u=dt,f=wn;Tr(o.type)&&(dt=o.stateNode,wn=!1),Ns(i,r,o),jc(o.stateNode),dt=u,wn=f;break;case 5:Pt||Wi(o,r);case 6:if(u=dt,f=wn,dt=null,Ns(i,r,o),dt=u,wn=f,dt!==null)if(wn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(y){Je(o,r,y)}else try{dt.removeChild(o.stateNode)}catch(y){Je(o,r,y)}break;case 18:dt!==null&&(wn?(i=dt,e_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Xo(i)):e_(dt,o.stateNode));break;case 4:u=dt,f=wn,dt=o.stateNode.containerInfo,wn=!0,Ns(i,r,o),dt=u,wn=f;break;case 0:case 11:case 14:case 15:gr(2,o,r),Pt||gr(4,o,r),Ns(i,r,o);break;case 1:Pt||(Wi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&tx(o,r,u)),Ns(i,r,o);break;case 21:Ns(i,r,o);break;case 22:Pt=(u=Pt)||o.memoizedState!==null,Ns(i,r,o),Pt=u;break;default:Ns(i,r,o)}}function cx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xo(i)}catch(o){Je(r,r.return,o)}}}function ux(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xo(i)}catch(o){Je(r,r.return,o)}}function PC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new rx),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new rx),r;default:throw Error(s(435,i.tag))}}function Wh(i,r){var o=PC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=$C.bind(null,i,u);u.then(f,f)}})}function Tn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],y=i,w=r,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Tr(S.type)){dt=S.stateNode,wn=!1;break e}break;case 5:dt=S.stateNode,wn=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(dt===null)throw Error(s(160));lx(y,w,f),dt=null,wn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)hx(r,i),r=r.sibling}var xi=null;function hx(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(r,i),En(i),u&4&&(gr(3,i,i.return),Ec(3,i),gr(5,i,i.return));break;case 1:Tn(r,i),En(i),u&512&&(Pt||o===null||Wi(o,o.return)),u&64&&Rs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=xi;if(Tn(r,i),En(i),u&512&&(Pt||o===null||Wi(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Pi]||y[Dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(u),f.head.insertBefore(y,f.querySelector("head > title"))),rn(y,u,o),y[Dt]=i,kt(y),u=y;break e;case"link":var w=h_("link","href",f).get(u+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(y=w[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}y=f.createElement(u),rn(y,u,o),f.head.appendChild(y);break;case"meta":if(w=h_("meta","content",f).get(u+(o.content||""))){for(S=0;S<w.length;S++)if(y=w[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}y=f.createElement(u),rn(y,u,o),f.head.appendChild(y);break;default:throw Error(s(468,u))}y[Dt]=i,kt(y),u=y}i.stateNode=u}else d_(f,i.type,i.stateNode);else i.stateNode=u_(f,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?d_(f,i.type,i.stateNode):u_(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&kp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(r,i),En(i),u&512&&(Pt||o===null||Wi(o,o.return)),o!==null&&u&4&&kp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(r,i),En(i),u&512&&(Pt||o===null||Wi(o,o.return)),i.flags&32){f=i.stateNode;try{_n(f,"")}catch(pe){Je(i,i.return,pe)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,kp(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Vp=!0);break;case 6:if(Tn(r,i),En(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pe){Je(i,i.return,pe)}}break;case 3:if(fd=null,f=xi,xi=hd(r.containerInfo),Tn(r,i),xi=f,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xo(r.containerInfo)}catch(pe){Je(i,i.return,pe)}Vp&&(Vp=!1,dx(i));break;case 4:u=xi,xi=hd(i.stateNode.containerInfo),Tn(r,i),En(i),xi=u;break;case 12:Tn(r,i),En(i);break;case 31:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wh(i,u)));break;case 13:Tn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Jh=pn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wh(i,u)));break;case 22:f=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,K=Rs,Z=Pt;if(Rs=K||f,Pt=Z||P,Tn(r,i),Pt=Z,Rs=K,En(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||P||Rs||Pt||ka(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(y=P.stateNode,f)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=P.stateNode;var ie=P.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){Je(P,P.return,pe)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(pe){Je(P,P.return,pe)}}}else if(r.tag===18){if(o===null){P=r;try{var X=P.stateNode;f?t_(X,!0):t_(P.stateNode,!1)}catch(pe){Je(P,P.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Wh(i,o))));break;case 19:Tn(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wh(i,u)));break;case 30:break;case 21:break;default:Tn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(ix(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,y=Mp(i);Xh(i,y,f);break;case 5:var w=o.stateNode;o.flags&32&&(_n(w,""),o.flags&=-33);var S=Mp(i);Xh(i,S,w);break;case 3:case 4:var P=o.stateNode.containerInfo,K=Mp(i);jp(i,K,P);break;default:throw Error(s(161))}}catch(Z){Je(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function dx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;dx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Cs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ax(i,r.alternate,r),r=r.sibling}function ka(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:gr(4,r,r.return),ka(r);break;case 1:Wi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&tx(r,r.return,o),ka(r);break;case 27:jc(r.stateNode);case 26:case 5:Wi(r,r.return),ka(r);break;case 22:r.memoizedState===null&&ka(r);break;case 30:ka(r);break;default:ka(r)}i=i.sibling}}function Is(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Is(f,y,o),Ec(4,y);break;case 1:if(Is(f,y,o),u=y,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Je(u,u.return,K)}if(u=y,f=u.updateQueue,f!==null){var S=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)H1(P[f],S)}catch(K){Je(u,u.return,K)}}o&&w&64&&ex(y),Sc(y,y.return);break;case 27:sx(y);case 26:case 5:Is(f,y,o),o&&u===null&&w&4&&nx(y),Sc(y,y.return);break;case 12:Is(f,y,o);break;case 31:Is(f,y,o),o&&w&4&&cx(f,y);break;case 13:Is(f,y,o),o&&w&4&&ux(f,y);break;case 22:y.memoizedState===null&&Is(f,y,o),Sc(y,y.return);break;case 30:break;default:Is(f,y,o)}r=r.sibling}}function Op(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&hc(o))}function Pp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&hc(i))}function _i(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fx(i,r,o,u),r=r.sibling}function fx(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_i(i,r,o,u),f&2048&&Ec(9,r);break;case 1:_i(i,r,o,u);break;case 3:_i(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&hc(i)));break;case 12:if(f&2048){_i(i,r,o,u),i=r.stateNode;try{var y=r.memoizedProps,w=y.id,S=y.onPostCommit;typeof S=="function"&&S(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Je(r,r.return,P)}}else _i(i,r,o,u);break;case 31:_i(i,r,o,u);break;case 13:_i(i,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?_i(i,r,o,u):Ac(i,r):y._visibility&2?_i(i,r,o,u):(y._visibility|=2,Uo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Op(w,r);break;case 24:_i(i,r,o,u),f&2048&&Pp(r.alternate,r);break;default:_i(i,r,o,u)}}function Uo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,w=r,S=o,P=u,K=w.flags;switch(w.tag){case 0:case 11:case 15:Uo(y,w,S,P,f),Ec(8,w);break;case 23:break;case 22:var Z=w.stateNode;w.memoizedState!==null?Z._visibility&2?Uo(y,w,S,P,f):Ac(y,w):(Z._visibility|=2,Uo(y,w,S,P,f)),f&&K&2048&&Op(w.alternate,w);break;case 24:Uo(y,w,S,P,f),f&&K&2048&&Pp(w.alternate,w);break;default:Uo(y,w,S,P,f)}r=r.sibling}}function Ac(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Ac(o,u),f&2048&&Op(u.alternate,u);break;case 24:Ac(o,u),f&2048&&Pp(u.alternate,u);break;default:Ac(o,u)}r=r.sibling}}var Rc=8192;function zo(i,r,o){if(i.subtreeFlags&Rc)for(i=i.child;i!==null;)mx(i,r,o),i=i.sibling}function mx(i,r,o){switch(i.tag){case 26:zo(i,r,o),i.flags&Rc&&i.memoizedState!==null&&T5(o,xi,i.memoizedState,i.memoizedProps);break;case 5:zo(i,r,o);break;case 3:case 4:var u=xi;xi=hd(i.stateNode.containerInfo),zo(i,r,o),xi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Rc,Rc=16777216,zo(i,r,o),Rc=u):zo(i,r,o));break;default:zo(i,r,o)}}function px(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Nc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qt=u,yx(u,i)}px(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gx(i),i=i.sibling}function gx(i){switch(i.tag){case 0:case 11:case 15:Nc(i),i.flags&2048&&gr(9,i,i.return);break;case 3:Nc(i);break;case 12:Nc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Zh(i)):Nc(i);break;default:Nc(i)}}function Zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qt=u,yx(u,i)}px(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:gr(8,r,r.return),Zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Zh(r));break;default:Zh(r)}i=i.sibling}}function yx(i,r){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:gr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qt=u;else e:for(o=i;Qt!==null;){u=Qt;var f=u.sibling,y=u.return;if(ox(u),u===o){Qt=null;break e}if(f!==null){f.return=y,Qt=f;break e}Qt=y}}}var LC={getCacheForType:function(i){var r=nn(jt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return nn(jt).controller.signal}},UC=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,je=null,Pe=0,Ze=0,Ln=null,yr=!1,Bo=!1,Lp=!1,Ds=0,bt=0,vr=0,Ma=0,Up=0,Un=0,Fo=0,Cc=null,Sn=null,zp=!1,Jh=0,vx=0,ed=1/0,td=null,br=null,qt=0,xr=null,Ho=null,ks=0,Bp=0,Fp=null,bx=null,Ic=0,Hp=null;function zn(){return(Ye&2)!==0&&Pe!==0?Pe&-Pe:J.T!==null?Qp():nh()}function xx(){if(Un===0)if((Pe&536870912)===0||Fe){var i=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),Un=i}else Un=536870912;return i=On.current,i!==null&&(i.flags|=32),Un}function An(i,r,o){(i===rt&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(qo(i,0),_r(i,Pe,Un,!1)),oa(i,o),((Ye&2)===0||i!==rt)&&(i===rt&&((Ye&2)===0&&(Ma|=o),bt===4&&_r(i,Pe,Un,!1)),Zi(i))}function _x(i,r,o){if((Ye&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||hi(i,r),f=u?FC(i,r):Gp(i,r,!0),y=u;do{if(f===0){Bo&&!u&&_r(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!zC(o)){f=Gp(i,r,!1),y=!1;continue}if(f===2){if(y=r,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var S=i;f=Cc;var P=S.current.memoizedState.isDehydrated;if(P&&(qo(S,w).flags|=256),w=Gp(S,w,!1),w!==2){if(Lp&&!P){S.errorRecoveryDisabledLanes|=y,Ma|=y,f=4;break e}y=Sn,Sn=f,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}f=w}if(y=!1,f!==2)continue}}if(f===1){qo(i,0),_r(i,r,0,!0);break}e:{switch(u=i,y=f,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:_r(u,r,Un,!yr);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Jh+300-pn(),10<f)){if(_r(u,r,Un,!yr),ji(u,0,!0)!==0)break e;ks=r,u.timeoutHandle=Zx(wx.bind(null,u,o,Sn,td,zp,r,Un,Ma,Fo,yr,y,"Throttled",-0,0),f);break e}wx(u,o,Sn,td,zp,r,Un,Ma,Fo,yr,y,null,-0,0)}}break}while(!0);Zi(i)}function wx(i,r,o,u,f,y,w,S,P,K,Z,ie,Y,X){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},mx(r,y,ie);var pe=(y&62914560)===y?Jh-pn():(y&4194048)===y?vx-pn():0;if(pe=E5(ie,pe),pe!==null){ks=y,i.cancelPendingCommit=pe(Ix.bind(null,i,r,y,o,u,f,w,S,P,Z,ie,null,Y,X)),_r(i,y,w,!K);return}}Ix(i,r,y,o,u,f,w,S,P)}function zC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],y=f.getSnapshot;f=f.value;try{if(!jn(y(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _r(i,r,o,u){r&=~Up,r&=~Ma,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var y=31-Et(f),w=1<<y;u[y]=-1,f&=~w}o!==0&&la(i,o,r)}function nd(){return(Ye&6)===0?(Dc(0),!1):!0}function qp(){if(je!==null){if(Ze===0)var i=je.return;else i=je,_s=Ea=null,ap(i),jo=null,fc=0,i=je;for(;i!==null;)Jb(i.alternate,i),i=i.return;je=null}}function qo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,a5(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ks=0,qp(),rt=i,je=o=bs(i.current,null),Pe=r,Ze=0,Ln=null,yr=!1,Bo=hi(i,r),Lp=!1,Fo=Un=Up=Ma=vr=bt=0,Sn=Cc=null,zp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Et(u),y=1<<f;r|=i[f],u&=~y}return Ds=r,Th(),o}function Tx(i,r){Ie=null,J.H=_c,r===Mo||r===Dh?(r=U1(),Ze=3):r===Ym?(r=U1(),Ze=4):Ze=r===wp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,je===null&&(bt=1,Gh(i,Xn(r,i.current)))}function Ex(){var i=On.current;return i===null?!0:(Pe&4194048)===Pe?ei===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===ei:!1}function Sx(){var i=J.H;return J.H=_c,i===null?_c:i}function Ax(){var i=J.A;return J.A=LC,i}function id(){bt=4,yr||(Pe&4194048)!==Pe&&On.current!==null||(Bo=!0),(vr&134217727)===0&&(Ma&134217727)===0||rt===null||_r(rt,Pe,Un,!1)}function Gp(i,r,o){var u=Ye;Ye|=2;var f=Sx(),y=Ax();(rt!==i||Pe!==r)&&(td=null,qo(i,r)),r=!1;var w=bt;e:do try{if(Ze!==0&&je!==null){var S=je,P=Ln;switch(Ze){case 8:qp(),w=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var K=Ze;if(Ze=0,Ln=null,Go(i,S,P,K),o&&Bo){w=0;break e}break;default:K=Ze,Ze=0,Ln=null,Go(i,S,P,K)}}BC(),w=bt;break}catch(Z){Tx(i,Z)}while(!0);return r&&i.shellSuspendCounter++,_s=Ea=null,Ye=u,J.H=f,J.A=y,je===null&&(rt=null,Pe=0,Th()),w}function BC(){for(;je!==null;)Rx(je)}function FC(i,r){var o=Ye;Ye|=2;var u=Sx(),f=Ax();rt!==i||Pe!==r?(td=null,ed=pn()+500,qo(i,r)):Bo=hi(i,r);e:do try{if(Ze!==0&&je!==null){r=je;var y=Ln;t:switch(Ze){case 1:Ze=0,Ln=null,Go(i,r,y,1);break;case 2:case 9:if(P1(y)){Ze=0,Ln=null,Nx(r);break}r=function(){Ze!==2&&Ze!==9||rt!==i||(Ze=7),Zi(i)},y.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:P1(y)?(Ze=0,Ln=null,Nx(r)):(Ze=0,Ln=null,Go(i,r,y,7));break;case 5:var w=null;switch(je.tag){case 26:w=je.memoizedState;case 5:case 27:var S=je;if(w?f_(w):S.stateNode.complete){Ze=0,Ln=null;var P=S.sibling;if(P!==null)je=P;else{var K=S.return;K!==null?(je=K,sd(K)):je=null}break t}}Ze=0,Ln=null,Go(i,r,y,5);break;case 6:Ze=0,Ln=null,Go(i,r,y,6);break;case 8:qp(),bt=6;break e;default:throw Error(s(462))}}HC();break}catch(Z){Tx(i,Z)}while(!0);return _s=Ea=null,J.H=u,J.A=f,Ye=o,je!==null?0:(rt=null,Pe=0,Th(),bt)}function HC(){for(;je!==null&&!_m();)Rx(je)}function Rx(i){var r=Wb(i.alternate,i,Ds);i.memoizedProps=i.pendingProps,r===null?sd(i):je=r}function Nx(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Gb(o,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=Gb(o,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:ap(r);default:Jb(o,r),r=je=A1(r,Ds),r=Wb(o,r,Ds)}i.memoizedProps=i.pendingProps,r===null?sd(i):je=r}function Go(i,r,o,u){_s=Ea=null,ap(r),jo=null,fc=0;var f=r.return;try{if(DC(i,f,r,o,Pe)){bt=1,Gh(i,Xn(o,i.current)),je=null;return}}catch(y){if(f!==null)throw je=f,y;bt=1,Gh(i,Xn(o,i.current)),je=null;return}r.flags&32768?(Fe||u===1?i=!0:Bo||(Pe&536870912)!==0?i=!1:(yr=i=!0,(u===2||u===9||u===3||u===6)&&(u=On.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cx(r,i)):sd(r)}function sd(i){var r=i;do{if((r.flags&32768)!==0){Cx(r,yr);return}i=r.return;var o=jC(r.alternate,r,Ds);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);bt===0&&(bt=5)}function Cx(i,r){do{var o=VC(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);bt=6,je=null}function Ix(i,r,o,u,f,y,w,S,P){i.cancelPendingCommit=null;do rd();while(qt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Mm,Em(i,o,y,w,S,P),i===rt&&(je=rt=null,Pe=0),Ho=r,xr=i,ks=o,Bp=y,Fp=f,bx=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KC(Ws,function(){return Vx(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,f=oe.p,oe.p=2,w=Ye,Ye|=4;try{OC(i,r,o)}finally{Ye=w,oe.p=f,J.T=u}}qt=1,Dx(),kx(),Mx()}}function Dx(){if(qt===1){qt=0;var i=xr,r=Ho,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var f=Ye;Ye|=4;try{hx(r,i);var y=ig,w=y1(i.containerInfo),S=y.focusedElem,P=y.selectionRange;if(w!==S&&S&&S.ownerDocument&&g1(S.ownerDocument.documentElement,S)){if(P!==null&&Nm(S)){var K=P.start,Z=P.end;if(Z===void 0&&(Z=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),pe=S.textContent.length,xe=Math.min(P.start,pe),it=P.end===void 0?xe:Math.min(P.end,pe);!X.extend&&xe>it&&(w=it,it=xe,xe=w);var H=p1(S,xe),z=p1(S,it);if(H&&z&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var $=ie.createRange();$.setStart(H.node,H.offset),X.removeAllRanges(),xe>it?(X.addRange($),X.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),X.addRange($))}}}}for(ie=[],X=S;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}yd=!!ng,ig=ng=null}finally{Ye=f,oe.p=u,J.T=o}}i.current=r,qt=2}}function kx(){if(qt===2){qt=0;var i=xr,r=Ho,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var f=Ye;Ye|=4;try{ax(i,r.alternate,r)}finally{Ye=f,oe.p=u,J.T=o}}qt=3}}function Mx(){if(qt===4||qt===3){qt=0,Qu();var i=xr,r=Ho,o=ks,u=bx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Ho=xr=null,jx(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(br=null),ps(o),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ui,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,f=oe.p,oe.p=2,J.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var S=u[w];y(S.value,{componentStack:S.stack})}}finally{J.T=r,oe.p=f}}(ks&3)!==0&&rd(),Zi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===Hp?Ic++:(Ic=0,Hp=i):Ic=0,Dc(0)}}function jx(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,hc(r)))}function rd(){return Dx(),kx(),Mx(),Vx()}function Vx(){if(qt!==5)return!1;var i=xr,r=Bp;Bp=0;var o=ps(ks),u=J.T,f=oe.p;try{oe.p=32>o?32:o,J.T=null,o=Fp,Fp=null;var y=xr,w=ks;if(qt=0,Ho=xr=null,ks=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,gx(y.current),fx(y,y.current,w,o),Ye=S,Dc(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ui,y)}catch{}return!0}finally{oe.p=f,J.T=u,jx(i,r)}}function Ox(i,r,o){r=Xn(o,r),r=_p(i.stateNode,r,2),i=fr(i,r,2),i!==null&&(oa(i,2),Zi(i))}function Je(i,r,o){if(i.tag===3)Ox(i,i,o);else for(;r!==null;){if(r.tag===3){Ox(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(br===null||!br.has(u))){i=Xn(o,i),o=Pb(2),u=fr(r,o,2),u!==null&&(Lb(o,u,r,i),oa(u,2),Zi(u));break}}r=r.return}}function $p(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new UC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Lp=!0,f.add(o),i=qC.bind(null,i,r,o),r.then(i,i))}function qC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(Pe&o)===o&&(bt===4||bt===3&&(Pe&62914560)===Pe&&300>pn()-Jh?(Ye&2)===0&&qo(i,0):Up|=o,Fo===Pe&&(Fo=0)),Zi(i)}function Px(i,r){r===0&&(r=th()),i=_a(i,r),i!==null&&(oa(i,r),Zi(i))}function GC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Px(i,o)}function $C(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Px(i,o)}function KC(i,r){return Ht(i,r)}var ad=null,$o=null,Kp=!1,od=!1,Yp=!1,wr=0;function Zi(i){i!==$o&&i.next===null&&($o===null?ad=$o=i:$o=$o.next=i),od=!0,Kp||(Kp=!0,QC())}function Dc(i,r){if(!Yp&&od){Yp=!0;do for(var o=!1,u=ad;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var y=0;else{var w=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-Et(42|i)+1)-1,y&=f&~(w&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Bx(u,y))}else y=Pe,y=ji(u,u===rt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||hi(u,y)||(o=!0,Bx(u,y));u=u.next}while(o);Yp=!1}}function YC(){Lx()}function Lx(){od=Kp=!1;var i=0;wr!==0&&r5()&&(i=wr);for(var r=pn(),o=null,u=ad;u!==null;){var f=u.next,y=Ux(u,r);y===0?(u.next=null,o===null?ad=f:o.next=f,f===null&&($o=o)):(o=u,(i!==0||(y&3)!==0)&&(od=!0)),u=f}qt!==0&&qt!==5||Dc(i),wr!==0&&(wr=0)}function Ux(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Et(y),S=1<<w,P=f[w];P===-1?((S&o)===0||(S&u)!==0)&&(f[w]=Tm(S,r)):P<=r&&(i.expiredLanes|=S),y&=~S}if(r=rt,o=Pe,o=ji(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Xs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||hi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Xs(u),ps(o)){case 2:case 8:o=Bl;break;case 32:o=Ws;break;case 268435456:o=Xu;break;default:o=Ws}return u=zx.bind(null,i),o=Ht(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Xs(u),i.callbackPriority=2,i.callbackNode=null,2}function zx(i,r){if(qt!==0&&qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(rd()&&i.callbackNode!==o)return null;var u=Pe;return u=ji(i,i===rt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(_x(i,u,r),Ux(i,pn()),i.callbackNode!=null&&i.callbackNode===o?zx.bind(null,i):null)}function Bx(i,r){if(rd())return null;_x(i,r,!0)}function QC(){o5(function(){(Ye&6)!==0?Ht(zl,YC):Lx()})}function Qp(){if(wr===0){var i=Do;i===0&&(i=ki,ki<<=1,(ki&261888)===0&&(ki=256)),wr=i}return wr}function Fx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:go(""+i)}function Hx(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function XC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var y=Fx((f[Kt]||null).action),w=u.submitter;w&&(r=(r=w[Kt]||null)?Fx(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var S=new Gi("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wr!==0){var P=w?Hx(f,w):new FormData(f);pp(o,{pending:!0,data:P,method:f.method,action:y},null,P)}}else typeof y=="function"&&(S.preventDefault(),P=w?Hx(f,w):new FormData(f),pp(o,{pending:!0,data:P,method:f.method,action:y},y,P))},currentTarget:f}]})}}for(var Xp=0;Xp<km.length;Xp++){var Wp=km[Xp],WC=Wp.toLowerCase(),ZC=Wp[0].toUpperCase()+Wp.slice(1);bi(WC,"on"+ZC)}bi(x1,"onAnimationEnd"),bi(_1,"onAnimationIteration"),bi(w1,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(mC,"onTransitionRun"),bi(pC,"onTransitionStart"),bi(gC,"onTransitionCancel"),bi(T1,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function qx(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var S=u[w],P=S.instance,K=S.currentTarget;if(S=S.listener,P!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=K;try{y(f)}catch(Z){wh(Z)}f.currentTarget=null,y=P}else for(w=0;w<u.length;w++){if(S=u[w],P=S.instance,K=S.currentTarget,S=S.listener,P!==y&&f.isPropagationStopped())break e;y=S,f.currentTarget=K;try{y(f)}catch(Z){wh(Z)}f.currentTarget=null,y=P}}}}function Ve(i,r){var o=r[uo];o===void 0&&(o=r[uo]=new Set);var u=i+"__bubble";o.has(u)||(Gx(r,i,2,!1),o.add(u))}function Zp(i,r,o){var u=0;r&&(u|=4),Gx(o,i,u,r)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Jp(i){if(!i[ld]){i[ld]=!0,ql.forEach(function(o){o!=="selectionchange"&&(JC.has(o)||Zp(o,!1,i),Zp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ld]||(r[ld]=!0,Zp("selectionchange",!1,r))}}function Gx(i,r,o,u){switch(x_(r)){case 2:var f=R5;break;case 8:f=N5;break;default:f=mg}o=f.bind(null,r,o,i),f=void 0,!fa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function eg(i,r,o,u,f){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===f)break;if(w===4)for(w=u.return;w!==null;){var P=w.tag;if((P===3||P===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;S!==null;){if(w=Li(S),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){u=y=w;continue e}S=S.parentNode}}u=u.return}ir(function(){var K=y,Z=$n(o),ie=[];e:{var Y=E1.get(i);if(Y!==void 0){var X=Gi,pe=i;switch(i){case"keypress":if(pa(o)===0)break e;case"keydown":case"keyup":X=bh;break;case"focusin":pe="focus",X=ya;break;case"focusout":pe="blur",X=ya;break;case"beforeblur":case"afterblur":X=ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=x;break;case x1:case _1:case w1:X=dh;break;case T1:X=A;break;case"scroll":case"scrollend":X=nc;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=vs;break;case"toggle":case"beforetoggle":X=Ce}var xe=(r&4)!==0,it=!xe&&(i==="scroll"||i==="scrollend"),H=xe?Y!==null?Y+"Capture":null:Y;xe=[];for(var z=K,$;z!==null;){var te=z;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||H===null||(te=pi(z,H),te!=null&&xe.push(Mc(z,te,$))),it)break;z=z.return}0<xe.length&&(Y=new X(Y,pe,null,o,Z),ie.push({event:Y,listeners:xe}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Jl&&(pe=o.relatedTarget||o.fromElement)&&(Li(pe)||pe[Oi]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(pe=o.relatedTarget||o.toElement,X=K,pe=pe?Li(pe):null,pe!==null&&(it=l(pe),xe=pe.tag,pe!==it||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(X=null,pe=K),X!==pe)){if(xe=ic,te="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(xe=vs,te="onPointerLeave",H="onPointerEnter",z="pointer"),it=X==null?Y:kn(X),$=pe==null?Y:kn(pe),Y=new xe(te,z+"leave",X,o,Z),Y.target=it,Y.relatedTarget=$,te=null,Li(Z)===K&&(xe=new xe(H,z+"enter",pe,o,Z),xe.target=$,xe.relatedTarget=it,te=xe),it=te,X&&pe)t:{for(xe=e5,H=X,z=pe,$=0,te=H;te;te=xe(te))$++;te=0;for(var ve=z;ve;ve=xe(ve))te++;for(;0<$-te;)H=xe(H),$--;for(;0<te-$;)z=xe(z),te--;for(;$--;){if(H===z||z!==null&&H===z.alternate){xe=H;break t}H=xe(H),z=xe(z)}xe=null}else xe=null;X!==null&&$x(ie,Y,X,xe,!1),pe!==null&&it!==null&&$x(ie,it,pe,xe,!0)}}e:{if(Y=K?kn(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ge=c1;else if(o1(Y))if(u1)Ge=hC;else{Ge=cC;var ye=lC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&po(K.elementType)&&(Ge=c1):Ge=uC;if(Ge&&(Ge=Ge(i,K))){l1(ie,Ge,o,Z);break e}ye&&ye(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Xl(Y,"number",Y.value)}switch(ye=K?kn(K):window,i){case"focusin":(o1(ye)||ye.contentEditable==="true")&&(To=ye,Cm=K,lc=null);break;case"focusout":lc=Cm=To=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,v1(ie,o,Z);break;case"selectionchange":if(fC)break;case"keydown":case"keyup":v1(ie,o,Z)}var Me;if(Ke)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else wo?va(i,o)&&(Le="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Yi&&o.locale!=="ko"&&(wo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&wo&&(Me=tc()):(qi=Z,ec="value"in qi?qi.value:qi.textContent,wo=!0)),ye=cd(K,Le),0<ye.length&&(Le=new Ki(Le,i,null,o,Z),ie.push({event:Le,listeners:ye}),Me?Le.data=Me:(Me=_o(o),Me!==null&&(Le.data=Me)))),(Me=Yn?sC(i,o):rC(i,o))&&(Le=cd(K,"onBeforeInput"),0<Le.length&&(ye=new Ki("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ye,listeners:Le}),ye.data=Me)),XC(ie,i,K,o,Z)}qx(ie,r)})}function Mc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function cd(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=pi(i,o),f!=null&&u.unshift(Mc(i,f,y)),f=pi(i,r),f!=null&&u.push(Mc(i,f,y))),i.tag===3)return u;i=i.return}return[]}function e5(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $x(i,r,o,u,f){for(var y=r._reactName,w=[];o!==null&&o!==u;){var S=o,P=S.alternate,K=S.stateNode;if(S=S.tag,P!==null&&P===u)break;S!==5&&S!==26&&S!==27||K===null||(P=K,f?(K=pi(o,y),K!=null&&w.unshift(Mc(o,K,P))):f||(K=pi(o,y),K!=null&&w.push(Mc(o,K,P)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var t5=/\r\n?/g,n5=/\u0000|\uFFFD/g;function Kx(i){return(typeof i=="string"?i:""+i).replace(t5,`
`).replace(n5,"")}function Yx(i,r){return r=Kx(r),Kx(i)===r}function nt(i,r,o,u,f,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||_n(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&_n(i,""+u);break;case"className":Mn(i,"class",u);break;case"tabIndex":Mn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(i,o,u);break;case"style":Zl(i,u,y);break;case"data":if(r!=="object"){Mn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=go(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&nt(i,r,"name",f.name,f,null),nt(i,r,"formEncType",f.formEncType,f,null),nt(i,r,"formMethod",f.formMethod,f,null),nt(i,r,"formTarget",f.formTarget,f,null)):(nt(i,r,"encType",f.encType,f,null),nt(i,r,"method",f.method,f,null),nt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=go(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=mi);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=go(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),fo(i,"popover",u);break;case"xlinkActuate":Mt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ch.get(o)||o,fo(i,o,u))}}function tg(i,r,o,u,f,y){switch(o){case"style":Zl(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?_n(i,u):(typeof u=="number"||typeof u=="bigint")&&_n(i,""+u);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"onClick":u!=null&&(i.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),y=i[Kt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,f),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):fo(i,o,u)}}}function rn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var u=!1,f=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,y,w,o,null)}}f&&nt(i,r,"srcSet",o.srcSet,o,null),u&&nt(i,r,"src",o.src,o,null);return;case"input":Ve("invalid",i);var S=y=w=f=null,P=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":w=Z;break;case"checked":P=Z;break;case"defaultChecked":K=Z;break;case"value":y=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:nt(i,r,u,Z,o,null)}}ah(i,y,S,P,K,w,f,!1);return;case"select":Ve("invalid",i),u=w=y=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":y=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:nt(i,r,f,S,o,null)}r=y,o=w,i.multiple=!!u,r!=null?Js(i,!!u,r,!1):o!=null&&Js(i,!!u,o,!0);return;case"textarea":Ve("invalid",i),y=f=u=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":f=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:nt(i,r,w,S,o,null)}er(i,u,f,y);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(i,r,P,u,o,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(u=0;u<kc.length;u++)Ve(kc[u],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,K,u,o,null)}return;default:if(po(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&tg(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&nt(i,r,S,u,o,null))}function i5(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,w=null,S=null,P=null,K=null,Z=null;for(X in o){var ie=o[X];if(o.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=ie;default:u.hasOwnProperty(X)||nt(i,r,X,null,u,ie)}}for(var Y in u){var X=u[Y];if(ie=o[Y],u.hasOwnProperty(Y)&&(X!=null||ie!=null))switch(Y){case"type":y=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":w=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ie&&nt(i,r,Y,X,u,ie)}}mo(i,w,S,P,K,Z,y,f);return;case"select":X=w=S=Y=null;for(y in o)if(P=o[y],o.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":X=P;default:u.hasOwnProperty(y)||nt(i,r,y,null,u,P)}for(f in u)if(y=u[f],P=o[f],u.hasOwnProperty(f)&&(y!=null||P!=null))switch(f){case"value":Y=y;break;case"defaultValue":S=y;break;case"multiple":w=y;default:y!==P&&nt(i,r,f,y,u,P)}r=S,o=w,u=X,Y!=null?Js(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Js(i,!!o,r,!0):Js(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(i,r,S,null,u,f)}for(w in u)if(f=u[w],y=o[w],u.hasOwnProperty(w)&&(f!=null||y!=null))switch(w){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==y&&nt(i,r,w,f,u,y)}oh(i,Y,X);return;case"option":for(var pe in o)if(Y=o[pe],o.hasOwnProperty(pe)&&Y!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:nt(i,r,pe,null,u,Y)}for(P in u)if(Y=u[P],X=o[P],u.hasOwnProperty(P)&&Y!==X&&(Y!=null||X!=null))switch(P){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:nt(i,r,P,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Y=o[xe],o.hasOwnProperty(xe)&&Y!=null&&!u.hasOwnProperty(xe)&&nt(i,r,xe,null,u,Y);for(K in u)if(Y=u[K],X=o[K],u.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:nt(i,r,K,Y,u,X)}return;default:if(po(r)){for(var it in o)Y=o[it],o.hasOwnProperty(it)&&Y!==void 0&&!u.hasOwnProperty(it)&&tg(i,r,it,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||tg(i,r,Z,Y,u,X);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&nt(i,r,H,null,u,Y);for(ie in u)Y=u[ie],X=o[ie],!u.hasOwnProperty(ie)||Y===X||Y==null&&X==null||nt(i,r,ie,Y,u,X)}function Qx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s5(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],y=f.transferSize,w=f.initiatorType,S=f.duration;if(y&&S&&Qx(w)){for(w=0,S=f.responseEnd,u+=1;u<o.length;u++){var P=o[u],K=P.startTime;if(K>S)break;var Z=P.transferSize,ie=P.initiatorType;Z&&Qx(ie)&&(P=P.responseEnd,w+=Z*(P<S?1:(S-K)/(P-K)))}if(--u,r+=8*(y+w)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ng=null,ig=null;function ud(i){return i.nodeType===9?i:i.ownerDocument}function Xx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wx(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function sg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rg=null;function r5(){var i=window.event;return i&&i.type==="popstate"?i===rg?!1:(rg=i,!0):(rg=null,!1)}var Zx=typeof setTimeout=="function"?setTimeout:void 0,a5=typeof clearTimeout=="function"?clearTimeout:void 0,Jx=typeof Promise=="function"?Promise:void 0,o5=typeof queueMicrotask=="function"?queueMicrotask:typeof Jx<"u"?function(i){return Jx.resolve(null).then(i).catch(l5)}:Zx;function l5(i){setTimeout(function(){throw i})}function Tr(i){return i==="head"}function e_(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Xo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")jc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,jc(o);for(var y=o.firstChild;y;){var w=y.nextSibling,S=y.nodeName;y[Pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&jc(i.ownerDocument.body);o=f}while(o);Xo(r)}function t_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function ag(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ag(o),ho(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function c5(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Pi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function u5(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ti(i.nextSibling),i===null))return null;return i}function n_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ti(i.nextSibling),i===null))return null;return i}function og(i){return i.data==="$?"||i.data==="$~"}function lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function h5(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ti(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var cg=null;function i_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ti(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function s_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function r_(i,r,o){switch(r=ud(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function jc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ho(i)}var ni=new Map,a_=new Set;function hd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ms=oe.d;oe.d={f:d5,r:f5,D:m5,C:p5,L:g5,m:y5,X:b5,S:v5,M:x5};function d5(){var i=Ms.f(),r=nd();return i||r}function f5(i){var r=Gn(i);r!==null&&r.tag===5&&r.type==="form"?Tb(r):Ms.r(i)}var Ko=typeof document>"u"?null:document;function o_(i,r,o){var u=Ko;if(u&&typeof r=="string"&&r){var f=xn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),a_.has(f)||(a_.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),rn(r,"link",i),kt(r),u.head.appendChild(r)))}}function m5(i){Ms.D(i),o_("dns-prefetch",i,null)}function p5(i,r){Ms.C(i,r),o_("preconnect",i,r)}function g5(i,r,o){Ms.L(i,r,o);var u=Ko;if(u&&i&&r){var f='link[rel="preload"][as="'+xn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+xn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+xn(o.imageSizes)+'"]')):f+='[href="'+xn(i)+'"]';var y=f;switch(r){case"style":y=Yo(i);break;case"script":y=Qo(i)}ni.has(y)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ni.set(y,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Vc(y))||r==="script"&&u.querySelector(Oc(y))||(r=u.createElement("link"),rn(r,"link",i),kt(r),u.head.appendChild(r)))}}function y5(i,r){Ms.m(i,r);var o=Ko;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+xn(u)+'"][href="'+xn(i)+'"]',y=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Qo(i)}if(!ni.has(y)&&(i=b({rel:"modulepreload",href:i},r),ni.set(y,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Oc(y)))return}u=o.createElement("link"),rn(u,"link",i),kt(u),o.head.appendChild(u)}}}function v5(i,r,o){Ms.S(i,r,o);var u=Ko;if(u&&i){var f=Ui(u).hoistableStyles,y=Yo(i);r=r||"default";var w=f.get(y);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(Vc(y)))S.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ni.get(y))&&ug(i,o);var P=w=u.createElement("link");kt(P),rn(P,"link",i),P._p=new Promise(function(K,Z){P.onload=K,P.onerror=Z}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,dd(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:S},f.set(y,w)}}}function b5(i,r){Ms.X(i,r);var o=Ko;if(o&&i){var u=Ui(o).hoistableScripts,f=Qo(i),y=u.get(f);y||(y=o.querySelector(Oc(f)),y||(i=b({src:i,async:!0},r),(r=ni.get(f))&&hg(i,r),y=o.createElement("script"),kt(y),rn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function x5(i,r){Ms.M(i,r);var o=Ko;if(o&&i){var u=Ui(o).hoistableScripts,f=Qo(i),y=u.get(f);y||(y=o.querySelector(Oc(f)),y||(i=b({src:i,async:!0,type:"module"},r),(r=ni.get(f))&&hg(i,r),y=o.createElement("script"),kt(y),rn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(f,y))}}function l_(i,r,o,u){var f=(f=ke.current)?hd(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Yo(o.href),o=Ui(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Yo(o.href);var y=Ui(f).hoistableStyles,w=y.get(i);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=f.querySelector(Vc(i)))&&!y._p&&(w.instance=y,w.state.loading=5),ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(i,o),y||_5(f,i,o,w.state))),r&&u===null)throw Error(s(528,""));return w}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Qo(o),o=Ui(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Yo(i){return'href="'+xn(i)+'"'}function Vc(i){return'link[rel="stylesheet"]['+i+"]"}function c_(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function _5(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),rn(r,"link",o),kt(r),i.head.appendChild(r))}function Qo(i){return'[src="'+xn(i)+'"]'}function Oc(i){return"script[async]"+i}function u_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+xn(o.href)+'"]');if(u)return r.instance=u,kt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),kt(u),rn(u,"style",f),dd(u,o.precedence,i),r.instance=u;case"stylesheet":f=Yo(o.href);var y=i.querySelector(Vc(f));if(y)return r.state.loading|=4,r.instance=y,kt(y),y;u=c_(o),(f=ni.get(f))&&ug(u,f),y=(i.ownerDocument||i).createElement("link"),kt(y);var w=y;return w._p=new Promise(function(S,P){w.onload=S,w.onerror=P}),rn(y,"link",u),r.state.loading|=4,dd(y,o.precedence,i),r.instance=y;case"script":return y=Qo(o.src),(f=i.querySelector(Oc(y)))?(r.instance=f,kt(f),f):(u=o,(f=ni.get(y))&&(u=b({},o),hg(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),kt(f),rn(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,dd(u,o.precedence,i));return r.instance}function dd(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,y=f,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===r)y=S;else if(y!==f)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ug(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function hg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var fd=null;function h_(i,r,o){if(fd===null){var u=new Map,f=fd=new Map;f.set(o,u)}else f=fd,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var y=o[f];if(!(y[Pi]||y[Dt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=i+w;var S=u.get(w);S?S.push(y):u.set(w,[y])}}return u}function d_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function w5(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function f_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function T5(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Yo(u.href),y=r.querySelector(Vc(f));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=md.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,kt(y);return}y=r.ownerDocument||r,u=c_(u),(f=ni.get(f))&&ug(u,f),y=y.createElement("link"),kt(y);var w=y;w._p=new Promise(function(S,P){w.onload=S,w.onerror=P}),rn(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=md.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var dg=0;function E5(i,r){return i.stylesheets&&i.count===0&&gd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&gd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&dg===0&&(dg=62500*s5());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>dg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pd=null;function gd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pd=new Map,r.forEach(S5,i),pd=null,md.call(i))}function S5(i,r){if(!(r.state.loading&4)){var o=pd.get(i);if(o)var u=o.get(null);else{o=new Map,pd.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var w=f[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}f=r.instance,w=f.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,f),o.set(w,f),this.count++,u=md.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),y?y.parentNode.insertBefore(f,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Pc={$$typeof:N,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function A5(i,r,o,u,f,y,w,S,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function m_(i,r,o,u,f,y,w,S,P,K,Z,ie){return i=new A5(i,r,o,w,P,K,Z,ie,S),r=1,y===!0&&(r|=24),y=Vn(3,null,null,r),i.current=y,y.stateNode=i,r=Gm(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Qm(y),i}function p_(i){return i?(i=Ao,i):Ao}function g_(i,r,o,u,f,y){f=p_(f),u.context===null?u.context=f:u.pendingContext=f,u=dr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=fr(i,u,r),o!==null&&(An(o,i,r),pc(o,i,r))}function y_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function fg(i,r){y_(i,r),(i=i.alternate)&&y_(i,r)}function v_(i){if(i.tag===13||i.tag===31){var r=_a(i,67108864);r!==null&&An(r,i,67108864),fg(i,67108864)}}function b_(i){if(i.tag===13||i.tag===31){var r=zn();r=ca(r);var o=_a(i,r);o!==null&&An(o,i,r),fg(i,r)}}var yd=!0;function R5(i,r,o,u){var f=J.T;J.T=null;var y=oe.p;try{oe.p=2,mg(i,r,o,u)}finally{oe.p=y,J.T=f}}function N5(i,r,o,u){var f=J.T;J.T=null;var y=oe.p;try{oe.p=8,mg(i,r,o,u)}finally{oe.p=y,J.T=f}}function mg(i,r,o,u){if(yd){var f=pg(u);if(f===null)eg(i,r,u,vd,o),__(i,u);else if(I5(f,i,r,o,u))u.stopPropagation();else if(__(i,u),r&4&&-1<C5.indexOf(i)){for(;f!==null;){var y=Gn(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Mi(y.pendingLanes);if(w!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var P=1<<31-Et(w);S.entanglements[1]|=P,w&=~P}Zi(y),(Ye&6)===0&&(ed=pn()+500,Dc(0))}}break;case 31:case 13:S=_a(y,2),S!==null&&An(S,y,2),nd(),fg(y,2)}if(y=pg(u),y===null&&eg(i,r,u,vd,o),y===f)break;f=y}f!==null&&u.stopPropagation()}else eg(i,r,u,null,o)}}function pg(i){return i=$n(i),gg(i)}var vd=null;function gg(i){if(vd=null,i=Li(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return vd=i,null}function x_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ra()){case zl:return 2;case Bl:return 8;case Ws:case wm:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var yg=!1,Er=null,Sr=null,Ar=null,Lc=new Map,Uc=new Map,Rr=[],C5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(i,r){switch(i){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Lc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(r.pointerId)}}function zc(i,r,o,u,f,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[f]},r!==null&&(r=Gn(r),r!==null&&v_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function I5(i,r,o,u,f){switch(r){case"focusin":return Er=zc(Er,i,r,o,u,f),!0;case"dragenter":return Sr=zc(Sr,i,r,o,u,f),!0;case"mouseover":return Ar=zc(Ar,i,r,o,u,f),!0;case"pointerover":var y=f.pointerId;return Lc.set(y,zc(Lc.get(y)||null,i,r,o,u,f)),!0;case"gotpointercapture":return y=f.pointerId,Uc.set(y,zc(Uc.get(y)||null,i,r,o,u,f)),!0}return!1}function w_(i){var r=Li(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,di(i.priority,function(){b_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,di(i.priority,function(){b_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=pg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Jl=u,o.target.dispatchEvent(u),Jl=null}else return r=Gn(o),r!==null&&v_(r),i.blockedOn=o,!1;r.shift()}return!0}function T_(i,r,o){bd(i)&&o.delete(r)}function D5(){yg=!1,Er!==null&&bd(Er)&&(Er=null),Sr!==null&&bd(Sr)&&(Sr=null),Ar!==null&&bd(Ar)&&(Ar=null),Lc.forEach(T_),Uc.forEach(T_)}function xd(i,r){i.blockedOn===r&&(i.blockedOn=null,yg||(yg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,D5)))}var _d=null;function E_(i){_d!==i&&(_d=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_d===i&&(_d=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(gg(u||o)===null)continue;break}var y=Gn(o);y!==null&&(i.splice(r,3),r-=3,pp(y,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Xo(i){function r(P){return xd(P,i)}Er!==null&&xd(Er,i),Sr!==null&&xd(Sr,i),Ar!==null&&xd(Ar,i),Lc.forEach(r),Uc.forEach(r);for(var o=0;o<Rr.length;o++){var u=Rr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Rr.length&&(o=Rr[0],o.blockedOn===null);)w_(o),o.blockedOn===null&&Rr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],y=o[u+1],w=f[Kt]||null;if(typeof y=="function")w||E_(o);else if(w){var S=null;if(y&&y.hasAttribute("formAction")){if(f=y,w=y[Kt]||null)S=w.formAction;else if(gg(f)!==null)continue}else S=w.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),E_(o)}}}function S_(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function vg(i){this._internalRoot=i}wd.prototype.render=vg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=zn();g_(o,u,i,r,null,null)},wd.prototype.unmount=vg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;g_(i.current,2,null,i,null,null),nd(),r[Oi]=null}};function wd(i){this._internalRoot=i}wd.prototype.unstable_scheduleHydration=function(i){if(i){var r=nh();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Rr.length&&r!==0&&r<Rr[o].priority;o++);Rr.splice(o,0,i),o===0&&w_(i)}};var A_=e.version;if(A_!=="19.2.3")throw Error(s(527,A_,"19.2.3"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var k5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{ui=Td.inject(k5),Jt=Td}catch{}}return Fc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Mb,y=jb,w=Vb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=m_(i,1,!1,null,null,o,u,null,f,y,w,S_),i[Oi]=r.current,Jp(i),new vg(r)},Fc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",y=Mb,w=jb,S=Vb,P=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),r=m_(i,1,!0,r,o??null,u,f,P,y,w,S,S_),r.context=p_(null),o=r.current,u=zn(),u=ca(u),f=dr(u),f.callback=null,fr(o,f,u),o=u,r.current.lanes=o,oa(r,o),Zi(r),i[Oi]=r.current,Jp(i),new wd(r)},Fc.version="19.2.3",Fc}var O_;function F5(){if(O_)return _g.exports;O_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=B5(),_g.exports}var H5=F5();const q5=tE(H5);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P_="popstate";function G5(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return a0("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:fu(a)}return K5(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $5(){return Math.random().toString(36).substring(2,10)}function L_(t,e){return{usr:t.state,key:t.key,idx:e}}function a0(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||s||$5()}}function fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function El(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function K5(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let C=v(),V=C==null?null:C-g;g=C,m&&m({action:d,location:k.location,delta:V})}function _(C,V){d="PUSH";let F=a0(k.location,C,V);g=v()+1;let N=L_(F,g),W=k.createHref(F);try{c.pushState(N,"",W)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(W)}l&&m&&m({action:d,location:k.location,delta:1})}function E(C,V){d="REPLACE";let F=a0(k.location,C,V);g=v();let N=L_(F,g),W=k.createHref(F);c.replaceState(N,"",W),l&&m&&m({action:d,location:k.location,delta:0})}function M(C){return Y5(C)}let k={get action(){return d},get location(){return t(a,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(P_,b),m=C,()=>{a.removeEventListener(P_,b),m=null}},createHref(C){return e(a,C)},createURL:M,encodeLocation(C){let V=M(C);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:E,go(C){return c.go(C)}};return k}function Y5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:fu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function nE(t,e,n="/"){return Q5(t,e,n,!1)}function Q5(t,e,n,s){let a=typeof e=="string"?El(e):e,l=Bs(a.pathname||"/",n);if(l==null)return null;let c=iE(t);X5(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=o4(l);d=r4(c[m],g,s)}return d}function iE(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;ft(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Ls([s,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),iE(c.children,e,_,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:i4(b,c.index),routesMeta:_})};return t.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,d);else for(let g of sE(c.path))l(c,d,!0,g)}),e}function sE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=sE(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function X5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s4(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var W5=/^:[\w-]+$/,Z5=3,J5=2,e4=1,t4=10,n4=-2,U_=t=>t==="*";function i4(t,e){let n=t.split("/"),s=n.length;return n.some(U_)&&(s+=n4),e&&(s+=J5),n.filter(a=>!U_(a)).reduce((a,l)=>a+(W5.test(l)?Z5:l===""?e4:t4),s)}function s4(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function r4(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=af({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),_=m.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=af({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Ls([l,b.pathname]),pathnameBase:h4(Ls([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=Ls([l,b.pathnameBase]))}return c}function af(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=a4(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},_)=>{if(v==="*"){let M=d[_]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const E=d[_];return b&&!E?g[v]=void 0:g[v]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function a4(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function o4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l4=t=>rE.test(t);function c4(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?El(t):t,l;if(n)if(l4(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=z_(n.substring(1),"/"):l=z_(n,e)}else l=e;return{pathname:l,search:d4(s),hash:f4(a)}}function z_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Sg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cy(t){let e=u4(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function uy(t,e,n,s=!1){let a;typeof t=="string"?a=El(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),Sg("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Sg("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Sg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let m=c4(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Ls=t=>t.join("/").replace(/\/\/+/g,"/"),h4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,f4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,m4=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function p4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function g4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oE(t,e){let n=t;if(typeof n!="string"||!rE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(aE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Bs(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lE=["POST","PUT","PATCH","DELETE"];new Set(lE);var y4=["GET",...lE];new Set(y4);var Sl=D.createContext(null);Sl.displayName="DataRouter";var Lf=D.createContext(null);Lf.displayName="DataRouterState";var v4=D.createContext(!1),cE=D.createContext({isTransitioning:!1});cE.displayName="ViewTransition";var b4=D.createContext(new Map);b4.displayName="Fetchers";var x4=D.createContext(null);x4.displayName="Await";var Hn=D.createContext(null);Hn.displayName="Navigation";var Ru=D.createContext(null);Ru.displayName="Location";var Ii=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var hy=D.createContext(null);hy.displayName="RouteError";var uE="REACT_ROUTER_ERROR",_4="REDIRECT",w4="ROUTE_ERROR_RESPONSE";function T4(t){if(t.startsWith(`${uE}:${_4}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function E4(t){if(t.startsWith(`${uE}:${w4}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new m4(e.status,e.statusText,e.data)}catch{}}function S4(t,{relative:e}={}){ft(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(Hn),{hash:a,pathname:l,search:c}=Nu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ls([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Al(){return D.useContext(Ru)!=null}function Wr(){return ft(Al(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Ru).location}var hE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dE(t){D.useContext(Hn).static||D.useLayoutEffect(t)}function fE(){let{isDataRoute:t}=D.useContext(Ii);return t?z4():A4()}function A4(){ft(Al(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Sl),{basename:e,navigator:n}=D.useContext(Hn),{matches:s}=D.useContext(Ii),{pathname:a}=Wr(),l=JSON.stringify(cy(s)),c=D.useRef(!1);return dE(()=>{c.current=!0}),D.useCallback((m,g={})=>{if(ci(c.current,hE),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=uy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ls([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}var R4=D.createContext(null);function N4(t){let e=D.useContext(Ii).outlet;return D.useMemo(()=>e&&D.createElement(R4.Provider,{value:t},e),[e,t])}function Nu(t,{relative:e}={}){let{matches:n}=D.useContext(Ii),{pathname:s}=Wr(),a=JSON.stringify(cy(n));return D.useMemo(()=>uy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function C4(t,e){return mE(t,e)}function mE(t,e,n,s,a){var F;ft(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Hn),{matches:c}=D.useContext(Ii),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let N=b&&b.path||"";gE(g,!b||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=Wr(),E;if(e){let N=typeof e=="string"?El(e):e;ft(v==="/"||((F=N.pathname)==null?void 0:F.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${N.pathname}" was given in the \`location\` prop.`),E=N}else E=_;let M=E.pathname||"/",k=M;if(v!=="/"){let N=v.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=nE(t,{pathname:k});ci(b||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ci(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=j4(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Ls([v,l.encodeLocation?l.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:Ls([v,l.encodeLocation?l.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,n,s,a);return e&&V?D.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function I4(){let t=U4(),e=p4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var D4=D.createElement(I4,null),pE=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=E4(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(Ii.Provider,{value:this.props.routeContext},D.createElement(hy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(k4,{error:t},e):e}};pE.contextType=v4;var Ag=new WeakMap;function k4({children:t,error:e}){let{basename:n}=D.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=T4(e.digest);if(s){let a=Ag.get(e);if(a)throw a;let l=oE(s.location,n);if(aE&&!Ag.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Ag.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function M4({routeContext:t,match:e,children:n}){let s=D.useContext(Sl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ii.Provider,{value:t},n)}function j4(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:_,errors:E}=n,M=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||M){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(v,b)=>{var _,E;s(v,{location:n.location,params:((E=(_=n.matches)==null?void 0:_[0])==null?void 0:E.params)??{},unstable_pattern:g4(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let E,M=!1,k=null,C=null;n&&(E=c&&b.route.id?c[b.route.id]:void 0,k=b.route.errorElement||D4,d&&(m<0&&_===0?(gE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,C=null):m===_&&(M=!0,C=b.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,_+1)),F=()=>{let N;return E?N=k:M?N=C:b.route.Component?N=D.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=v,D.createElement(M4,{match:b,routeContext:{outlet:v,matches:V,isDataRoute:n!=null},children:N})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?D.createElement(pE,{location:n.location,revalidation:n.revalidation,component:k,error:E,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:g}):F()},null)}function dy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V4(t){let e=D.useContext(Sl);return ft(e,dy(t)),e}function O4(t){let e=D.useContext(Lf);return ft(e,dy(t)),e}function P4(t){let e=D.useContext(Ii);return ft(e,dy(t)),e}function fy(t){let e=P4(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function L4(){return fy("useRouteId")}function U4(){var s;let t=D.useContext(hy),e=O4("useRouteError"),n=fy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function z4(){let{router:t}=V4("useNavigate"),e=fy("useNavigate"),n=D.useRef(!1);return dE(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{ci(n.current,hE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var B_={};function gE(t,e,n){!e&&!B_[t]&&(B_[t]=!0,ci(!1,n))}D.memo(B4);function B4({routes:t,future:e,state:n,onError:s}){return mE(t,void 0,n,s,e)}function F4({to:t,replace:e,state:n,relative:s}){ft(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Hn);ci(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(Ii),{pathname:c}=Wr(),d=fE(),m=uy(t,cy(l),c,s==="path"),g=JSON.stringify(m);return D.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function H4(t){return N4(t.context)}function Ir(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q4({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=El(n));let{pathname:g="/",search:v="",hash:b="",state:_=null,key:E="default"}=n,M=D.useMemo(()=>{let k=Bs(g,d);return k==null?null:{location:{pathname:k,search:v,hash:b,state:_,key:E},navigationType:s}},[d,g,v,b,_,E,s]);return ci(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:D.createElement(Hn.Provider,{value:m},D.createElement(Ru.Provider,{children:e,value:M}))}function G4({children:t,location:e}){return C4(o0(t),e)}function o0(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){n.push.apply(n,o0(s.props.children,l));return}ft(s.type===Ir,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=o0(s.props.children,l)),n.push(c)}),n}var Bd="get",Fd="application/x-www-form-urlencoded";function Uf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function $4(t){return Uf(t)&&t.tagName.toLowerCase()==="button"}function K4(t){return Uf(t)&&t.tagName.toLowerCase()==="form"}function Y4(t){return Uf(t)&&t.tagName.toLowerCase()==="input"}function Q4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X4(t,e){return t.button===0&&(!e||e==="_self")&&!Q4(t)}var Ed=null;function W4(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var Z4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(t){return t!=null&&!Z4.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):t}function J4(t,e){let n,s,a,l,c;if(K4(t)){let d=t.getAttribute("action");s=d?Bs(d,e):null,n=t.getAttribute("method")||Bd,a=Rg(t.getAttribute("enctype"))||Fd,l=new FormData(t)}else if($4(t)||Y4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Bs(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Bd,a=Rg(t.getAttribute("formenctype"))||Rg(d.getAttribute("enctype"))||Fd,l=new FormData(d,t),!W4()){let{name:g,type:v,value:b}=t;if(v==="image"){let _=g?`${g}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else g&&l.append(g,b)}}else{if(Uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bd,s=null,a=Fd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function my(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eI(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Bs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function tI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await tI(l,n);return c.links?c.links():[]}return[]}));return oI(s.flat(1).filter(nI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function F_(t,e,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var b;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function sI(t,e,{includeHydrateFallback:n}={}){return rI(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function rI(t){return[...new Set(t)]}function aI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function oI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(aI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function yE(){let t=D.useContext(Sl);return my(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lI(){let t=D.useContext(Lf);return my(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var py=D.createContext(void 0);py.displayName="FrameworkContext";function vE(){let t=D.useContext(py);return my(t,"You must render this element inside a <HydratedRouter> element"),t}function cI(t,e){let n=D.useContext(py),[s,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,_=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=V=>{V.forEach(F=>{c(F.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[t]),D.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let E=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Hc(d,E),onBlur:Hc(m,M),onMouseEnter:Hc(g,E),onMouseLeave:Hc(v,M),onTouchStart:Hc(b,E)}]:[!1,_,{}]}function Hc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function uI({page:t,...e}){let{router:n}=yE(),s=D.useMemo(()=>nE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(dI,{page:t,matches:s,...e}):null}function hI(t){let{manifest:e,routeModules:n}=vE(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return iI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function dI({page:t,matches:e,...n}){let s=Wr(),{future:a,manifest:l,routeModules:c}=vE(),{basename:d}=yE(),{loaderData:m,matches:g}=lI(),v=D.useMemo(()=>F_(t,e,g,l,s,"data"),[t,e,g,l,s]),b=D.useMemo(()=>F_(t,e,g,l,s,"assets"),[t,e,g,l,s]),_=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,C=!1;if(e.forEach(F=>{var W;let N=l.routes[F.route.id];!N||!N.hasLoader||(!v.some(ee=>ee.route.id===F.route.id)&&F.route.id in m&&((W=c[F.route.id])!=null&&W.shouldRevalidate)||N.hasClientLoader?C=!0:k.add(F.route.id))}),k.size===0)return[];let V=eI(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return C&&k.size>0&&V.searchParams.set("_routes",e.filter(F=>k.has(F.route.id)).map(F=>F.route.id).join(",")),[V.pathname+V.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,v,e,t,c]),E=D.useMemo(()=>sI(b,l),[b,l]),M=hI(b);return D.createElement(D.Fragment,null,_.map(k=>D.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),E.map(k=>D.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),M.map(({key:k,link:C})=>D.createElement("link",{key:k,nonce:n.nonce,...C})))}function fI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mI&&(window.__reactRouterVersion="7.12.0")}catch{}function pI({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=G5({window:s,v5Compat:!0}));let l=a.current,[c,d]=D.useState({action:l.action,location:l.location}),m=D.useCallback(g=>{n===!1?d(g):D.startTransition(()=>d(g))},[n]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(q4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zc=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...E},M){let{basename:k,unstable_useTransitions:C}=D.useContext(Hn),V=typeof g=="string"&&bE.test(g),F=oE(g,k);g=F.to;let N=S4(g,{relative:a}),[W,ee,ae]=cI(s,E),I=vI(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:C});function R(L){e&&e(L),L.defaultPrevented||I(L)}let j=D.createElement("a",{...E,...ae,href:F.absoluteURL||N,onClick:F.isExternal||l?e:R,ref:fI(M,ee),target:m,"data-discover":!V&&n==="render"?"true":void 0});return W&&!V?D.createElement(D.Fragment,null,j,D.createElement(uI,{page:N})):j});Zc.displayName="Link";var Jc=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let b=Nu(c,{relative:g.relative}),_=Wr(),E=D.useContext(Lf),{navigator:M,basename:k}=D.useContext(Hn),C=E!=null&&TI(b)&&d===!0,V=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,F=_.pathname,N=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(F=F.toLowerCase(),N=N?N.toLowerCase():null,V=V.toLowerCase()),N&&k&&(N=Bs(N,k)||N);const W=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ee=F===V||!a&&F.startsWith(V)&&F.charAt(W)==="/",ae=N!=null&&(N===V||!a&&N.startsWith(V)&&N.charAt(V.length)==="/"),I={isActive:ee,isPending:ae,isTransitioning:C},R=ee?e:void 0,j;typeof s=="function"?j=s(I):j=[s,ee?"active":null,ae?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return D.createElement(Zc,{...g,"aria-current":R,className:j,ref:v,style:L,to:c,viewTransition:d},typeof m=="function"?m(I):m)});Jc.displayName="NavLink";var gI=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Bd,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...E},M)=>{let{unstable_useTransitions:k}=D.useContext(Hn),C=_I(),V=wI(d,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&bE.test(d),W=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let ae=ee.nativeEvent.submitter,I=(ae==null?void 0:ae.getAttribute("formmethod"))||c,R=()=>C(ae||ee.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});k&&n!==!1?D.startTransition(()=>R()):R()};return D.createElement("form",{ref:M,method:F,action:V,onSubmit:s?m:W,...E,"data-discover":!N&&t==="render"?"true":void 0})});gI.displayName="Form";function yI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(t){let e=D.useContext(Sl);return ft(e,yI(t)),e}function vI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=fE(),v=Wr(),b=Nu(t,{relative:l});return D.useCallback(_=>{if(X4(_,e)){_.preventDefault();let E=n!==void 0?n:fu(v)===fu(b),M=()=>g(t,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?D.startTransition(()=>M()):M()}},[v,g,b,n,s,e,t,a,l,c,d,m])}var bI=0,xI=()=>`__${String(++bI)}__`;function _I(){let{router:t}=xE("useSubmit"),{basename:e}=D.useContext(Hn),n=L4(),s=t.fetch,a=t.navigate;return D.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:v,body:b}=J4(l,e);if(c.navigate===!1){let _=c.fetcherKey||xI();await s(_,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function wI(t,{relative:e}={}){let{basename:n}=D.useContext(Hn),s=D.useContext(Ii);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Nu(t||".",{relative:e})},c=Wr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ls([n,l.pathname])),fu(l)}function TI(t,{relative:e}={}){let n=D.useContext(cE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xE("useViewTransitionState"),a=Nu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Bs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Bs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return af(a.pathname,c)!=null||af(a.pathname,l)!=null}const EI=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},SI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let _=(d&15)<<2|g>>6,E=g&63;m||(E=64,c||(_=64)),s.push(n[v],n[b],n[_],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new AI;const _=l<<2|d>>4;if(s.push(_),g!==64){const E=d<<4&240|g>>2;if(s.push(E),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RI=function(t){const e=_E(t);return wE.encodeByteArray(e,!0)},of=function(t){return RI(t).replace(/\./g,"")},TE=function(t){try{return wE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=()=>NI().__FIREBASE_DEFAULTS__,II=()=>{if(typeof process>"u"||typeof H_>"u")return;const t=H_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TE(t[1]);return e&&JSON.parse(e)},zf=()=>{try{return EI()||CI()||II()||DI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EE=t=>{var e,n;return(n=(e=zf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},SE=t=>{const e=EE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},AE=()=>{var t;return(t=zf())==null?void 0:t.config},RE=t=>{var e;return(e=zf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[of(JSON.stringify(n)),of(JSON.stringify(c)),""].join(".")}const eu={};function MI(){const t={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?t.emulator.push(e):t.prod.push(e);return t}function jI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let q_=!1;function yy(t,e){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||eu[t]===e||eu[t]||q_)return;eu[t]=e;function n(_){return`__firebase__banner__${_}`}const s="__firebase__banner",l=MI().prod.length>0;function c(){const _=document.getElementById(s);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function g(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{q_=!0,c()},_}function v(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=jI(s),E=n("text"),M=document.getElementById(E)||document.createElement("span"),k=n("learnmore"),C=document.getElementById(k)||document.createElement("a"),V=n("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const N=_.element;d(N),v(C,k);const W=g();m(F,V),N.append(F,M,C,W),document.body.appendChild(N)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function OI(){var e;const t=(e=zf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zI(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BI(){return!OI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FI(){try{return typeof indexedDB=="object"}catch{return!1}}function HI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="FirebaseError";class ms extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qI,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?GI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ms(a,d,s)}}function GI(t,e){return t.replace($I,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const $I=/\{\$([^}]+)}/g;function KI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(G_(l)&&G_(c)){if(!Qa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function G_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function YI(t,e){const n=new QI(t,e);return n.subscribe.bind(n)}class QI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ng),a.error===void 0&&(a.error=Ng),a.complete===void 0&&(a.complete=Ng);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZI(t){return t===Va?void 0:t}function JI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const t3={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},n3=Ue.INFO,i3={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},s3=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=i3[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vy{constructor(e){this.name=e,this._logLevel=n3,this._logHandler=s3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const r3=(t,e)=>e.some(n=>t instanceof n);let $_,K_;function a3(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o3(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,l0=new WeakMap,IE=new WeakMap,Cg=new WeakMap,by=new WeakMap;function l3(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Lr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&CE.set(n,t)}).catch(()=>{}),by.set(e,t),e}function c3(t){if(l0.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});l0.set(t,e)}let c0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return l0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u3(t){c0=t(c0)}function h3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ig(this),e,...n);return IE.set(s,e.sort?e.sort():[e]),Lr(s)}:o3().includes(t)?function(...e){return t.apply(Ig(this),e),Lr(CE.get(this))}:function(...e){return Lr(t.apply(Ig(this),e))}}function d3(t){return typeof t=="function"?h3(t):(t instanceof IDBTransaction&&c3(t),r3(t,a3())?new Proxy(t,c0):t)}function Lr(t){if(t instanceof IDBRequest)return l3(t);if(Cg.has(t))return Cg.get(t);const e=d3(t);return e!==t&&(Cg.set(t,e),by.set(e,t)),e}const Ig=t=>by.get(t);function f3(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Lr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Lr(c.result),m.oldVersion,m.newVersion,Lr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const m3=["get","getKey","getAll","getAllKeys","count"],p3=["put","add","delete","clear"],Dg=new Map;function Y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=p3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||m3.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Dg.set(e,l),l}u3(t=>({...t,get:(e,n,s)=>Y_(e,n)||t.get(e,n,s),has:(e,n)=>!!Y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function y3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u0="@firebase/app",Q_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new vy("@firebase/app"),v3="@firebase/app-compat",b3="@firebase/analytics-compat",x3="@firebase/analytics",_3="@firebase/app-check-compat",w3="@firebase/app-check",T3="@firebase/auth",E3="@firebase/auth-compat",S3="@firebase/database",A3="@firebase/data-connect",R3="@firebase/database-compat",N3="@firebase/functions",C3="@firebase/functions-compat",I3="@firebase/installations",D3="@firebase/installations-compat",k3="@firebase/messaging",M3="@firebase/messaging-compat",j3="@firebase/performance",V3="@firebase/performance-compat",O3="@firebase/remote-config",P3="@firebase/remote-config-compat",L3="@firebase/storage",U3="@firebase/storage-compat",z3="@firebase/firestore",B3="@firebase/ai",F3="@firebase/firestore-compat",H3="firebase",q3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="[DEFAULT]",G3={[u0]:"fire-core",[v3]:"fire-core-compat",[x3]:"fire-analytics",[b3]:"fire-analytics-compat",[w3]:"fire-app-check",[_3]:"fire-app-check-compat",[T3]:"fire-auth",[E3]:"fire-auth-compat",[S3]:"fire-rtdb",[A3]:"fire-data-connect",[R3]:"fire-rtdb-compat",[N3]:"fire-fn",[C3]:"fire-fn-compat",[I3]:"fire-iid",[D3]:"fire-iid-compat",[k3]:"fire-fcm",[M3]:"fire-fcm-compat",[j3]:"fire-perf",[V3]:"fire-perf-compat",[O3]:"fire-rc",[P3]:"fire-rc-compat",[L3]:"fire-gcs",[U3]:"fire-gcs-compat",[z3]:"fire-fst",[F3]:"fire-fst-compat",[B3]:"fire-vertex","fire-js":"fire-js",[H3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,$3=new Map,d0=new Map;function X_(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xa(t){const e=t.name;if(d0.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;d0.set(e,t);for(const n of lf.values())X_(n,t);for(const n of $3.values())X_(n,t);return!0}function Bf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Cu("app","Firebase",K3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=q3;function DE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:h0,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ur.create("bad-app-name",{appName:String(a)});if(n||(n=AE()),!n)throw Ur.create("no-options");const l=lf.get(a);if(l){if(Qa(n,l.options)&&Qa(s,l.config))return l;throw Ur.create("duplicate-app",{appName:a})}const c=new e3(a);for(const m of d0.values())c.addComponent(m);const d=new Y3(n,s,c);return lf.set(a,d),d}function xy(t=h0){const e=lf.get(t);if(!e&&t===h0&&AE())return DE();if(!e)throw Ur.create("no-app",{appName:t});return e}function ns(t,e,n){let s=G3[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}Xa(new Fr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="firebase-heartbeat-database",X3=1,mu="firebase-heartbeat-store";let kg=null;function kE(){return kg||(kg=f3(Q3,X3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),kg}async function W3(t){try{const n=(await kE()).transaction(mu),s=await n.objectStore(mu).get(ME(t));return await n.done,s}catch(e){if(e instanceof ms)Fs.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function W_(t,e){try{const s=(await kE()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,ME(t)),await s.done}catch(n){if(n instanceof ms)Fs.warn(n.message);else{const s=Ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(s.message)}}}function ME(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=1024,J3=30;class eD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Z_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>J3){const c=iD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:s,unsentEntries:a}=tD(this._heartbeatsCache.heartbeats),l=of(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Fs.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function tD(t,e=Z3){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),J_(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),J_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FI()?HI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function J_(t){return of(JSON.stringify({version:2,heartbeats:t})).length}function iD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){Xa(new Fr("platform-logger",e=>new g3(e),"PRIVATE")),Xa(new Fr("heartbeat",e=>new eD(e),"PRIVATE")),ns(u0,Q_,t),ns(u0,Q_,"esm2020"),ns("fire-js","")}sD("");function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rD=jE,VE=new Cu("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new vy("@firebase/auth");function aD(t,...e){cf.logLevel<=Ue.WARN&&cf.warn(`Auth (${no}): ${t}`,...e)}function Hd(t,...e){cf.logLevel<=Ue.ERROR&&cf.error(`Auth (${no}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,...e){throw wy(t,...e)}function Ri(t,...e){return wy(t,...e)}function _y(t,e,n){const s={...rD(),[e]:n};return new Cu("auth","Firebase",s).create(e,{appName:t.name})}function Fa(t){return _y(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oD(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&us(t,"argument-error"),_y(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return VE.create(t,...e)}function Ee(t,e,...n){if(!t)throw wy(e,...n)}function Vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function Hs(t,e){t||Vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function lD(){return ew()==="http:"||ew()==="https:"}function ew(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lD()||LI()||"connection"in navigator)?navigator.onLine:!0}function uD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=VI()||UI()}get(){return cD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fD=new Du(3e4,6e4);function ku(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ys(t,e,n,s,a={}){return PE(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Iu({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return PI()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Zr(t.emulatorConfig.host)&&(g.credentials="include"),OE.fetch()(await LE(t,t.config.apiHost,n,d),g)})}async function PE(t,e,n){t._canInitEmulator=!1;const s={...hD,...e};try{const a=new gD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Sd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Sd(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _y(t,v,g);us(t,v)}}catch(a){if(a instanceof ms)throw a;us(t,"network-request-failed",{message:String(a)})}}async function mD(t,e,n,s,a={}){const l=await Ys(t,e,n,s,a);return"mfaPendingCredential"in l&&us(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function LE(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Ty(t.config,a):`${t.config.apiScheme}://${a}`;return dD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function pD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),fD.get())})}}function Sd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ri(t,e,s);return a.customData._tokenResponse=n,a}function tw(t){return t!==void 0&&t.enterprise!==void 0}class yD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vD(t,e){return Ys(t,"GET","/v2/recaptchaConfig",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function uf(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xD(t,e=!1){const n=pt(t),s=await n.getIdToken(e),a=Ey(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:tu(Mg(a.auth_time)),issuedAtTime:tu(Mg(a.iat)),expirationTime:tu(Mg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Mg(t){return Number(t)*1e3}function Ey(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const a=TE(n);return a?JSON.parse(a):(Hd("Failed to decode base64 JWT payload"),null)}catch(a){return Hd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function nw(t){const e=Ey(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ms&&_D(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function _D({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t){var b;const e=t.auth,n=await t.getIdToken(),s=await dl(t,uf(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(b=a.providerUserInfo)!=null&&b.length?UE(a.providerUserInfo):[],c=ED(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new m0(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function TD(t){const e=pt(t);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ED(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function UE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){const n=await PE(t,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await LE(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&Zr(t.emulatorConfig.host)&&(m.credentials="include"),OE.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AD(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=nw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await SD(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new ol;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new wD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new m0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await dl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xD(this,e)}reload(){return TD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Fa(this.auth));const e=await this.getIdToken();return await dl(this,bD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:E,providerData:M,stsTokenManager:k}=n;Ee(b&&k,e,"internal-error");const C=ol.fromJSON(this.name,k);Ee(typeof b=="string",e,"internal-error"),Cr(s,e.name),Cr(a,e.name),Ee(typeof _=="boolean",e,"internal-error"),Ee(typeof E=="boolean",e,"internal-error"),Cr(l,e.name),Cr(c,e.name),Cr(d,e.name),Cr(m,e.name),Cr(g,e.name),Cr(v,e.name);const V=new Si({uid:b,auth:e,email:a,emailVerified:_,displayName:s,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:C,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(V.providerData=M.map(F=>({...F}))),m&&(V._redirectEventId=m),V}static async _fromIdTokenResponse(e,n,s=!1){const a=new ol;a.updateFromServerResponse(n);const l=new Si({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await hf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?UE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new ol;d.updateFromIdToken(s);const m=new Si({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new m0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;function Os(t){Hs(t instanceof Function,"Expected a class definition");let e=iw.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zE.type="NONE";const sw=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=qd(this.userKey,a.apiKey,l),this.fullPersistenceKey=qd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uf(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ll(Os(sw),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Os(sw);const c=qd(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const _=await uf(e,{idToken:v}).catch(()=>{});if(!_)break;b=await Si._fromGetAccountInfoResponse(e,_,v)}else b=Si._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ll(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ll(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(KE(e))return"Webos";if(FE(e))return"Safari";if((e.includes("chrome/")||HE(e))&&!e.includes("edge/"))return"Chrome";if(GE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function BE(t=mn()){return/firefox\//i.test(t)}function FE(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HE(t=mn()){return/crios\//i.test(t)}function qE(t=mn()){return/iemobile/i.test(t)}function GE(t=mn()){return/android/i.test(t)}function $E(t=mn()){return/blackberry/i.test(t)}function KE(t=mn()){return/webos/i.test(t)}function Sy(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RD(t=mn()){var e;return Sy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ND(){return zI()&&document.documentMode===10}function YE(t=mn()){return Sy(t)||GE(t)||KE(t)||$E(t)||/windows phone/i.test(t)||qE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e=[]){let n;switch(t){case"Browser":n=rw(mn());break;case"Worker":n=`${rw(mn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",ku(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=6;class kD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aw(this),this.idTokenSubscription=new aw(this),this.beforeStateQueue=new CD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uf(this,{idToken:e}),s=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Fa(this));const n=e?pt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ID(this),n=new kD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&aD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rl(t){return pt(t)}class aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=YI(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jD(t){Ff=t}function XE(t){return Ff.loadJS(t)}function VD(){return Ff.recaptchaEnterpriseScript}function OD(){return Ff.gapiScript}function PD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LD{constructor(){this.enterprise=new UD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zD="recaptcha-enterprise",WE="NO_RECAPTCHA";class BD{constructor(e){this.type=zD,this.auth=Rl(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{vD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new yD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;tw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(WE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&tw(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=VD();m.length!==0&&(m+=d),XE(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function ow(t,e,n,s=!1,a=!1){const l=new BD(t);let c;if(a)c=WE;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function FD(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ow(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ow(t,e,n,n==="getOobCode");return s(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){const n=Bf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Qa(l,e??{}))return a;us(a,"already-initialized")}return n.initialize({options:e})}function qD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function GD(t,e,n){const s=Rl(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=ZE(e),{host:c,port:d}=$D(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Qa(g,s.config.emulator)&&Qa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Zr(c)?(gy(`${l}//${c}${m}`),yy("Auth",!0)):KD()}function ZE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $D(t){const e=ZE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:lw(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:lw(c)}}}function lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,n){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}async function YD(t,e){return Ys(t,"POST","/v1/accounts:sendOobCode",ku(t,e))}async function QD(t,e){return YD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e){return mD(t,"POST","/v1/accounts:signInWithIdp",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="http://localhost";class Wa extends JE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Wa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,cl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:XD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Mu{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return js.credential(n,s)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Mu{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Mu{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Si._fromIdTokenResponse(e,s,a),c=cw(s);return new fl({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=cw(s);return new fl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function cw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends ms{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new df(e,n,s,a)}}function eS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,l,e,s):l})}async function WD(t,e,n=!1){const s=await dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e,n=!1){const{auth:s}=t;if(si(s.app))return Promise.reject(Fa(s));const a="reauthenticate";try{const l=await dl(t,eS(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const c=Ey(l.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(t.uid===d,s,"user-mismatch"),fl._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&us(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e,n=!1){if(si(t.app))return Promise.reject(Fa(t));const s="signIn",a=await eS(t,s,e),l=await fl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function ek(t,e,n){const s=Rl(t);await FD(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",QD)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(t,e){return Ys(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=pt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await dl(s,tk(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function nk(t,e,n,s){return pt(t).onIdTokenChanged(e,n,s)}function ik(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function sk(t,e,n,s){return pt(t).onAuthStateChanged(e,n,s)}function rk(t){return pt(t).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1e3,ok=10;class nS extends tS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);ND()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ok):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nS.type="LOCAL";const lk=nS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends tS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iS.type="SESSION";const sS=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await ck(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Ry("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===g)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function hk(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function dk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mk(){return rS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebaseLocalStorageDb",pk=1,mf="firebaseLocalStorage",oS="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qf(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function gk(){const t=indexedDB.deleteDatabase(aS);return new ju(t).toPromise()}function p0(){const t=indexedDB.open(aS,pk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(mf,{keyPath:oS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(mf)?e(s):(s.close(),await gk(),e(await p0()))})})}async function hw(t,e,n){const s=qf(t,!0).put({[oS]:e,value:n});return new ju(s).toPromise()}async function yk(t,e){const n=qf(t,!1).get(e),s=await new ju(n).toPromise();return s===void 0?null:s.value}function dw(t,e){const n=qf(t,!0).delete(e);return new ju(n).toPromise()}const vk=800,bk=3;class lS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>bk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(mk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await dk(),!this.activeServiceWorker)return;this.sender=new uk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p0();return await hw(e,ff,"1"),await dw(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>yk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=qf(a,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lS.type="LOCAL";const xk=lS;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e){return e?Os(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends JE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _k(t){return JD(t.auth,new Ny(t),t.bypassAuthState)}function wk(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),ZD(n,new Ny(t),t.bypassAuthState)}async function Tk(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),WD(n,new Ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _k;case"linkViaPopup":case"linkViaRedirect":return Tk;case"reauthViaPopup":case"reauthViaRedirect":return wk;default:us(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new Du(2e3,1e4);async function Sk(t,e,n){if(si(t.app))return Promise.reject(Ri(t,"operation-not-supported-in-this-environment"));const s=Rl(t);oD(t,e,Ay);const a=cS(s,n);return new Pa(s,"signInViaPopup",e,a).executeNotNull()}class Pa extends uS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=Ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ek.get())};e()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="pendingRedirect",Gd=new Map;class Rk extends uS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const s=await Nk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nk(t,e){const n=Dk(e),s=Ik(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function Ck(t,e){Gd.set(t._key(),e)}function Ik(t){return Os(t._redirectPersistence)}function Dk(t){return qd(Ak,t.config.apiKey,t.name)}async function kk(t,e,n=!1){if(si(t.app))return Promise.reject(Fa(t));const s=Rl(t),a=cS(s,e),c=await new Rk(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=600*1e3;class jk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Vk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!hS(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mk&&this.cachedEventUids.clear(),this.cachedEventUids.has(fw(e))}saveEventToCache(e){this.cachedEventUids.add(fw(e)),this.lastProcessedEventTime=Date.now()}}function fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Vk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lk=/^https?/;async function Uk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ok(t);for(const n of e)try{if(zk(n))return}catch{}us(t,"unauthorized-domain")}function zk(t){const e=f0(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Lk.test(n))return!1;if(Pk.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new Du(3e4,6e4);function mw(){const t=is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Fk(t){return new Promise((e,n)=>{var a,l,c;function s(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),n(Ri(t,"network-request-failed"))},timeout:Bk.get()})}if((l=(a=is().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=is().gapi)!=null&&c.load)s();else{const d=PD("iframefcb");return is()[d]=()=>{gapi.load?s():n(Ri(t,"network-request-failed"))},XE(`${OD()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw $d=null,e})}let $d=null;function Hk(t){return $d=$d||Fk(t),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=new Du(5e3,15e3),Gk="__/auth/iframe",$k="emulator/auth/iframe",Kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qk(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ty(e,$k):`https://${t.config.authDomain}/${Gk}`,s={apiKey:e.apiKey,appName:t.name,v:no},a=Yk.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Iu(s).slice(1)}`}async function Xk(t){const e=await Hk(t),n=is().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:Qk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kk,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ri(t,"network-request-failed"),d=is().setTimeout(()=>{l(c)},qk.get());function m(){is().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zk=500,Jk=600,eM="_blank",tM="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nM(t,e,n,s=Zk,a=Jk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...Wk,width:s.toString(),height:a.toString(),top:l,left:c},g=mn().toLowerCase();n&&(d=HE(g)?eM:n),BE(g)&&(e=e||tM,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[E,M])=>`${_}${E}=${M},`,"");if(RD(g)&&d!=="_self")return iM(e||"",d),new pw(null);const b=window.open(e||"",d,v);Ee(b,t,"popup-blocked");try{b.focus()}catch{}return new pw(b)}function iM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="__/auth/handler",rM="emulator/auth/handler",aM=encodeURIComponent("fac");async function gw(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:no,eventId:a};if(e instanceof Ay){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",KI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Mu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),g=m?`#${aM}=${encodeURIComponent(m)}`:"";return`${oM(t)}?${Iu(d).slice(1)}${g}`}function oM({config:t}){return t.emulator?Ty(t,rM):`https://${t.authDomain}/${sM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="webStorageSupport";class lM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sS,this._completeRedirectFn=kk,this._overrideRedirectResult=Ck}async _openPopup(e,n,s,a){var c;Hs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await gw(e,n,s,f0(),a);return nM(e,l,Ry())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await gw(e,n,s,f0(),a);return hk(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Hs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Xk(e),s=new jk(e);return n.register("authEvent",a=>(Ee(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jg,{type:jg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[jg];l!==void 0&&n(!!l),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YE()||FE()||Sy()}}const cM=lM;var yw="@firebase/auth",vw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dM(t){Xa(new Fr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(t)},g=new MD(s,a,l,m);return qD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xa(new Fr("auth-internal",e=>{const n=Rl(e.getProvider("auth").getImmediate());return(s=>new uM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(yw,vw,hM(t)),ns(yw,vw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=300,mM=RE("authIdTokenMaxAge")||fM;let bw=null;const pM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mM)return;const a=n==null?void 0:n.token;bw!==a&&(bw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gM(t=xy()){const e=Bf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HD(t,{popupRedirectResolver:cM,persistence:[xk,lk,sS]}),s=RE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=pM(l.toString());ik(n,c,()=>c(n.currentUser)),nk(n,d=>c(d))}}const a=EE("auth");return a&&GD(n,`http://${a}`),n}function yM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ri("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",yM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dM("Browser");var xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,dS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function j(){}j.prototype=R.prototype,I.F=R.prototype,I.prototype=new j,I.prototype.constructor=I,I.D=function(L,U,q){for(var O=Array(arguments.length-2),st=2;st<arguments.length;st++)O[st-2]=arguments[st];return R.prototype[U].apply(L,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,j){j||(j=0);const L=Array(16);if(typeof R=="string")for(var U=0;U<16;++U)L[U]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(U=0;U<16;++U)L[U]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=I.g[0],j=I.g[1],U=I.g[2];let q=I.g[3],O;O=R+(q^j&(U^q))+L[0]+3614090360&4294967295,R=j+(O<<7&4294967295|O>>>25),O=q+(U^R&(j^U))+L[1]+3905402710&4294967295,q=R+(O<<12&4294967295|O>>>20),O=U+(j^q&(R^j))+L[2]+606105819&4294967295,U=q+(O<<17&4294967295|O>>>15),O=j+(R^U&(q^R))+L[3]+3250441966&4294967295,j=U+(O<<22&4294967295|O>>>10),O=R+(q^j&(U^q))+L[4]+4118548399&4294967295,R=j+(O<<7&4294967295|O>>>25),O=q+(U^R&(j^U))+L[5]+1200080426&4294967295,q=R+(O<<12&4294967295|O>>>20),O=U+(j^q&(R^j))+L[6]+2821735955&4294967295,U=q+(O<<17&4294967295|O>>>15),O=j+(R^U&(q^R))+L[7]+4249261313&4294967295,j=U+(O<<22&4294967295|O>>>10),O=R+(q^j&(U^q))+L[8]+1770035416&4294967295,R=j+(O<<7&4294967295|O>>>25),O=q+(U^R&(j^U))+L[9]+2336552879&4294967295,q=R+(O<<12&4294967295|O>>>20),O=U+(j^q&(R^j))+L[10]+4294925233&4294967295,U=q+(O<<17&4294967295|O>>>15),O=j+(R^U&(q^R))+L[11]+2304563134&4294967295,j=U+(O<<22&4294967295|O>>>10),O=R+(q^j&(U^q))+L[12]+1804603682&4294967295,R=j+(O<<7&4294967295|O>>>25),O=q+(U^R&(j^U))+L[13]+4254626195&4294967295,q=R+(O<<12&4294967295|O>>>20),O=U+(j^q&(R^j))+L[14]+2792965006&4294967295,U=q+(O<<17&4294967295|O>>>15),O=j+(R^U&(q^R))+L[15]+1236535329&4294967295,j=U+(O<<22&4294967295|O>>>10),O=R+(U^q&(j^U))+L[1]+4129170786&4294967295,R=j+(O<<5&4294967295|O>>>27),O=q+(j^U&(R^j))+L[6]+3225465664&4294967295,q=R+(O<<9&4294967295|O>>>23),O=U+(R^j&(q^R))+L[11]+643717713&4294967295,U=q+(O<<14&4294967295|O>>>18),O=j+(q^R&(U^q))+L[0]+3921069994&4294967295,j=U+(O<<20&4294967295|O>>>12),O=R+(U^q&(j^U))+L[5]+3593408605&4294967295,R=j+(O<<5&4294967295|O>>>27),O=q+(j^U&(R^j))+L[10]+38016083&4294967295,q=R+(O<<9&4294967295|O>>>23),O=U+(R^j&(q^R))+L[15]+3634488961&4294967295,U=q+(O<<14&4294967295|O>>>18),O=j+(q^R&(U^q))+L[4]+3889429448&4294967295,j=U+(O<<20&4294967295|O>>>12),O=R+(U^q&(j^U))+L[9]+568446438&4294967295,R=j+(O<<5&4294967295|O>>>27),O=q+(j^U&(R^j))+L[14]+3275163606&4294967295,q=R+(O<<9&4294967295|O>>>23),O=U+(R^j&(q^R))+L[3]+4107603335&4294967295,U=q+(O<<14&4294967295|O>>>18),O=j+(q^R&(U^q))+L[8]+1163531501&4294967295,j=U+(O<<20&4294967295|O>>>12),O=R+(U^q&(j^U))+L[13]+2850285829&4294967295,R=j+(O<<5&4294967295|O>>>27),O=q+(j^U&(R^j))+L[2]+4243563512&4294967295,q=R+(O<<9&4294967295|O>>>23),O=U+(R^j&(q^R))+L[7]+1735328473&4294967295,U=q+(O<<14&4294967295|O>>>18),O=j+(q^R&(U^q))+L[12]+2368359562&4294967295,j=U+(O<<20&4294967295|O>>>12),O=R+(j^U^q)+L[5]+4294588738&4294967295,R=j+(O<<4&4294967295|O>>>28),O=q+(R^j^U)+L[8]+2272392833&4294967295,q=R+(O<<11&4294967295|O>>>21),O=U+(q^R^j)+L[11]+1839030562&4294967295,U=q+(O<<16&4294967295|O>>>16),O=j+(U^q^R)+L[14]+4259657740&4294967295,j=U+(O<<23&4294967295|O>>>9),O=R+(j^U^q)+L[1]+2763975236&4294967295,R=j+(O<<4&4294967295|O>>>28),O=q+(R^j^U)+L[4]+1272893353&4294967295,q=R+(O<<11&4294967295|O>>>21),O=U+(q^R^j)+L[7]+4139469664&4294967295,U=q+(O<<16&4294967295|O>>>16),O=j+(U^q^R)+L[10]+3200236656&4294967295,j=U+(O<<23&4294967295|O>>>9),O=R+(j^U^q)+L[13]+681279174&4294967295,R=j+(O<<4&4294967295|O>>>28),O=q+(R^j^U)+L[0]+3936430074&4294967295,q=R+(O<<11&4294967295|O>>>21),O=U+(q^R^j)+L[3]+3572445317&4294967295,U=q+(O<<16&4294967295|O>>>16),O=j+(U^q^R)+L[6]+76029189&4294967295,j=U+(O<<23&4294967295|O>>>9),O=R+(j^U^q)+L[9]+3654602809&4294967295,R=j+(O<<4&4294967295|O>>>28),O=q+(R^j^U)+L[12]+3873151461&4294967295,q=R+(O<<11&4294967295|O>>>21),O=U+(q^R^j)+L[15]+530742520&4294967295,U=q+(O<<16&4294967295|O>>>16),O=j+(U^q^R)+L[2]+3299628645&4294967295,j=U+(O<<23&4294967295|O>>>9),O=R+(U^(j|~q))+L[0]+4096336452&4294967295,R=j+(O<<6&4294967295|O>>>26),O=q+(j^(R|~U))+L[7]+1126891415&4294967295,q=R+(O<<10&4294967295|O>>>22),O=U+(R^(q|~j))+L[14]+2878612391&4294967295,U=q+(O<<15&4294967295|O>>>17),O=j+(q^(U|~R))+L[5]+4237533241&4294967295,j=U+(O<<21&4294967295|O>>>11),O=R+(U^(j|~q))+L[12]+1700485571&4294967295,R=j+(O<<6&4294967295|O>>>26),O=q+(j^(R|~U))+L[3]+2399980690&4294967295,q=R+(O<<10&4294967295|O>>>22),O=U+(R^(q|~j))+L[10]+4293915773&4294967295,U=q+(O<<15&4294967295|O>>>17),O=j+(q^(U|~R))+L[1]+2240044497&4294967295,j=U+(O<<21&4294967295|O>>>11),O=R+(U^(j|~q))+L[8]+1873313359&4294967295,R=j+(O<<6&4294967295|O>>>26),O=q+(j^(R|~U))+L[15]+4264355552&4294967295,q=R+(O<<10&4294967295|O>>>22),O=U+(R^(q|~j))+L[6]+2734768916&4294967295,U=q+(O<<15&4294967295|O>>>17),O=j+(q^(U|~R))+L[13]+1309151649&4294967295,j=U+(O<<21&4294967295|O>>>11),O=R+(U^(j|~q))+L[4]+4149444226&4294967295,R=j+(O<<6&4294967295|O>>>26),O=q+(j^(R|~U))+L[11]+3174756917&4294967295,q=R+(O<<10&4294967295|O>>>22),O=U+(R^(q|~j))+L[2]+718787259&4294967295,U=q+(O<<15&4294967295|O>>>17),O=j+(q^(U|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+q&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const j=R-this.blockSize,L=this.C;let U=this.h,q=0;for(;q<R;){if(U==0)for(;q<=j;)a(this,I,q),q+=this.blockSize;if(typeof I=="string"){for(;q<R;)if(L[U++]=I.charCodeAt(q++),U==this.blockSize){a(this,L),U=0;break}}else for(;q<R;)if(L[U++]=I[q++],U==this.blockSize){a(this,L),U=0;break}}this.h=U,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var j=I.length-8;j<I.length;++j)I[j]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,j=0;j<4;++j)for(let L=0;L<32;L+=8)I[R++]=this.g[j]>>>L&255;return I};function l(I,R){var j=d;return Object.prototype.hasOwnProperty.call(j,I)?j[I]:j[I]=R(I)}function c(I,R){this.h=R;const j=[];let L=!0;for(let U=I.length-1;U>=0;U--){const q=I[U]|0;L&&q==R||(j[U]=q,L=!1)}this.g=j}var d={};function m(I){return-128<=I&&I<128?l(I,function(R){return new c([R|0],R<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return C(g(-I));const R=[];let j=1;for(let L=0;I>=j;L++)R[L]=I/j|0,j*=4294967296;return new c(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return C(v(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=g(Math.pow(R,8));let L=b;for(let q=0;q<I.length;q+=8){var U=Math.min(8,I.length-q);const O=parseInt(I.substring(q,q+U),R);U<8?(U=g(Math.pow(R,U)),L=L.j(U).add(g(O))):(L=L.j(j),L=L.add(g(O)))}return L}var b=m(0),_=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(k(this))return-C(this).m();let I=0,R=1;for(let j=0;j<this.g.length;j++){const L=this.i(j);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(k(this))return"-"+C(this).toString(I);const R=g(Math.pow(I,6));var j=this;let L="";for(;;){const U=W(j,R).g;j=V(j,U.j(R));let q=((j.g.length>0?j.g[0]:j.h)>>>0).toString(I);if(j=U,M(j))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=V(this,I),k(I)?-1:M(I)?0:1};function C(I){const R=I.g.length,j=[];for(let L=0;L<R;L++)j[L]=~I.g[L];return new c(j,~I.h).add(_)}t.abs=function(){return k(this)?C(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),j=[];let L=0;for(let U=0;U<=R;U++){let q=L+(this.i(U)&65535)+(I.i(U)&65535),O=(q>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);L=O>>>16,q&=65535,O&=65535,j[U]=O<<16|q}return new c(j,j[j.length-1]&-2147483648?-1:0)};function V(I,R){return I.add(C(R))}t.j=function(I){if(M(this)||M(I))return b;if(k(this))return k(I)?C(this).j(C(I)):C(C(this).j(I));if(k(I))return C(this.j(C(I)));if(this.l(E)<0&&I.l(E)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,j=[];for(var L=0;L<2*R;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(let U=0;U<I.g.length;U++){const q=this.i(L)>>>16,O=this.i(L)&65535,st=I.i(U)>>>16,yt=I.i(U)&65535;j[2*L+2*U]+=O*yt,F(j,2*L+2*U),j[2*L+2*U+1]+=q*yt,F(j,2*L+2*U+1),j[2*L+2*U+1]+=O*st,F(j,2*L+2*U+1),j[2*L+2*U+2]+=q*st,F(j,2*L+2*U+2)}for(I=0;I<R;I++)j[I]=j[2*I+1]<<16|j[2*I];for(I=R;I<2*R;I++)j[I]=0;return new c(j,0)};function F(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function N(I,R){this.g=I,this.h=R}function W(I,R){if(M(R))throw Error("division by zero");if(M(I))return new N(b,b);if(k(I))return R=W(C(I),R),new N(C(R.g),C(R.h));if(k(R))return R=W(I,C(R)),new N(C(R.g),R.h);if(I.g.length>30){if(k(I)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var j=_,L=R;L.l(I)<=0;)j=ee(j),L=ee(L);var U=ae(j,1),q=ae(L,1);for(L=ae(L,2),j=ae(j,2);!M(L);){var O=q.add(L);O.l(I)<=0&&(U=U.add(j),q=O),L=ae(L,1),j=ae(j,1)}return R=V(I,U.j(R)),new N(U,R)}for(U=b;I.l(R)>=0;){for(j=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=g(j),O=q.j(R);k(O)||O.l(I)>0;)j-=L,q=g(j),O=q.j(R);M(q)&&(q=_),U=U.add(q),I=V(I,O)}return new N(U,I)}t.B=function(I){return W(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)&I.i(L);return new c(j,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)|I.i(L);return new c(j,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),j=[];for(let L=0;L<R;L++)j[L]=this.i(L)^I.i(L);return new c(j,this.h^I.h)};function ee(I){const R=I.g.length+1,j=[];for(let L=0;L<R;L++)j[L]=I.i(L)<<1|I.i(L-1)>>>31;return new c(j,I.h)}function ae(I,R){const j=R>>5;R%=32;const L=I.g.length-j,U=[];for(let q=0;q<L;q++)U[q]=R>0?I.i(q+j)>>>R|I.i(q+j+1)<<32-R:I.i(q+j);return new c(U,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,dS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,zr=c}).apply(typeof xw<"u"?xw:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fS,Kc,mS,Kd,g0,pS,gS,yS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,x){if(x)e:{var T=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break e;T=T[G]}h=h[h.length-1],A=T[h],x=x(A),x!=A&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],A;for(A in x)Object.prototype.hasOwnProperty.call(x,A)&&T.push([A,x[A]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,T){return h.call.apply(h.bind,arguments)}function g(h,x,T){return g=m,g.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,G,Q){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return x.prototype[G].apply(A,le)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function E(h){const x=h.length;if(x>0){const T=Array(x);for(let A=0;A<x;A++)T[A]=h[A];return T}return[]}function M(h,x){for(let A=1;A<arguments.length;A++){const G=arguments[A];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const Q=G.length||0;h.length=T+Q;for(let le=0;le<Q;le++)h[T+le]=G[le]}else h.push(G)}}class k{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function C(h){c.setTimeout(()=>{throw h},0)}function V(){var h=I;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,T){const A=N.get();A.set(x,T),this.h?this.h.next=A:this.g=A,this.h=A}}var N=new k(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ae=!1,I=new F,R=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(j)}};function j(){for(var h;h=V();){try{h.h.call(h.g)}catch(T){C(T)}var x=N;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ae=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function st(h,x){U.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(st,U),st.prototype.init=function(h,x){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(h,x,T,A,G){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!A,this.ha=G,this.key=++J,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,x,T){for(const A in h)x.call(T,h[A],A,h)}function Oe(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function B(h){const x={};for(const T in h)x[T]=h[T];return x}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,x){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let Q=0;Q<se.length;Q++)T=se[Q],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,x,T,A,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=ke(h,x,A,G);return le>-1?(x=h[le],T||(x.fa=!1)):(x=new oe(x,this.src,Q,!!A,G),x.fa=T,h.push(x)),x};function Se(h,x){const T=x.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,x,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(A,G,1),Q&&(me(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ke(h,x,T,A){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==x&&Q.capture==!!T&&Q.ha==A)return G}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Ft={};function ut(h,x,T,A,G){if(Array.isArray(x)){for(let Q=0;Q<x.length;Q++)ut(h,x[Q],T,A,G);return null}return T=Ul(T),h&&h[yt]?h.J(x,T,d(A)?!!A.capture:!1,G):ia(h,x,T,!1,A,G)}function ia(h,x,T,A,G,Q){if(!x)throw Error("Invalid event type");const le=d(G)?!!G.capture:!!G;let Ce=sa(h);if(Ce||(h[He]=Ce=new fe(h)),T=Ce.add(x,T,A,le,Q),T.proxy)return T;if(A=ao(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)q||(G=le),G===void 0&&(G=!1),h.addEventListener(x.toString(),A,G);else if(h.attachEvent)h.attachEvent(Di(x.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ao(){function h(T){return x.call(h.src,h.listener,T)}const x=Pl;return h}function oo(h,x,T,A,G){if(Array.isArray(x))for(var Q=0;Q<x.length;Q++)oo(h,x[Q],T,A,G);else A=d(A)?!!A.capture:!!A,T=Ul(T),h&&h[yt]?(h=h.i,Q=String(x).toString(),Q in h.g&&(x=h.g[Q],T=ke(x,T,A,G),T>-1&&(me(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[Q],h.h--)))):h&&(h=sa(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ke(x,T,A,G)),(T=h>-1?x[h]:null)&&lo(T))}function lo(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[yt])Se(x.i,h);else{var T=h.type,A=h.proxy;x.removeEventListener?x.removeEventListener(T,A,h.capture):x.detachEvent?x.detachEvent(Di(T),A):x.addListener&&x.removeListener&&x.removeListener(A),(T=sa(x))?(Se(T,h),T.h==0&&(T.src=null,x[He]=null)):me(h)}}}function Di(h){return h in Ft?Ft[h]:Ft[h]="on"+h}function Pl(h,x){if(h.da)h=!0;else{x=new st(x,this);const T=h.listener,A=h.ha||h.src;h.fa&&lo(h),h=T.call(A,x)}return h}function sa(h){return h=h[He],h instanceof fe?h:null}var Ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ul(h){return typeof h=="function"?h:(h[Ll]||(h[Ll]=function(x){return h.handleEvent(x)}),h[Ll])}function Ct(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}b(Ct,L),Ct.prototype[yt]=!0,Ct.prototype.removeEventListener=function(h,x,T,A){oo(this,h,x,T,A)};function Ht(h,x){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=x.type||x,typeof x=="string")x=new U(x,h);else if(x instanceof U)x.target=x.target||h;else{var G=x;x=new U(A,h),ue(x,G)}G=!0;let Q,le;if(T)for(le=T.length-1;le>=0;le--)Q=x.g=T[le],G=Xs(Q,A,!0,x)&&G;if(Q=x.g=h,G=Xs(Q,A,!0,x)&&G,G=Xs(Q,A,!1,x)&&G,T)for(le=0;le<T.length;le++)Q=x.g=T[le],G=Xs(Q,A,!1,x)&&G}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let A=0;A<T.length;A++)me(T[A]);delete h.g[x],h.h--}}this.G=null},Ct.prototype.J=function(h,x,T,A){return this.i.add(String(h),x,!1,T,A)},Ct.prototype.K=function(h,x,T,A){return this.i.add(String(h),x,!0,T,A)};function Xs(h,x,T,A){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let Q=0;Q<x.length;++Q){const le=x[Q];if(le&&!le.da&&le.capture==T){const Ce=le.listener,St=le.ha||le.src;le.fa&&Se(h.i,le),G=Ce.call(St,A)!==!1&&G}}return G&&!A.defaultPrevented}function _m(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Qu(h){h.g=_m(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class pn extends L{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(h){L.call(this),this.h=h,this.g={}}b(ra,L);var zl=[];function Bl(h){De(h.g,function(x,T){this.g.hasOwnProperty(T)&&lo(x)},h),h.g={}}ra.prototype.N=function(){ra.Z.N.call(this),Bl(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ws=c.JSON.stringify,wm=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wu(){}function Zu(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){U.call(this,"d")}b(Jt,U);function qn(){U.call(this,"c")}b(qn,U);var Et={},Ju=null;function co(){return Ju=Ju||new Ct}Et.Ia="serverreachability";function eh(h){U.call(this,Et.Ia,h)}b(eh,U);function ki(h){const x=co();Ht(x,new eh(x))}Et.STAT_EVENT="statevent";function aa(h,x){U.call(this,Et.STAT_EVENT,h),this.stat=x}b(aa,U);function It(h){const x=co();Ht(x,new aa(x,h))}Et.Ja="timingevent";function Mi(h,x){U.call(this,Et.Ja,h),this.size=x}b(Mi,U);function ji(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function hi(){this.g=!0}hi.prototype.ua=function(){this.g=!1};function Tm(h,x,T,A,G,Q){h.info(function(){if(h.g)if(Q){var le="",Ce=Q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var St=Ce[Ke].split("=");if(St.length>1){const ht=St[0];St=St[1];const Yn=ht.split("_");le=Yn.length>=2&&Yn[1]=="type"?le+(ht+"="+St+"&"):le+(ht+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+x+`
`+T+`
`+le})}function th(h,x,T,A,G,Q,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+x+`
`+T+`
`+Q+" "+le})}function Vi(h,x,T,A){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Em(h,T)+(A?" "+A:"")})}function oa(h,x){h.info(function(){return"TIMEOUT: "+x})}hi.prototype.info=function(){};function Em(h,x){if(!h.g)return x;if(!x)return null;try{const Q=JSON.parse(x);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Ws(Q)}catch{return x}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hl;function ca(){}b(ca,Wu),ca.prototype.g=function(){return new XMLHttpRequest},Hl=new ca;function ps(h){return encodeURIComponent(String(h))}function nh(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function di(h,x,T,A){this.j=h,this.i=x,this.l=T,this.S=A||1,this.V=new ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Dt={},Kt={};function Oi(h,x,T){h.M=1,h.A=ua(Mt(x)),h.u=T,h.R=!0,uo(h,null)}function uo(h,x){h.F=Date.now(),Pi(h),h.B=Mt(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),po(T.i,"t",A),h.C=0,T=h.j.L,h.h=new fi,h.g=yh(h.j,T?x:null,!h.u),h.P>0&&(h.O=new pn(g(h.Y,h,h.g),h.P)),x=h.V,T=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(zl[0]=G.toString()),G=zl);for(let Q=0;Q<G.length;Q++){const le=ut(T,G[Q],A||x.handleEvent,!1,x.h||x);if(!le)break;x.g[le.key]=le}x=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),ki(),Tm(h.i,h.v,h.B,h.l,h.S,h.u)}di.prototype.ba=function(h){h=h.target;const x=this.O;x&&gi(h)==3?x.j():this.Y(h)},di.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=gi(this.g),St=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ce!=4||St==7||(St==8||Ke<=0?ki(3):ki(2)),Li(this);var x=this.g.ca();this.X=x;var T=Sm(this);if(this.o=x==200,th(this.i,this.v,this.B,this.l,this.S,Ce,x),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(A)){var Q=A;break t}}Q=null}if(h=Q)Vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,h);else{this.o=!1,this.m=3,It(12),kn(this),Gn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<T.length;)if(ht=sh(this,T),ht==Kt){Ce==4&&(this.m=4,It(14),h=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Dt){this.m=4,It(15),Vi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Vi(this.i,this.l,ht,null),Ui(this,ht);if(ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||T.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)Vi(this.i,this.l,T,"[Invalid Chunked Response]"),kn(this),Gn(this);else if(T.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),sc(le),le.P=!0,It(11))}}else Vi(this.i,this.l,T,null),Ui(this,T);Ce==4&&kn(this),this.o&&!this.K&&(Ce==4?fh(this.j,this):(this.o=!1,Pi(this)))}else ys(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),kn(this),Gn(this)}}}catch{}finally{}};function Sm(h){if(!ih(h))return h.g.la();const x=en(h.g);if(x==="")return"";let T="";const A=x.length,G=gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Gn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,T+=h.h.i.decode(x[Q],{stream:!(G&&Q==A-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function ih(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function sh(h,x){var T=h.C,A=x.indexOf(`
`,T);return A==-1?Kt:(T=Number(x.substring(T,A)),isNaN(T)?Dt:(A+=1,A+T>x.length?Kt:(x=x.slice(A,A+T),h.C=A+T,x)))}di.prototype.cancel=function(){this.K=!0,kn(this)};function Pi(h){h.T=Date.now()+h.H,ho(h,h.H)}function ho(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ji(g(h.aa,h),x)}function Li(h){h.D&&(c.clearTimeout(h.D),h.D=null)}di.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(oa(this.i,this.B),this.M!=2&&(ki(),It(17)),kn(this),this.m=2,Gn(this)):ho(this,this.T-h)};function Gn(h){h.j.I==0||h.K||fh(h.j,h)}function kn(h){Li(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Bl(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Ui(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||Bi(T.h,h))){if(!h.L&&Bi(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(x)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)xo(T),rr(T);else break e;ya(T),It(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ji(g(T.Va,T),6e3));zi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ki(T,11)}else if((h.L||T.g==h)&&xo(T),!O(x))for(G=T.Ba.g.parse(x),x=0;x<G.length;x++){let Ke=G[x];const ht=Ke[0];if(!(ht<=T.K))if(T.K=ht,Ke=Ke[1],T.I==2)if(Ke[0]=="c"){T.M=Ke[1],T.ba=Ke[2];const Yn=Ke[3];Yn!=null&&(T.ka=Yn,T.j.info("VER="+T.ka));const Yi=Ke[4];Yi!=null&&(T.za=Yi,T.j.info("SVER="+T.za));const yi=Ke[5];yi!=null&&typeof yi=="number"&&yi>0&&(A=1.5*yi,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const vi=h.g;if(vi){const va=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var Q=A.h;Q.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&($l(Q,Q.h),Q.h=null))}if(A.G){const _o=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(A.wa=_o,We(A.J,A.G,_o))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var le=h;if(A.na=gh(A,A.L?A.ba:null,A.W),le.L){Kl(A.h,le);var Ce=le,St=A.O;St&&(Ce.H=St),Ce.D&&(Li(Ce),Pi(Ce)),A.g=le}else hh(A);T.i.length>0&&$i(T)}else Ke[0]!="stop"&&Ke[0]!="close"||Ki(T,7);else T.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ki(T,7):nc(T):Ke[0]!="noop"&&T.l&&T.l.qa(Ke),T.A=0)}}ki(4)}catch{}}var kt=class{constructor(h,x){this.g=h,this.map=x}};function ql(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zi(h){return h.h?1:h.g?h.g.size:0}function Bi(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function $l(h,x){h.g?h.g.add(x):h.h=x}function Kl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}ql.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Yl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return E(h.i)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fo(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let G,Q=null;A>=0?(G=h[T].substring(0,A),Q=h[T].substring(A+1)):G=h[T],x(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Mn?(this.l=h.l,Yt(this,h.j),this.o=h.o,this.g=h.g,Zs(this,h.u),this.h=h.h,Ql(this,ch(h.i)),this.m=h.m):h&&(x=String(h).match(rh))?(this.l=!1,Yt(this,x[1]||"",!0),this.o=Fi(x[2]||""),this.g=Fi(x[3]||"",!0),Zs(this,x[4]),this.h=Fi(x[5]||"",!0),Ql(this,x[6]||"",!0),this.m=Fi(x[7]||"")):(this.l=!1,this.i=new er(null,this.l))}Mn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ha(x,mo,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ha(x,mo,!0),"@"),h.push(ps(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ha(T,T.charAt(0)=="/"?Xl:ah,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ha(T,oh)),h.join("")},Mn.prototype.resolve=function(h){const x=Mt(this);let T=!!h.j;T?Yt(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var A=h.h;if(T)Zs(x,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=x.h.lastIndexOf("/");G!=-1&&(A=x.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let le=0;le<G.length;){const Ce=G[le++];Ce=="."?A&&le==G.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&le==G.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=G}return T?x.h=A:T=h.i.toString()!=="",T?Ql(x,ch(h.i)):T=!!h.m,T&&(x.m=h.m),x};function Mt(h){return new Mn(h)}function Yt(h,x,T){h.j=T?Fi(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Zs(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ql(h,x,T){x instanceof er?(h.i=x,go(h.i,h.l)):(T||(x=ha(x,Js)),h.i=new er(x,h.l))}function We(h,x,T){h.i.set(x,T)}function ua(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Fi(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ha(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,xn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var mo=/[#\/\?@]/g,ah=/[#\?:]/g,Xl=/[#\?]/g,Js=/[#\?@]/g,oh=/#/g;function er(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function _n(h){h.g||(h.g=new Map,h.h=0,h.i&&fo(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=er.prototype,t.add=function(h,x){_n(this),this.i=null,h=tr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function lh(h,x){_n(h),x=tr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Wl(h,x){return _n(h),x=tr(h,x),h.g.has(x)}t.forEach=function(h,x){_n(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(x,G,A,this)},this)},this)};function Zl(h,x){_n(h);let T=[];if(typeof x=="string")Wl(h,x)&&(T=T.concat(h.g.get(tr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return _n(this),this.i=null,h=tr(this,h),Wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Zl(this,h),h.length>0?String(h[0]):x):x};function po(h,x,T){lh(h,x),T.length>0&&(h.i=null,h.g.set(tr(h,x),E(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let A=0;A<x.length;A++){var T=x[A];const G=ps(T);T=Zl(this,T);for(let Q=0;Q<T.length;Q++){let le=G;T[Q]!==""&&(le+="="+ps(T[Q])),h.push(le)}}return this.i=h.join("&")};function ch(h){const x=new er;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function tr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function go(h,x){x&&!h.j&&(_n(h),h.i=null,h.g.forEach(function(T,A){const G=A.toLowerCase();A!=G&&(lh(this,A),po(this,G,T))},h)),h.j=x}function mi(h,x){const T=new hi;if(c.Image){const A=new Image;A.onload=v($n,T,"TestLoadImage: loaded",!0,x,A),A.onerror=v($n,T,"TestLoadImage: error",!1,x,A),A.onabort=v($n,T,"TestLoadImage: abort",!1,x,A),A.ontimeout=v($n,T,"TestLoadImage: timeout",!1,x,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else x(!1)}function Jl(h,x){const T=new hi,A=new AbortController,G=setTimeout(()=>{A.abort(),$n(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(G),Q.ok?$n(T,"TestPingServer: ok",!0,x):$n(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),$n(T,"TestPingServer: error",!1,x)})}function $n(h,x,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function nr(){this.g=new Xu}function Hi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Hi,Wu),Hi.prototype.g=function(){return new da(this.i,this.h)};function da(h,x){Ct.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(da,Ct),t=da.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,pi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function yo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?ir(this):pi(this),this.readyState==3&&yo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,ir(this))},t.Na=function(h){this.g&&(this.response=h,ir(this))},t.ga=function(){this.g&&ir(this)};function ir(h){h.readyState=4,h.l=null,h.j=null,h.B=null,pi(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let x="";return De(h,function(T,A){x+=A,x+=":",x+=T,x+=`\r
`}),x}function fa(h,x,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=Kn(T),typeof h=="string"?T!=null&&ps(T):We(h,x,T))}function et(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(et,Ct);var qi=/^https?$/i,ec=["POST","PUT"];t=et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hl.g(),this.g.onreadystatechange=_(g(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(Q){ma(this,Q);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ec,x,void 0)>=0)||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of T)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ma(this,Q)}};function ma(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,tc(h),gs(h)}function tc(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},t.Xa=function(){pa(this)};function pa(h){if(h.h&&typeof l<"u"){if(h.v&&gi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),gi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var A;if(A=Q===0){let le=String(h.D).match(rh)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!qi.test(le?le.toLowerCase():"")}T=A}if(T)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var G=gi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",tc(h)}}finally{gs(h)}}}}function gs(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||Ht(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),wm(x)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ys(h){const x={};h=(h.g&&gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(O(h[A]))continue;var T=nh(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=x[G]||[];x[G]=Q,Q.push(T)}Oe(x,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function sr(h){this.za=0,this.i=[],this.j=new hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,h),this.Za=Gi("retryDelaySeedMs",1e4,h),this.Ta=Gi("forwardChannelMaxRetries",2,h),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ql(h&&h.concurrentRequestLimit),this.Ba=new nr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=sr.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,A){It(0),this.W=h,this.H=x||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=gh(this,null,this.W),$i(this)};function nc(h){if(vo(h),h.I==3){var x=h.V++,T=Mt(h.J);if(We(T,"SID",h.M),We(T,"RID",x),We(T,"TYPE","terminate"),ga(h,T),x=new di(h,h.j,x),x.M=2,x.A=ua(Mt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.A,T=!0),T||(x.g=yh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Pi(x)}ph(h)}function rr(h){h.g&&(sc(h),h.g.cancel(),h.g=null)}function vo(h){rr(h),h.v&&(c.clearTimeout(h.v),h.v=null),xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function $i(h){if(!Gl(h.h)&&!h.m){h.m=!0;var x=h.Ea;ee||R(),ae||(ee(),ae=!0),I.add(x,h),h.D=0}}function bo(h,x){return zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ji(g(h.Ea,h,x),mh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new di(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=B(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(x+=A,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=uh(this,G,x),T=Mt(this.J),We(T,"RID",h),We(T,"CVER",22),this.G&&We(T,"X-HTTP-Session-Id",this.G),ga(this,T),Q&&(this.R?x="headers="+ps(Kn(Q))+"&"+x:this.u&&fa(T,this.u,Q)),$l(this.h,G),this.Ra&&We(T,"TYPE","init"),this.S?(We(T,"$req",x),We(T,"SID","null"),G.U=!0,Oi(G,T,null)):Oi(G,T,x),this.I=2}}else this.I==3&&(h?ic(this,h):this.i.length==0||Gl(this.h)||ic(this))};function ic(h,x){var T;x?T=x.l:T=h.V++;const A=Mt(h.J);We(A,"SID",h.M),We(A,"RID",T),We(A,"AID",h.K),ga(h,A),h.u&&h.o&&fa(A,h.u,h.o),T=new di(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=uh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),$l(h.h,T),Oi(T,A,x)}function ga(h,x){h.H&&De(h.H,function(T,A){We(x,A,T)}),h.l&&De({},function(T,A){We(x,A,T)})}function uh(h,x,T){T=Math.min(h.i.length,T);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ce=-1;for(;;){const St=["count="+T];Ce==-1?T>0?(Ce=G[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Ke=!0;for(let ht=0;ht<T;ht++){var Q=G[ht].g;const Yn=G[ht].map;if(Q-=Ce,Q<0)Ce=Math.max(0,G[ht].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var le=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Yi,yi]of le){let vi=yi;d(yi)&&(vi=Ws(yi)),St.push(Q+Yi+"="+encodeURIComponent(vi))}}catch(Yi){throw St.push(Q+"type="+encodeURIComponent("_badmap")),Yi}}catch{A&&A(Yn)}}if(Ke){le=St.join("&");break e}}le=void 0}return h=h.i.splice(0,T),x.G=h,le}function hh(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ee||R(),ae||(ee(),ae=!0),I.add(x,h),h.A=0}}function ya(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ji(g(h.Da,h),mh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,dh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ji(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),rr(this),dh(this))};function sc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function dh(h){h.g=new di(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Mt(h.na);We(x,"RID","rpc"),We(x,"SID",h.M),We(x,"AID",h.K),We(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(x,"TO",h.ia),We(x,"TYPE","xmlhttp"),ga(h,x),h.u&&h.o&&fa(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ua(Mt(x)),T.u=null,T.R=!0,uo(T,h)}t.Va=function(){this.C!=null&&(this.C=null,rr(this),ya(this),It(19))};function xo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function fh(h,x){var T=null;if(h.g==x){xo(h),sc(h),h.g=null;var A=2}else if(Bi(h.h,x))T=x.G,Kl(h.h,x),A=1;else return;if(h.I!=0){if(x.o)if(A==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;A=co(),Ht(A,new Mi(A,T)),$i(h)}else hh(h);else if(G=x.m,G==3||G==0&&x.X>0||!(A==1&&bo(h,x)||A==2&&ya(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),G){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function mh(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function Ki(h,x){if(h.j.info("Error code "+x),x==2){var T=g(h.bb,h),A=h.Ua;const G=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yt(A,"https"),ua(A),G?mi(A.toString(),T):Jl(A.toString(),T)}else It(2);h.I=0,h.l&&h.l.pa(x),ph(h),vo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function ph(h){if(h.I=0,h.ja=[],h.l){const x=Yl(h.h);(x.length!=0||h.i.length!=0)&&(M(h.ja,x),M(h.ja,h.i),h.h.i.length=0,E(h.i),h.i.length=0),h.l.oa()}}function gh(h,x,T){var A=T instanceof Mn?Mt(T):new Mn(T);if(A.g!="")x&&(A.g=x+"."+A.g),Zs(A,A.u);else{var G=c.location;A=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const Q=new Mn(null);A&&Yt(Q,A),x&&(Q.g=x),G&&Zs(Q,G),T&&(Q.h=T),A=Q}return T=h.G,x=h.wa,T&&x&&We(A,T,x),We(A,"VER",h.ka),ga(h,A),A}function yh(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new et(new Hi({ab:T})):new et(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vh(){}t=vh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ar(){}ar.prototype.g=function(h,x){return new gn(h,x)};function gn(h,x){Ct.call(this),this.g=new sr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!O(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new vs(this)}b(gn,Ct),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){nc(this.g)},gn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Ws(h),h=T);x.i.push(new kt(x.Ya++,h)),x.I==3&&$i(x)},gn.prototype.N=function(){this.g.l=null,delete this.j,nc(this.g),delete this.g,gn.Z.N.call(this)};function bh(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(bh,Jt);function xh(){qn.call(this),this.status=1}b(xh,qn);function vs(h){this.g=h}b(vs,vh),vs.prototype.ra=function(){Ht(this.g,"a")},vs.prototype.qa=function(h){Ht(this.g,new bh(h))},vs.prototype.pa=function(h){Ht(this.g,new xh)},vs.prototype.oa=function(){Ht(this.g,"b")},ar.prototype.createWebChannel=ar.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,yS=function(){return new ar},gS=function(){return co()},pS=Et,g0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Kd=la,Fl.COMPLETE="complete",mS=Fl,Zu.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Kc=Zu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,fS=et}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore",ww="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new vy("@firebase/firestore");function Wo(){return Za.logLevel}function de(t,...e){if(Za.logLevel<=Ue.DEBUG){const n=e.map(Cy);Za.debug(`Firestore (${Nl}): ${t}`,...n)}}function qs(t,...e){if(Za.logLevel<=Ue.ERROR){const n=e.map(Cy);Za.error(`Firestore (${Nl}): ${t}`,...n)}}function ml(t,...e){if(Za.logLevel<=Ue.WARN){const n=e.map(Cy);Za.warn(`Firestore (${Nl}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vS(t,s,n)}function vS(t,e,n){let s=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qs(s),new Error(s)}function Xe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||vS(e,a,s)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class bM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Us,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Us)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new bS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class _M{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new _M(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=EM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function y0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Vg(a)===Vg(l)?ze(a,l):Vg(a)?1:-1}return ze(t.length,e.length)}const SM=55296,AM=57343;function Vg(t){const e=t.charCodeAt(0);return e>=SM&&e<=AM}function pl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ji.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),a=Ji.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):y0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}}class at extends Ji{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const RM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Ji{construct(e,n,s){return new on(e,n,s)}static isValidIdentifier(e){return RM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ew}static keyField(){return new on([Ew])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(at.fromString(e))}static fromName(e){return new be(at.fromString(e).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NM(t,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sw(t){if(!be.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Aw(t){if(be.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _S(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gf(t);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vu(t,e){if(!_S(t))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=-62135596800,Nw=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Nw);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rw)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Bt("string",ct._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ct(0,0))}static max(){return new Ae(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function CM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new Hr(a,be.empty(),e)}function IM(t){return new Hr(t.readTime,t.key,pu)}class Hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(Ae.min(),be.empty(),pu)}static max(){return new Hr(Ae.max(),be.empty(),pu)}}function DM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==kM)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{c[g]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function jM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$f.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=-1;function Kf(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function VM(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="";function OM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Cw(e)),e=PM(t.get(n),e);return Cw(e)}function PM(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case wS:n+="";break;default:n+=l}}return n}function Cw(t){return t+wS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new an(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dw(this.data.getIterator())}getIteratorFrom(e){return new Dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new $t(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ES("Invalid base64 string: "+l):l}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const LM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=LM.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="server_timestamp",AS="__type__",RS="__previous_value__",NS="__local_write_time__";function ky(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[AS])==null?void 0:s.stringValue)===SS}function Yf(t){const e=t.mapValue.fields[RS];return ky(e)?Yf(e):e}function gu(t){const e=qr(t.mapValue.fields[NS].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,s,a,l,c,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const gf="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||gf}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="__type__",zM="__max__",Nd={mapValue:{}},IS="__vector__",yf="value";function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ky(t)?4:FM(t)?9007199254740991:BM(t)?10:11:we(28295,{value:t})}function hs(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=qr(a.timestampValue),d=qr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Gr(a.bytesValue).isEqual(Gr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),d=Nt(l.doubleValue);return c===d?pf(c)===pf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Iw(c)!==Iw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!hs(c[m],d[m])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function vu(t,e){return(t.values||[]).find((n=>hs(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=$r(t),s=$r(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Nt(l.integerValue||l.doubleValue),m=Nt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return kw(t.timestampValue,e.timestampValue);case 4:return kw(gu(t),gu(e));case 5:return y0(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Gr(l),m=Gr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=ze(d[g],m[g]);if(v!==0)return v}return ze(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ze(Nt(l.latitude),Nt(c.latitude));return d!==0?d:ze(Nt(l.longitude),Nt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Mw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var _,E,M,k;const d=l.fields||{},m=c.fields||{},g=(_=d[yf])==null?void 0:_.arrayValue,v=(E=m[yf])==null?void 0:E.arrayValue,b=ze(((M=g==null?void 0:g.values)==null?void 0:M.length)||0,((k=v==null?void 0:v.values)==null?void 0:k.length)||0);return b!==0?b:Mw(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Nd.mapValue&&c===Nd.mapValue)return 0;if(l===Nd.mapValue)return 1;if(c===Nd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const _=y0(m[b],v[b]);if(_!==0)return _;const E=gl(d[m[b]],g[v[b]]);if(E!==0)return E}return ze(m.length,v.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=qr(t),s=qr(e),a=ze(n.seconds,s.seconds);return a!==0?a:ze(n.nanos,s.nanos)}function Mw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=gl(n[a],s[a]);if(l)return l}return ze(n.length,s.length)}function yl(t){return v0(t)}function v0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=qr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Gr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=v0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${v0(n.fields[c])}`;return a+"}"})(t.mapValue):we(61005,{value:t})}function Yd(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yf(t);return e?16+Yd(e):16;case 5:return 2*t.stringValue.length;case 6:return Gr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Yd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Jr(s.fields,((l,c)=>{a+=l.length+Yd(c)})),a})(t.mapValue);default:throw we(13486,{value:t})}}function jw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function b0(t){return!!t&&"integerValue"in t}function My(t){return!!t&&"arrayValue"in t}function Vw(t){return!!t&&"nullValue"in t}function Ow(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qd(t){return!!t&&"mapValue"in t}function BM(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CS])==null?void 0:s.stringValue)===IS}function nu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Jr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return{...t}}function FM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=on.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=nu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Qd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Jr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Nn(nu(this.value))}}function DS(t){const e=[];return Jr(t.fields,((n,s)=>{const a=new on([n]);if(Qd(s)){const l=DS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ae.min(),Ae.min(),Ae.min(),Nn.empty(),0)}static newFoundDocument(e,n,s,a){return new dn(e,1,n,Ae.min(),s,a,0)}static newNoDocument(e,n){return new dn(e,2,n,Ae.min(),Ae.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ae.min(),Ae.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.position=e,this.inclusive=n}}function Pw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(c.referenceValue),n.key):s=gl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function HM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{}class zt extends kS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GM(e,n,s):n==="array-contains"?new YM(e,s):n==="in"?new QM(e,s):n==="not-in"?new XM(e,s):n==="array-contains-any"?new WM(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $M(e,s):new KM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends kS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ni(e,n)}matches(e){return MS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MS(t){return t.op==="and"}function jS(t){return qM(t)&&MS(t)}function qM(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function x0(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(jS(t))return t.filters.map((e=>x0(e))).join(",");{const e=t.filters.map((n=>x0(n))).join(",");return`${t.op}(${e})`}}function VS(t,e){return t instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&hs(s.value,a.value)})(t,e):t instanceof Ni?(function(s,a){return a instanceof Ni&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&VS(c,a.filters[d])),!0):!1})(t,e):void we(19439)}function OS(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(t):t instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(OS).join(" ,")+"}"})(t):"Filter"}class GM extends zt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class $M extends zt{constructor(e,n){super(e,"in",n),this.keys=PS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KM extends zt{constructor(e,n){super(e,"not-in",n),this.keys=PS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>be.fromName(s.referenceValue)))}class YM extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return My(n)&&vu(n.arrayValue,this.value)}}class QM extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class XM extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class WM extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!My(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>vu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Uw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new ZM(t,e,n,s,a,l,c)}function jy(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>x0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yl(s))).join(",")),e.Te=n}return e.Te}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function _0(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JM(t,e,n,s,a,l,c,d){return new Dl(t,e,n,s,a,l,c,d)}function Qf(t){return new Dl(t)}function zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LS(t){return t.collectionGroup!==null}function iu(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(on.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bu(l,s))})),n.has(on.keyField().canonicalString())||e.Ie.push(new bu(on.keyField(),s))}return e.Ie}function ss(t){const e=Ne(t);return e.Ee||(e.Ee=ej(e,iu(t))),e.Ee}function ej(t,e){if(t.limitType==="F")return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new bu(a.field,l)}));const n=t.endAt?new vf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new vf(t.startAt.position,t.startAt.inclusive):null;return Uw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function w0(t,e){const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bf(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xf(t,e){return Vy(ss(t),ss(e))&&t.limitType===e.limitType}function US(t){return`${jy(ss(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>OS(a))).join(", ")}]`),Kf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>yl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>yl(a))).join(",")),`Target(${s})`})(ss(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of iu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=Pw(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,iu(s),a)||s.endAt&&!(function(c,d,m){const g=Pw(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,iu(s),a))})(t,e)}function tj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let s=!1;for(const a of iu(t)){const l=nj(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function nj(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?gl(m,g):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new gt(be.comparator);function Gs(){return ij}const BS=new gt(be.comparator);function Yc(...t){let e=BS;for(const n of t)e=e.insert(n.key,n);return e}function FS(t){let e=BS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function La(){return su()}function HS(){return su()}function su(){return new io((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sj=new gt(be.comparator),rj=new $t(be.comparator);function Be(...t){let e=rj;for(const n of t)e=e.add(n);return e}const aj=new $t(ze);function oj(){return aj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function lj(t,e){return VM(e)?qS(e):Oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function cj(t,e,n){return t instanceof xf?(function(a,l){const c={fields:{[AS]:{stringValue:SS},[NS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ky(l)&&(l=Yf(l)),l&&(c.fields[RS]=l),{mapValue:c}})(n,e):t instanceof xu?$S(t,e):t instanceof _u?KS(t,e):(function(a,l){const c=GS(a,l),d=Bw(c)+Bw(a.Ae);return b0(c)&&b0(a.Ae)?qS(d):Oy(a.serializer,d)})(t,e)}function uj(t,e,n){return t instanceof xu?$S(t,e):t instanceof _u?KS(t,e):n}function GS(t,e){return t instanceof _f?(function(s){return b0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class xf extends Zf{}class xu extends Zf{constructor(e){super(),this.elements=e}}function $S(t,e){const n=YS(e);for(const s of t.elements)n.some((a=>hs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class _u extends Zf{constructor(e){super(),this.elements=e}}function KS(t,e){let n=YS(e);for(const s of t.elements)n=n.filter((a=>!hs(a,s)));return{arrayValue:{values:n}}}class _f extends Zf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Bw(t){return Nt(t.integerValue||t.doubleValue)}function YS(t){return My(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hj(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof xu&&a instanceof xu||s instanceof _u&&a instanceof _u?pl(s.elements,a.elements,hs):s instanceof _f&&a instanceof _f?hs(s.Ae,a.Ae):s instanceof xf&&a instanceof xf})(t.transform,e.transform)}class dj{constructor(e,n){this.version=e,this.transformResults=n}}class li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jf{}function QS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Py(t.key,li.none()):new Ou(t.key,t.data,li.none());{const n=t.data,s=Nn.empty();let a=new $t(on.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ea(t.key,s,new Bn(a.toArray()),li.none())}}function fj(t,e,n){t instanceof Ou?(function(a,l,c){const d=a.value.clone(),m=Hw(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ea?(function(a,l,c){if(!Xd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Hw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(XS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ru(t,e,n,s){return t instanceof Ou?(function(l,c,d,m){if(!Xd(l.precondition,c))return d;const g=l.value.clone(),v=qw(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof ea?(function(l,c,d,m){if(!Xd(l.precondition,c))return d;const g=qw(l.fieldTransforms,m,c),v=c.data;return v.setAll(XS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,d){return Xd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function mj(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=GS(s.transform,a||null);l!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,l))}return n||null}function Fw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&pl(s,a,((l,c)=>hj(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Jf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ea extends Jf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function XS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Hw(t,e,n){const s=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,uj(c,d,n[a]))}return s}function qw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,cj(l,c,e))}return s}class Py extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pj extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&fj(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=HS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=QS(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,s)=>Fw(n,s)))&&pl(this.baseMutations,e.baseMutations,((n,s)=>Fw(n,s)))}}class Ly{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return sj})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Ly(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,qe;function bj(t){switch(t){case ne.OK:return we(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function WS(t){if(t===void 0)return qs("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Lt.OK:return ne.OK;case Lt.CANCELLED:return ne.CANCELLED;case Lt.UNKNOWN:return ne.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ne.INTERNAL;case Lt.UNAVAILABLE:return ne.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ne.NOT_FOUND;case Lt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Lt.ABORTED:return ne.ABORTED;case Lt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Lt.DATA_LOSS:return ne.DATA_LOSS;default:return we(39323,{code:t})}}(qe=Lt||(Lt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new zr([4294967295,4294967295],0);function Gw(t){const e=xj().encode(t),n=new dS;return n.update(e),new Uint8Array(n.digest())}function $w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zr([n,s],0),new zr([a,l],0)]}class Uy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Qc(`Invalid padding: ${n}`);if(s<0)throw new Qc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(zr.fromNumber(s)));return a.compare(_j)===1&&(a=new zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gw(e),[s,a]=$w(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Uy(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=Gw(e),[s,a]=$w(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new em(Ae.min(),a,new gt(ze),Gs(),Be())}}class Pu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pu(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class ZS{constructor(e,n){this.targetId=e,this.Ce=n}}class JS{constructor(e,n,s=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Kw{constructor(){this.ve=0,this.Fe=Yw(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we(38017,{changeType:l})}})),new Pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Yw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gs(),this.Je=Cd(),this.He=Cd(),this.Ye=new gt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(_0(l))if(s===0){const c=new be(l.path);this.et(n,c,dn.newNoDocument(c,Ae.min()))}else Xe(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Gr(s).toUint8Array()}catch(m){if(m instanceof ES)return ml("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Uy(c,a,l)}catch(m){return ml(m instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&_0(d.target)){const m=new be(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,dn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new em(e,n,this.Ye,this.je,s);return this.je=Gs(),this.Je=Cd(),this.He=Cd(),this.Ye=new gt(ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Kw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cd(){return new gt(be.comparator)}function Yw(){return new gt(be.comparator)}const Tj={asc:"ASCENDING",desc:"DESCENDING"},Ej={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sj={and:"AND",or:"OR"};class Aj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function T0(t,e){return t.useProto3Json||Kf(e)?e:{value:e}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rj(t,e){return wf(t,e.toTimestamp())}function rs(t){return Xe(!!t,49232),Ae.fromTimestamp((function(n){const s=qr(n);return new ct(s.seconds,s.nanos)})(t))}function zy(t,e){return E0(t,e).canonicalString()}function E0(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tA(t){const e=at.fromString(t);return Xe(aA(e),10190,{key:e.toString()}),e}function S0(t,e){return zy(t.databaseId,e.path)}function Og(t,e){const n=tA(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(iA(n))}function nA(t,e){return zy(t.databaseId,e)}function Nj(t){const e=tA(t);return e.length===4?at.emptyPath():iA(e)}function A0(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iA(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Qw(t,e,n){return{name:S0(t,e),fields:n.value.mapValue.fields}}function Cj(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ne.UNKNOWN:WS(g.code);return new he(v,g.message||"")})(c);n=new JS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Og(t,s.document.name),l=rs(s.document.updateTime),c=s.document.createTime?rs(s.document.createTime):Ae.min(),d=new Nn({mapValue:{fields:s.document.fields}}),m=dn.newFoundDocument(a,l,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Wd(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Og(t,s.document),l=s.readTime?rs(s.readTime):Ae.min(),c=dn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Wd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Og(t,s.document),l=s.removedTargetIds||[];n=new Wd([],l,a,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new vj(a,l),d=s.targetId;n=new ZS(d,c)}}return n}function Ij(t,e){let n;if(e instanceof Ou)n={update:Qw(t,e.key,e.value)};else if(e instanceof Py)n={delete:S0(t,e.key)};else if(e instanceof ea)n={update:Qw(t,e.key,e.data),updateMask:Uj(e.fieldMask)};else{if(!(e instanceof pj))return we(16599,{Vt:e.type});n={verify:S0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof xf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _f)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Rj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(t,e.precondition)),n}function Dj(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?rs(a.updateTime):rs(l);return c.isEqual(Ae.min())&&(c=rs(l)),new dj(c,a.transformResults||[])})(n,e)))):[]}function kj(t,e){return{documents:[nA(t,e.path)]}}function Mj(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=nA(t,a);const l=(function(g){if(g.length!==0)return rA(Ni.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(_){return{field:Jo(_.field),direction:Oj(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=T0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function jj(t){let e=Nj(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Xe(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const _=sA(b);return _ instanceof Ni&&jS(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((_=>(function(M){return new bu(el(M.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let _;return _=typeof b=="object"?b.value:b,Kf(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(b){const _=!!b.before,E=b.values||[];return new vf(E,_)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const _=!b.before,E=b.values||[];return new vf(E,_)})(n.endAt)),JM(e,a,c,l,d,"F",m,g)}function Vj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=el(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=el(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(el(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>sA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function Oj(t){return Tj[t]}function Pj(t){return Ej[t]}function Lj(t){return Sj[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function el(t){return on.fromServerFormat(t.fieldPath)}function rA(t){return t instanceof zt?(function(n){if(n.op==="=="){if(Ow(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(Vw(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ow(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(Vw(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:Pj(n.op),value:n.value}}})(t):t instanceof Ni?(function(n){const s=n.getFilters().map((a=>rA(a)));return s.length===1?s[0]:{compositeFilter:{op:Lj(n.op),filters:s}}})(t):we(54877,{filter:t})}function Uj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,s,a,l=Ae.min(),c=Ae.min(),d=ln.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.yt=e}}function Bj(t){const e=jj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.Cn=new Hj}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Hr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Hj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oA=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(oA,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="LruGarbageCollector",qj=1048576;function Zw([t,e],[n,s]){const a=ze(t,n);return a===0?ze(e,s):a}class Gj{constructor(e){this.Ir=e,this.buffer=new $t(Zw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Zw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $j{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Ww,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Il(n)?de(Ww,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Vr(3e5)}))}}class Kj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve($f.ce);const s=new Gj(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Xw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,d=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Wo()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function Yj(t,e){return new Kj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.changes=new io((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&ru(s.mutation,a,Bn.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=La();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Yc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=La();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=Gs();const c=su(),d=(function(){return su()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ea)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ru(v.mutation,g,v.mutation.getFieldMask(),ct.now())):c.set(g.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new Xj(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=su();let a=new gt(((c,d)=>c-d)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Bn.empty();v=d.applyToLocalView(g,v),s.set(m,v);const b=(a.get(d.batchId)||Be()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,b=HS();v.forEach((_=>{if(!l.has(_)){const E=QS(n.get(_),s.get(_));E!==null&&b.set(_,E),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(La());let d=pu,m=l;return c.next((g=>re.forEach(g,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{m=m.insert(v,_)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Be()))).next((v=>({batchId:d,changes:FS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=Yc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Yc();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(m=>{const g=(function(b,_){return new Dl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((b,_)=>{c=c.insert(b,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))}));let d=Yc();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&ru(v.mutation,g,Bn.empty(),ct.now()),Wf(n,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:rs(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Bj(a.bundledQuery),readTime:rs(a.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.overlays=new gt(be.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=La();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=La(),l=n.length+1,c=new be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new gt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=La(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=La(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return re.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new yj(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Qr=new $t(Wt.$r),this.Ur=new $t(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new at([])),s=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new at([])),s=new Wt(n,e),a=new Wt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Wt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new gj(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Dy:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(ze);return n.forEach((a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new be(l),0);let d=new $t(ze);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),re.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.ri=e,this.docs=(function(){return new gt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let s=Gs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Gs();const c=n.path,d=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||DM(IM(v),s)<=0||(a.has(v.key)||Wf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){we(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new i6(this)}getSize(e){return re.resolve(this.size)}}class i6 extends Qj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.persistence=e,this.si=new io((n=>jy(n)),Vy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new By,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.ui={},this.overlays={},this.ci=new $f(0),this.li=!1,this.li=!0,this.hi=new e6,this.referenceDelegate=e(this),this.Pi=new s6(this),this.indexManager=new Fj,this.remoteDocumentCache=(function(a){return new n6(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zj(n),this.Ii=new Zj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new t6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new r6(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class r6 extends MM{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Ri=new By,this.Vi=null}static mi(e){return new Fy(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=be.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tf{constructor(e,n){this.persistence=e,this.pi=new io((s=>OM(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Yj(this,n)}static mi(e,n){return new Tf(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BI()?8:jM(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new a6;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Wo()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Wo()<=Ue.DEBUG&&de("QueryEngine","Query:",Zo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Wo()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):re.resolve())}ys(e,n){if(zw(n))return re.resolve(null);let s=ss(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=bf(n,null,"F"),s=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(e,bf(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return zw(n)||a.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?re.resolve(null):(Wo()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zo(n)),this.vs(e,c,n,CM(a,pu)).next((d=>d)))}))}Ds(e,n){let s=new $t(zS(e));return n.forEach(((a,l)=>{Wf(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Wo()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.ps.getDocumentsMatchingQuery(e,n,Hr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="LocalStore",l6=3e8;class c6{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(ze),this.xs=new io((l=>jy(l)),Vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function u6(t,e,n,s){return new c6(t,e,n,s)}async function cA(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Be();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function h6(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const b=g.batch,_=b.keys();let E=re.resolve();return _.forEach((M=>{E=E.next((()=>v.getEntry(m,M))).next((k=>{const C=g.docVersions.get(M);Xe(C!==null,48541),k.version.compareTo(C)<0&&(b.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function uA(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function d6(t,e){const n=Ne(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,b)=>{const _=a.get(b);if(!_)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let E=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(ln.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,s)),a=a.insert(b,E),(function(k,C,V){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=l6?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(_,E,v)&&d.push(n.Pi.updateTargetData(l,E))}));let m=Gs(),g=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(f6(l,c,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Ae.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return re.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function f6(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Gs();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):de(qy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function m6(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Dy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function p6(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Pr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function R0(t,e,n){const s=Ne(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Il(c))throw c;de(qy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Jw(t,e,n){const s=Ne(t);let a=Ae.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const b=Ne(m),_=b.xs.get(v);return _!==void 0?re.resolve(b.Ms.get(_)):b.Pi.getTargetData(g,v)})(s,c,ss(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ae.min(),n?l:Be()))).next((d=>(g6(s,tj(e),d),{documents:d,Qs:l})))))}function g6(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class e2{constructor(){this.activeTargetIds=oj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y6{constructor(){this.Mo=new e2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e2,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="ConnectivityMonitor";class n2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(t2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(t2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=null;function N0(){return Id===null?Id=(function(){return 268435456+Math.round(2147483648*Math.random())})():Id++,"0x"+Id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",b6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=N0(),d=this.zo(e,n.toUriEncodedString());de(Pg,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=Zr(g);return this.Jo(e,d,m,s,v).then((b=>(de(Pg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw ml(Pg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",s),b}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=b6[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class w6 extends x6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=N0();return new Promise(((d,m)=>{const g=new fS;g.setWithCredentials(!0),g.listenOnce(mS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Kd.NO_ERROR:const b=g.getResponseJson();de(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Kd.TIMEOUT:de(un,`RPC '${e}' ${c} timed out`),m(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Kd.HTTP_ERROR:const _=g.getStatus();if(de(un,`RPC '${e}' ${c} failed with status:`,_,"response text:",g.getResponseText()),_>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const M=E==null?void 0:E.error;if(M&&M.status&&M.message){const k=(function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN})(M.status);m(new he(k,M.message))}else m(new he(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ne.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(un,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);de(un,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=N0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=yS(),d=gS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");de(un,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.I_(b);let _=!1,E=!1;const M=new _6({Yo:C=>{E?de(un,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(_||(de(un,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),de(un,`RPC '${e}' stream ${a} sending:`,C),b.send(C))},Zo:()=>b.close()}),k=(C,V,F)=>{C.listen(V,(N=>{try{F(N)}catch(W){setTimeout((()=>{throw W}),0)}}))};return k(b,Kc.EventType.OPEN,(()=>{E||(de(un,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),k(b,Kc.EventType.CLOSE,(()=>{E||(E=!0,de(un,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(b))})),k(b,Kc.EventType.ERROR,(C=>{E||(E=!0,ml(un,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),M.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),k(b,Kc.EventType.MESSAGE,(C=>{var V;if(!E){const F=C.data[0];Xe(!!F,16349);const N=F,W=(N==null?void 0:N.error)||((V=N[0])==null?void 0:V.error);if(W){de(un,`RPC '${e}' stream ${a} received error:`,W);const ee=W.status;let ae=(function(j){const L=Lt[j];if(L!==void 0)return WS(L)})(ee),I=W.message;ae===void 0&&(ae=ne.INTERNAL,I="Unknown error status: "+ee+" with message "+W.message),E=!0,M.a_(new he(ae,I)),b.close()}else de(un,`RPC '${e}' stream ${a} received:`,F),M.u_(F)}})),k(d,pS.STAT_EVENT,(C=>{C.stat===g0.PROXY?de(un,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===g0.NOPROXY&&de(un,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new Aj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="PersistentStream";class dA{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(i2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(i2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class T6 extends dA{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Cj(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?rs(c.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=A0(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=_0(m)?{documents:kj(l,m)}:{query:Mj(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=eA(l,c.resumeToken);const g=T0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=wf(l,c.snapshotVersion.toTimestamp());const g=T0(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=Vj(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=A0(this.serializer),n.removeTarget=e,this.q_(n)}}class E6 extends dA{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Dj(e.writeResults,e.commitTime),s=rs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=A0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Ij(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{}class A6 extends S6{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,E0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,E0(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class R6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class N6{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{so(this)&&(de(Ja,"Restarting streams for network reachability change."),await(async function(m){const g=Ne(m);g.Ea.add(4),await Lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await nm(g)})(this))}))})),this.Ra=new R6(s,a)}}async function nm(t){if(so(t))for(const e of t.da)await e(!0)}async function Lu(t){for(const e of t.da)await e(!1)}function fA(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yy(n)?Ky(n):kl(n).O_()&&$y(n,e))}function Gy(t,e){const n=Ne(t),s=kl(n);n.Ia.delete(e),s.O_()&&mA(n,e),n.Ia.size===0&&(s.O_()?s.L_():so(n)&&n.Ra.set("Unknown"))}function $y(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Y_(e)}function mA(t,e){t.Va.Ue(e),kl(t).Z_(e)}function Ky(t){t.Va=new wj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Ra.ua()}function Yy(t){return so(t)&&!kl(t).x_()&&t.Ia.size>0}function so(t){return Ne(t).Ea.size===0}function pA(t){t.Va=void 0}async function C6(t){t.Ra.set("Online")}async function I6(t){t.Ia.forEach(((e,n)=>{$y(t,e)}))}async function D6(t,e){pA(t),Yy(t)?(t.Ra.ha(e),Ky(t)):t.Ra.set("Unknown")}async function k6(t,e,n){if(t.Ra.set("Online"),e instanceof JS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){de(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ef(t,s)}else if(e instanceof Wd?t.Va.Ze(e):e instanceof ZS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await uA(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),mA(l,m);const b=new Pr(v.target,m,g,v.sequenceNumber);$y(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){de(Ja,"Failed to raise snapshot:",s),await Ef(t,s)}}async function Ef(t,e,n){if(!Il(e))throw e;t.Ea.add(1),await Lu(t),t.Ra.set("Offline"),n||(n=()=>uA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Ja,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await nm(t)}))}function gA(t,e){return e().catch((n=>Ef(t,n,e)))}async function im(t){const e=Ne(t),n=Kr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dy;for(;M6(e);)try{const a=await m6(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,j6(e,a)}catch(a){await Ef(e,a)}yA(e)&&vA(e)}function M6(t){return so(t)&&t.Ta.length<10}function j6(t,e){t.Ta.push(e);const n=Kr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function yA(t){return so(t)&&!Kr(t).x_()&&t.Ta.length>0}function vA(t){Kr(t).start()}async function V6(t){Kr(t).ra()}async function O6(t){const e=Kr(t);for(const n of t.Ta)e.ea(n.mutations)}async function P6(t,e,n){const s=t.Ta.shift(),a=Ly.from(s,e,n);await gA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await im(t)}async function L6(t,e){e&&Kr(t).X_&&await(async function(s,a){if((function(c){return bj(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();Kr(s).B_(),await gA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await im(s)}})(t,e),yA(t)&&vA(t)}async function s2(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),de(Ja,"RemoteStore received new credentials");const s=so(n);n.Ea.add(3),await Lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nm(n)}async function U6(t,e){const n=Ne(t);e?(n.Ea.delete(2),await nm(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function kl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ne(n);return l.sa(),new T6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:C6.bind(null,t),t_:I6.bind(null,t),r_:D6.bind(null,t),H_:k6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Yy(t)?Ky(t):t.Ra.set("Unknown")):(await t.ma.stop(),pA(t))}))),t.ma}function Kr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ne(n);return l.sa(),new E6(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:V6.bind(null,t),r_:L6.bind(null,t),ta:O6.bind(null,t),na:P6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await im(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Ja,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new Qy(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(t,e){if(qs("AsyncQueue",`${e}: ${t}`),Il(t))return new he(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Yc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.ga=new gt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bl{constructor(e,n,s,a,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new bl(e,n,ul.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class B6{constructor(){this.queries=a2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ne(n),l=a.queries;a.queries=a2(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function a2(){return new io((t=>US(t)),Xf)}async function Wy(t,e){const n=Ne(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new z6,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Xy(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Jy(n)}async function Zy(t,e){const n=Ne(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function F6(t,e){const n=Ne(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&Jy(n)}function H6(t,e,n){const s=Ne(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Jy(t){t.Ca.forEach((e=>{e.next()}))}var C0,o2;(o2=C0||(C0={})).Ma="default",o2.Cache="cache";class ev{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new bl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.key=e}}class xA{constructor(e){this.key=e}}class q6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=zS(e),this.tu=new ul(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new r2,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const _=a.get(v),E=Wf(this.query,b)?b:null,M=!!_&&this.mutatedKeys.has(_.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;_&&E?_.data.isEqual(E.data)?M!==k&&(s.track({type:3,doc:E}),C=!0):this.su(_,E)||(s.track({type:2,doc:E}),C=!0,(m&&this.eu(E,m)>0||g&&this.eu(E,g)<0)&&(d=!0)):!_&&E?(s.track({type:0,doc:E}),C=!0):_&&!E&&(s.track({type:1,doc:_}),C=!0,(m||g)&&(d=!0)),C&&(E?(c=c.add(E),l=k?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(E,M){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:C})}};return k(E)-k(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new bl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new xA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new bA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tv="SyncEngine";class G6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $6{constructor(e){this.key=e,this.hu=!1}}class K6{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new io((d=>US(d)),Xf),this.Iu=new Map,this.Eu=new Set,this.du=new gt(be.comparator),this.Au=new Map,this.Ru=new By,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y6(t,e,n=!0){const s=AA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await _A(s,e,n,!0),a}async function Q6(t,e){const n=AA(t);await _A(n,e,!0,!1)}async function _A(t,e,n,s){const a=await p6(t.localStore,ss(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await X6(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&fA(t.remoteStore,a),d}async function X6(t,e,n,s,a){t.pu=(b,_,E)=>(async function(k,C,V,F){let N=C.view.ru(V);N.Cs&&(N=await Jw(k.localStore,C.query,!1).then((({documents:I})=>C.view.ru(I,N))));const W=F&&F.targetChanges.get(C.targetId),ee=F&&F.targetMismatches.get(C.targetId)!=null,ae=C.view.applyChanges(N,k.isPrimaryClient,W,ee);return c2(k,C.targetId,ae.au),ae.snapshot})(t,b,_,E);const l=await Jw(t.localStore,e,!0),c=new q6(e,l.Qs),d=c.ru(l.documents),m=Pu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,m);c2(t,n,g.au);const v=new G6(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function W6(t,e,n){const s=Ne(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Xf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await R0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Gy(s.remoteStore,a.targetId),I0(s,a.targetId)})).catch(Cl)):(I0(s,a.targetId),await R0(s.localStore,a.targetId,!0))}async function Z6(t,e){const n=Ne(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gy(n.remoteStore,s.targetId))}async function J6(t,e,n){const s=aV(t);try{const a=await(function(c,d){const m=Ne(c),g=ct.now(),v=d.reduce(((E,M)=>E.add(M.key)),Be());let b,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let M=Gs(),k=Be();return m.Ns.getEntries(E,v).next((C=>{M=C,M.forEach(((V,F)=>{F.isValidDocument()||(k=k.add(V))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,M))).next((C=>{b=C;const V=[];for(const F of d){const N=mj(F,b.get(F.key).overlayedDocument);N!=null&&V.push(new ea(F.key,N,DS(N.value.mapValue),li.exists(!0)))}return m.mutationQueue.addMutationBatch(E,g,V,d)})).next((C=>{_=C;const V=C.applyToLocalDocumentSet(b,k);return m.documentOverlayCache.saveOverlays(E,C.batchId,V)}))})).then((()=>({batchId:_.batchId,changes:FS(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new gt(ze)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await Uu(s,a.changes),await im(s.remoteStore)}catch(a){const l=Xy(a,"Failed to persist write");n.reject(l)}}async function wA(t,e){const n=Ne(t);try{const s=await d6(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Xe(c.hu,14607):a.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await Uu(n,s,e)}catch(s){await Cl(s)}}function l2(t,e,n){const s=Ne(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Ne(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,b)=>{for(const _ of b.Sa)_.va(d)&&(g=!0)})),g&&Jy(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eV(t,e,n){const s=Ne(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new gt(be.comparator);c=c.insert(l,dn.newNoDocument(l,Ae.min()));const d=Be().add(l),m=new em(Ae.min(),new Map,new gt(ze),c,d);await wA(s,m),s.du=s.du.remove(l),s.Au.delete(e),nv(s)}else await R0(s.localStore,e,!1).then((()=>I0(s,e,n))).catch(Cl)}async function tV(t,e){const n=Ne(t),s=e.batch.batchId;try{const a=await h6(n.localStore,e);EA(n,s,null),TA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(n,a)}catch(a){await Cl(a)}}async function nV(t,e,n){const s=Ne(t);try{const a=await(function(c,d){const m=Ne(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((b=>(Xe(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);EA(s,e,n),TA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uu(s,a)}catch(a){await Cl(a)}}function TA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function EA(t,e,n){const s=Ne(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function I0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||SA(t,s)}))}function SA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nv(t))}function c2(t,e,n){for(const s of n)s instanceof bA?(t.Ru.addReference(s.key,e),iV(t,s)):s instanceof xA?(de(tv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||SA(t,s.key)):we(19791,{wu:s})}function iV(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(tv,"New document in limbo: "+n),t.Eu.add(s),nv(t))}function nv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(at.fromString(e)),s=t.fu.next();t.Au.set(s,new $6(n)),t.du=t.du.insert(n,s),fA(t.remoteStore,new Pr(ss(Qf(n.path)),s,"TargetPurposeLimboResolution",$f.ce))}}async function Uu(t,e,n){const s=Ne(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Hy.As(m.targetId,g);l.push(b)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const v=Ne(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(g,(_=>re.forEach(_.Es,(E=>v.persistence.referenceDelegate.addReference(b,_.targetId,E))).next((()=>re.forEach(_.ds,(E=>v.persistence.referenceDelegate.removeReference(b,_.targetId,E)))))))))}catch(b){if(!Il(b))throw b;de(qy,"Failed to update sequence numbers: "+b)}for(const b of g){const _=b.targetId;if(!b.fromCache){const E=v.Ms.get(_),M=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(_,k)}}})(s.localStore,l))}async function sV(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){de(tv,"User change. New user:",e.toKey());const s=await cA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new he(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(n,s.Ls)}}function rV(t,e){const n=Ne(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function AA(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eV.bind(null,e),e.Pu.H_=F6.bind(null,e.eventManager),e.Pu.yu=H6.bind(null,e.eventManager),e}function aV(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nV.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return u6(this.persistence,new o6,e.initialUser,this.serializer)}Cu(e){return new lA(Fy.mi,this.serializer)}Du(e){return new y6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class oV extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $j(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new lA((s=>Tf.mi(s,n)),this.serializer)}}class D0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>l2(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sV.bind(null,this.syncEngine),await U6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new B6})()}createDatastore(e){const n=tm(e.databaseInfo.databaseId),s=(function(l){return new w6(l)})(e.databaseInfo);return(function(l,c,d,m){return new A6(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new N6(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>l2(this.syncEngine,n,0)),(function(){return n2.v()?new n2:new v6})())}createSyncEngine(e,n){return(function(a,l,c,d,m,g,v){const b=new K6(a,l,c,d,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Ne(a);de(Ja,"RemoteStore shutting down."),l.Ea.add(5),await Lu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}D0.provider={build:()=>new D0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class lV{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{de(Yr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(de(Yr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ug(t,e){t.asyncQueue.verifyOperationInProgress(),de(Yr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await cA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function u2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cV(t);de(Yr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>s2(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>s2(e.remoteStore,a))),t._onlineComponents=e}async function cV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Yr,"Using user provided OfflineComponentProvider");try{await Ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Ug(t,new Sf)}}else de(Yr,"Using default OfflineComponentProvider"),await Ug(t,new oV(void 0));return t._offlineComponents}async function RA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Yr,"Using user provided OnlineComponentProvider"),await u2(t,t._uninitializedComponentsProvider._online)):(de(Yr,"Using default OnlineComponentProvider"),await u2(t,new D0))),t._onlineComponents}function uV(t){return RA(t).then((e=>e.syncEngine))}async function Af(t){const e=await RA(t),n=e.eventManager;return n.onListen=Y6.bind(null,e.syncEngine),n.onUnlisten=W6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Z6.bind(null,e.syncEngine),n}function hV(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new iv({next:_=>{v.Nu(),c.enqueueAndForget((()=>Zy(l,b)));const E=_.docs.has(d);!E&&_.fromCache?g.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&m&&m.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new ev(Qf(d.path),v,{includeMetadataChanges:!0,qa:!0});return Wy(l,b)})(await Af(t),t.asyncQueue,e,n,s))),s.promise}function dV(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new iv({next:_=>{v.Nu(),c.enqueueAndForget((()=>Zy(l,b))),_.fromCache&&m.source==="server"?g.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:_=>g.reject(_)}),b=new ev(d,v,{includeMetadataChanges:!0,qa:!0});return Wy(l,b)})(await Af(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firestore.googleapis.com",d2=!0;class f2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CA,this.ssl=d2}else this.host=e.host,this.ssl=e.ssl??d2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qj)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vM;switch(s.type){case"firstParty":return new wM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=h2.get(n);s&&(de("ComponentProvider","Removing Datastore"),h2.delete(n),s.terminate())})(this),Promise.resolve()}}function fV(t,e,n,s={}){var g;t=In(t,sm);const a=Zr(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(gy(`https://${d}`),yy("Firestore",!0)),l.host!==CA&&l.host!==d&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Qa(m,c)&&(t._setSettings(m),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=hn.MOCK_USER;else{v=NE(s.mockUserToken,(g=t._app)==null?void 0:g.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(_)}t._authCredentials=new bM(new bS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Vu(n,_t._jsonSchema))return new _t(e,s||null,new be(at.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Bt("string",_t._jsonSchemaVersion),referencePath:Bt("string")};class Br extends Qs{constructor(e,n,s){super(e,n,Qf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new be(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function ri(t,e,...n){if(t=pt(t),xS("collection","path",e),t instanceof sm){const s=at.fromString(e,...n);return Aw(s),new Br(t,null,s)}{if(!(t instanceof _t||t instanceof Br))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return Aw(s),new Br(t.firestore,null,s)}}function fn(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Iy.newId()),xS("doc","path",e),t instanceof sm){const s=at.fromString(e,...n);return Sw(s),new _t(t,null,new be(s))}{if(!(t instanceof _t||t instanceof Br))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return Sw(s),new _t(t.firestore,t instanceof Br?t.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="AsyncQueue";class p2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hA(this,"async_queue_retry"),this._c=()=>{const s=Lg();s&&de(m2,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;de(m2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",g2(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Qy.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&we(47125,{Pc:g2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class $s extends sm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new p2,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p2(e),this._firestoreClient=void 0,await e}}}function mV(t,e){const n=typeof t=="object"?t:xy(),s=typeof t=="string"?t:gf,a=Bf(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=SE("firestore");l&&fV(a,...l)}return a}function rm(t){if(t._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pV(t),t._firestoreClient}function pV(t){var s,a,l;const e=t._freezeSettings(),n=(function(d,m,g,v){return new UM(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,NA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(ln.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Bt("string",ai._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Bt("string",as._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new os(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:Bt("string",os._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=/^__.*__$/;class yV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class IA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:t})}}class rv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DA(this.Ac)&&gV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tm(e)}Cc(e,n,s,a=!1){return new rv({Ac:e,methodName:n,Dc:s,path:on.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new vV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);av("Data must be an object, but it was:",c,s);const d=MA(s,c);let m,g;if(l.merge)m=new Bn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=k0(e,b,n);if(!c.contains(_))throw new he(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);VA(v,_)||v.push(_)}m=new Bn(v),g=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=c.fieldTransforms;return new yV(new Nn(d),m,g)}class lm extends sv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}function bV(t,e,n,s){const a=t.Cc(1,e,n);av("Data must be an object, but it was:",a,s);const l=[],c=Nn.empty();Jr(s,((m,g)=>{const v=ov(e,m,n);g=pt(g);const b=a.yc(v);if(g instanceof lm)l.push(v);else{const _=zu(g,b);_!=null&&(l.push(v),c.set(v,_))}}));const d=new Bn(l);return new IA(c,d,a.fieldTransforms)}function xV(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[k0(e,s,n)],m=[a];if(l.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(k0(e,l[_])),m.push(l[_+1]);const g=[],v=Nn.empty();for(let _=d.length-1;_>=0;--_)if(!VA(g,d[_])){const E=d[_];let M=m[_];M=pt(M);const k=c.yc(E);if(M instanceof lm)g.push(E);else{const C=zu(M,k);C!=null&&(g.push(E),v.set(E,C))}}const b=new Bn(g);return new IA(v,b,c.fieldTransforms)}function _V(t,e,n,s=!1){return zu(n,t.Cc(s?4:3,e))}function zu(t,e){if(jA(t=pt(t)))return av("Unsupported field value:",e,t),MA(t,e);if(t instanceof sv)return(function(s,a){if(!DA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=zu(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lj(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:wf(a.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wf(a.serializer,l)}}if(s instanceof as)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ai)return{bytesValue:eA(a.serializer,s._byteString)};if(s instanceof _t){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof os)return(function(c,d){return{mapValue:{fields:{[CS]:{stringValue:IS},[yf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Oy(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Gf(s)}`)})(t,e)}function MA(t,e){const n={};return TS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(t,((s,a)=>{const l=zu(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function jA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof as||t instanceof ai||t instanceof _t||t instanceof sv||t instanceof os)}function av(t,e,n){if(!jA(n)||!_S(n)){const s=Gf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function k0(t,e,n){if((e=pt(e))instanceof am)return e._internalPath;if(typeof e=="string")return ov(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const wV=new RegExp("[~\\*/\\[\\]]");function ov(t,e,n){if(e.search(wV)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new am(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new he(ne.INVALID_ARGUMENT,d+t+m)}function VA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TV extends OA{data(){return super.data()}}function lv(t,e){return typeof e=="string"?ov(t,e):e instanceof am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cv{}class uv extends cv{}function eo(t,e,...n){let s=[];e instanceof cv&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof dv)).length,d=l.filter((m=>m instanceof hv)).length;if(c>1||c>0&&d>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class hv extends uv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hv(e,n,s)}_apply(e){const n=this._parse(e);return LA(e._query,n),new Qs(e.firestore,e.converter,w0(e._query,n))}_parse(e){const n=om(e.firestore);return(function(l,c,d,m,g,v,b){let _;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){b2(b,v);const M=[];for(const k of b)M.push(v2(m,l,k));_={arrayValue:{values:M}}}else _=v2(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||b2(b,v),_=_V(d,c,b,v==="in"||v==="not-in");return zt.create(g,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class dv extends cv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)LA(c,m),c=w0(c,m)})(e._query,n),new Qs(e.firestore,e.converter,w0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fv extends uv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(l,c)})(e._query,this._field,this._direction);return new Qs(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Dl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function mv(t,e="asc"){const n=e,s=lv("orderBy",t);return fv._create(s,n)}class pv extends uv{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new pv(e,n,s)}_apply(e){return new Qs(e.firestore,e.converter,bf(e._query,this._limit,this._limitType))}}function EV(t){return pv._create("limit",t,"F")}function v2(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LS(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!be.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jw(t,new be(s))}if(n instanceof _t)return jw(t,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gf(n)}.`)}function b2(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SV{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Jr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[yf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Nt(c.doubleValue)));return new os(n)}convertGeoPoint(e){return new as(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=qr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Xe(aA(s),9688,{name:e});const a=new yu(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||qs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends OA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Bt("string",Ha._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Zd extends Ha{data(e={}){return super.data(e)}}class qa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Zd(this._firestore,this._userDataWriter,s.key,s,new Xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Zd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Xc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Zd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Xc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:AV(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){t=In(t,_t);const e=In(t.firestore,$s);return hV(rm(e),t._key).then((n=>FA(e,t,n)))}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Bt("string",qa._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class gv extends SV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Ua(t){t=In(t,Qs);const e=In(t.firestore,$s),n=rm(e),s=new gv(e);return PA(t._query),dV(n,t._query).then((a=>new qa(e,s,t,a)))}function Qr(t,e,n){t=In(t,_t);const s=In(t.firestore,$s),a=UA(t.converter,e,n);return um(s,[kA(om(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,li.none())])}function BA(t,e,n,...s){t=In(t,_t);const a=In(t.firestore,$s),l=om(a);let c;return c=typeof(e=pt(e))=="string"||e instanceof am?xV(l,"updateDoc",t._key,e,n,s):bV(l,"updateDoc",t._key,e),um(a,[c.toMutation(t._key,li.exists(!0))])}function Bu(t){return um(In(t.firestore,$s),[new Py(t._key,li.none())])}function RV(t,e){const n=In(t.firestore,$s),s=fn(t),a=UA(t.converter,e);return um(n,[kA(om(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,li.exists(!1))]).then((()=>s))}function cm(t,...e){var m,g,v;t=pt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||y2(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(y2(e[s])){const b=e[s];e[s]=(m=b.next)==null?void 0:m.bind(b),e[s+1]=(g=b.error)==null?void 0:g.bind(b),e[s+2]=(v=b.complete)==null?void 0:v.bind(b)}let l,c,d;if(t instanceof _t)c=In(t.firestore,$s),d=Qf(t._key.path),l={next:b=>{e[s]&&e[s](FA(c,t,b))},error:e[s+1],complete:e[s+2]};else{const b=In(t,Qs);c=In(b.firestore,$s),d=b._query;const _=new gv(c);l={next:E=>{e[s]&&e[s](new qa(c,_,b,E))},error:e[s+1],complete:e[s+2]},PA(t._query)}return(function(_,E,M,k){const C=new iv(k),V=new ev(E,C,M);return _.asyncQueue.enqueueAndForget((async()=>Wy(await Af(_),V))),()=>{C.Nu(),_.asyncQueue.enqueueAndForget((async()=>Zy(await Af(_),V)))}})(rm(c),d,a,l)}function um(t,e){return(function(s,a){const l=new Us;return s.asyncQueue.enqueueAndForget((async()=>J6(await uV(s),a,l))),l.promise})(rm(t),e)}function FA(t,e,n){const s=n.docs.get(e._key),a=new gv(t);return new Ha(t,a,e._key,s,new Xc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Nl=a})(no),Xa(new Fr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new $s(new xM(s.getProvider("auth-internal")),new TM(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ns(_w,ww,e),ns(_w,ww,"esm2020")})();var NV="firebase",CV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(NV,CV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firebasestorage.googleapis.com",qA="storageBucket",IV=120*1e3,DV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends ms{constructor(e,n,s=0){super(zg(e),`Firebase Storage: ${n} (${zg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function zg(t){return"storage/"+t}function yv(){const t="An unknown error occurred, please check the error payload for server response.";return new Tt(wt.UNKNOWN,t)}function kV(t){return new Tt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function MV(t){return new Tt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(wt.UNAUTHENTICATED,t)}function VV(){return new Tt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OV(t){return new Tt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function PV(){return new Tt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LV(){return new Tt(wt.CANCELED,"User canceled the upload/download.")}function UV(t){return new Tt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function zV(t){return new Tt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BV(){return new Tt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qA+"' property when initializing the app?")}function FV(){return new Tt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HV(){return new Tt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qV(t){return new Tt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function M0(t){return new Tt(wt.INVALID_ARGUMENT,t)}function GA(){return new Tt(wt.APP_DELETED,"The Firebase app was deleted.")}function GV(t){return new Tt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function au(t,e){return new Tt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qc(t){throw new Tt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(s.path==="")return s;throw zV(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${b}/${v}/b/${a}/o${_}`,"i"),M={bucket:1,path:3},k=n===HA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",V=new RegExp(`^https?://${k}/${a}/${C}`,"i"),N=[{regex:d,indices:m,postModify:l},{regex:E,indices:M,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<N.length;W++){const ee=N[W],ae=ee.regex.exec(e);if(ae){const I=ae[ee.indices.bucket];let R=ae[ee.indices.path];R||(R=""),s=new Fn(I,R),ee.postModify(s);break}}if(s==null)throw UV(e);return s}}class $V{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e,n){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function v(...C){g||(g=!0,e.apply(null,C))}function b(C){a=setTimeout(()=>{a=null,t(E,m())},C)}function _(){l&&clearTimeout(l)}function E(C,...V){if(g){_();return}if(C){_(),v.call(null,C,...V);return}if(m()||c){_(),v.call(null,C,...V);return}s<64&&(s*=2);let N;d===1?(d=2,N=0):N=(s+Math.random())*1e3,b(N)}let M=!1;function k(C){M||(M=!0,_(),!g&&(a!==null?(C||(d=2),clearTimeout(a),b(0)):C||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,k(!0)},n),k}function YV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return t!==void 0}function XV(t){return typeof t=="object"&&!Array.isArray(t)}function vv(t){return typeof t=="string"||t instanceof String}function x2(t){return bv()&&t instanceof Blob}function bv(){return typeof Blob<"u"}function _2(t,e,n,s){if(s<e)throw M0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw M0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function $A(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ga;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ga||(Ga={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,s,a,l,c,d,m,g,v,b,_=!0,E=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Dd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ga.NO_ERROR,m=l.getStatus();if(!d||WV(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ga.ABORT;s(!1,new Dd(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Dd(g,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());QV(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=yv();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?GA():LV();c(m)}else{const m=PV();c(m)}};this.canceled_?n(!1,new Dd(!1,null,!0)):this.backoffId_=KV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dd{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function JV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function iO(t,e,n,s,a,l,c=!0,d=!1){const m=$A(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return tO(v,e),JV(v,n),eO(v,l),nO(v,s),new ZV(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rO(...t){const e=sO();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(bv())return new Blob(t);throw new Tt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){if(typeof atob>"u")throw qV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bg{constructor(e,n){this.data=e,this.contentType=n||null}}function lO(t,e){switch(t){case ts.RAW:return new Bg(KA(e));case ts.BASE64:case ts.BASE64URL:return new Bg(YA(t,e));case ts.DATA_URL:return new Bg(uO(e),hO(e))}throw yv()}function KA(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function cO(t){let e;try{e=decodeURIComponent(t)}catch{throw au(ts.DATA_URL,"Malformed data URL.")}return KA(e)}function YA(t,e){switch(t){case ts.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw au(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ts.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw au(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oO(e)}catch(a){throw a.message.includes("polyfill")?a:au(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class QA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw au(ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=dO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function uO(t){const e=new QA(t);return e.base64?YA(ts.BASE64,e.rest):cO(e.rest)}function hO(t){return new QA(t).contentType}function dO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){let s=0,a="";x2(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(x2(this.data_)){const s=this.data_,a=aO(s,e,n);return a===null?null:new Or(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Or(s,!0)}}static getBlob(...e){if(bv()){const n=e.map(s=>s instanceof Or?s.data_:s);return new Or(rO.apply(null,n))}else{const n=e.map(c=>vv(c)?lO(ts.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Or(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){let e;try{e=JSON.parse(t)}catch{return null}return XV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mO(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function WA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e){return e}class vn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||pO}}let kd=null;function gO(t){return!vv(t)||t.length<2?t:WA(t)}function ZA(){if(kd)return kd;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(l,c){return gO(c)}const n=new vn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new vn("size");return a.xform=s,t.push(a),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),kd=t,kd}function yO(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Fn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function vO(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return yO(s,t),s}function JA(t,e,n){const s=XA(e);return s===null?null:vO(t,s,n)}function bO(t,e,n,s){const a=XA(e);if(a===null||!vv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,b=t.fullPath,_="/b/"+c(v)+"/o/"+c(b),E=xv(_,n,s),M=$A({alt:"media",token:g});return E+M})[0]}function xO(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class eR{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){if(!t)throw yv()}function _O(t,e){function n(s,a){const l=JA(t,a,e);return tR(l!==null),l}return n}function wO(t,e){function n(s,a){const l=JA(t,a,e);return tR(l!==null),bO(l,a,t.host,t._protocol)}return n}function nR(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=VV():a=jV():n.getStatus()===402?a=MV(t.bucket):n.getStatus()===403?a=OV(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function TO(t){const e=nR(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=kV(t.path)),l.serverResponse=a.serverResponse,l}return n}function EO(t,e,n){const s=e.fullServerUrl(),a=xv(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new eR(a,l,wO(t,n),c);return d.errorHandler=TO(e),d}function SO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AO(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=SO(null,e)),s}function RO(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let N="";for(let W=0;W<2;W++)N=N+Math.random().toString().slice(2);return N}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const g=AO(e,s,a),v=xO(g,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,_=`\r
--`+m+"--",E=Or.getBlob(b,s,_);if(E===null)throw FV();const M={name:g.fullPath},k=xv(l,t.host,t._protocol),C="POST",V=t.maxUploadRetryTime,F=new eR(k,C,_O(t,n),V);return F.urlParams=M,F.headers=c,F.body=E.uploadData(),F.errorHandler=nR(e),F}class NO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw qc("cannot .send() more than once");if(Zr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class CO extends NO{initXhr(){this.xhr_.responseType="text"}}function iR(){return new CO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new to(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WA(this._location.path)}get storage(){return this._service}get parent(){const e=fO(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new to(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GV(e)}}function IO(t,e,n){t._throwIfRoot("uploadBytes");const s=RO(t.storage,t._location,ZA(),new Or(e,!0),n);return t.storage.makeRequestWithTokens(s,iR).then(a=>({metadata:a,ref:t}))}function DO(t){t._throwIfRoot("getDownloadURL");const e=EO(t.storage,t._location,ZA());return t.storage.makeRequestWithTokens(e,iR).then(n=>{if(n===null)throw HV();return n})}function kO(t,e){const n=mO(t._location.path,e),s=new Fn(t._location.bucket,n);return new to(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){return/^[A-Za-z]+:\/\//.test(t)}function jO(t,e){return new to(t,e)}function sR(t,e){if(t instanceof _v){const n=t;if(n._bucket==null)throw BV();const s=new to(n,n._bucket);return e!=null?sR(s,e):s}else return e!==void 0?kO(t,e):t}function VO(t,e){if(e&&MO(e)){if(t instanceof _v)return jO(t,e);throw M0("To use ref(service, url), the first argument must be a Storage instance.")}else return sR(t,e)}function w2(t,e){const n=e==null?void 0:e[qA];return n==null?null:Fn.makeFromBucketSpec(n,t)}function OO(t,e,n,s={}){t.host=`${e}:${n}`;const a=Zr(e);a&&(gy(`https://${t.host}/b`),yy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:NE(l,t.app.options.projectId))}class _v{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=HA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IV,this._maxUploadRetryTime=DV,this._requests=new Set,a!=null?this._bucket=Fn.makeFromBucketSpec(a,this._host):this._bucket=w2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=w2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new to(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new $V(GA());{const c=iO(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const T2="@firebase/storage",E2="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="storage";function wv(t,e,n){return t=pt(t),IO(t,e,n)}function Tv(t){return t=pt(t),DO(t)}function Ev(t,e){return t=pt(t),VO(t,e)}function PO(t=xy(),e){t=pt(t);const s=Bf(t,rR).getImmediate({identifier:e}),a=SE("storage");return a&&LO(s,...a),s}function LO(t,e,n,s={}){OO(t,e,n,s)}function UO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new _v(n,s,a,e,no)}function zO(){Xa(new Fr(rR,UO,"PUBLIC").setMultipleInstances(!0)),ns(T2,E2,""),ns(T2,E2,"esm2020")}zO();const Md={apiKey:"AIzaSyBZA0EsTsyLJyNssJx5DlzTciwSl175kf4",authDomain:"vitalrpnet.firebaseapp.com",projectId:"vitalrpnet",storageBucket:"vitalrpnet.firebasestorage.app",messagingSenderId:"497680378833",appId:"1:497680378833:web:f9b6bbc9a9eb14a0428ef0",measurementId:"G-2E3FDW1LJW"};let jd,_e,es,Ps;if(Md.apiKey)try{jd=DE(Md),_e=mV(jd),es=gM(jd),Ps=PO(jd),console.log("Firebase initialized successfully with config:",{projectId:Md.projectId,authDomain:Md.authDomain})}catch(t){console.warn("Firebase initialization failed:",t)}else console.warn("Firebase config missing. Running in demo/local mode.");const BO=["tx.davidj@gmail.com"],aR=D.createContext({user:null,isAdmin:!1,editMode:!1,login:async()=>{},logout:async()=>{},toggleEditMode:()=>{},loading:!0}),ta=()=>D.useContext(aR),FO=({children:t})=>{const[e,n]=D.useState(null),[s,a]=D.useState(!1),[l,c]=D.useState(!1),[d,m]=D.useState(!0);D.useEffect(()=>{if(!es){console.error("Firebase Auth not initialized"),m(!1);return}const _=sk(es,async E=>{if(n(E),E&&E.email){let M=!1;if(BO.includes(E.email)&&(M=!0),_e)try{const k=fn(_e,"users",E.email.toLowerCase()),C=await zA(k);if(C.exists()){const V=C.data();(V.role==="superadmin"||V.role==="admin"||V.role==="editor"||V.role==="owner")&&(M=!0),await Qr(k,{displayName:E.displayName,photoURL:E.photoURL,lastLogin:new Date},{merge:!0})}else await Qr(k,{email:E.email,displayName:E.displayName,photoURL:E.photoURL,role:"user",createdAt:new Date,lastLogin:new Date})}catch(k){console.error("Error fetching/saving user:",k)}a(M),console.log(M?" Admin Authorized:":" User not authorized (Role: User/None):",E.email)}else a(!1);m(!1)});return()=>_()},[]);const g=async()=>{if(es)try{const _=new js;await Sk(es,_)}catch(_){console.error("Login failed:",_)}},v=async()=>{if(es)try{await rk(es),c(!1),a(!1)}catch(_){console.error("Logout failed:",_)}},b=()=>{s&&c(_=>!_)};return p.jsx(aR.Provider,{value:{user:e,isAdmin:s,editMode:l,login:g,logout:v,toggleEditMode:b,loading:d},children:t})},Sv=D.createContext({});function Ml(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Av=typeof window<"u",hm=Av?D.useLayoutEffect:D.useEffect,dm=D.createContext(null);function Rv(t,e){t.indexOf(e)===-1&&t.push(e)}function Nv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ds=(t,e,n)=>n>e?e:n<t?t:n;let wu=()=>{};const Ks={},oR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lR(t){return typeof t=="object"&&t!==null}const cR=t=>/^0[^.\s]+$/u.test(t);function Cv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dn=t=>t,HO=(t,e)=>n=>e(t(n)),Fu=(...t)=>t.reduce(HO),xl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Iv{constructor(){this.subscriptions=[]}add(e){return Rv(this.subscriptions,e),()=>Nv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ls=t=>t*1e3,oi=t=>t/1e3;function Dv(t,e){return e?t*(1e3/e):0}const uR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qO=1e-7,GO=12;function $O(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=uR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>qO&&++d<GO);return c}function Hu(t,e,n,s){if(t===e&&n===s)return Dn;const a=l=>$O(l,0,1,t,n);return l=>l===0||l===1?l:uR(a(l),e,s)}const hR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dR=t=>e=>1-t(1-e),fR=Hu(.33,1.53,.69,.99),kv=dR(fR),mR=hR(kv),pR=t=>(t*=2)<1?.5*kv(t):.5*(2-Math.pow(2,-10*(t-1))),Mv=t=>1-Math.sin(Math.acos(t)),gR=dR(Mv),yR=hR(Mv),KO=Hu(.42,0,1,1),YO=Hu(0,0,.58,1),vR=Hu(.42,0,.58,1),QO=t=>Array.isArray(t)&&typeof t[0]!="number",bR=t=>Array.isArray(t)&&typeof t[0]=="number",XO={linear:Dn,easeIn:KO,easeInOut:vR,easeOut:YO,circIn:Mv,circInOut:yR,circOut:gR,backIn:kv,backInOut:mR,backOut:fR,anticipate:pR},WO=t=>typeof t=="string",S2=t=>{if(bR(t)){wu(t.length===4);const[e,n,s,a]=t;return Hu(e,n,s,a)}else if(WO(t))return XO[t];return t},Vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),t()),v(d)}const g={schedule:(v,b=!1,_=!1)=>{const M=_&&a?n:s;return b&&c.add(v),M.has(v)||M.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const JO=40;function xR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Vd.reduce((N,W)=>(N[W]=ZO(l),N),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:v,update:b,preRender:_,render:E,postRender:M}=c,k=()=>{const N=Ks.useManualTiming?a.timestamp:performance.now();n=!1,Ks.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(N-a.timestamp,JO),1)),a.timestamp=N,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),v.process(a),b.process(a),_.process(a),E.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(k))},C=()=>{n=!0,s=!0,a.isProcessing||t(k)};return{schedule:Vd.reduce((N,W)=>{const ee=c[W];return N[W]=(ae,I=!1,R=!1)=>(n||C(),ee.schedule(ae,I,R)),N},{}),cancel:N=>{for(let W=0;W<Vd.length;W++)c[Vd[W]].cancel(N)},state:a,steps:c}}const{schedule:Qe,cancel:Ci,state:Xt,steps:Fg}=xR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0);let Jd;function e9(){Jd=void 0}const Cn={now:()=>(Jd===void 0&&Cn.set(Xt.isProcessing||Ks.useManualTiming?Xt.timestamp:performance.now()),Jd),set:t=>{Jd=t,queueMicrotask(e9)}},_R=t=>e=>typeof e=="string"&&e.startsWith(t),wR=_R("--"),t9=_R("var(--"),jv=t=>t9(t)?n9.test(t.split("/*")[0].trim()):!1,n9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...jl,transform:t=>ds(0,1,t)},Od={...jl,default:1},ou=t=>Math.round(t*1e5)/1e5,Vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function i9(t){return t==null}const s9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ov=(t,e)=>n=>!!(typeof n=="string"&&s9.test(n)&&n.startsWith(t)||e&&!i9(n)&&Object.prototype.hasOwnProperty.call(n,e)),TR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Vv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},r9=t=>ds(0,255,t),Hg={...jl,transform:t=>Math.round(r9(t))},za={test:Ov("rgb","red"),parse:TR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Hg.transform(t)+", "+Hg.transform(e)+", "+Hg.transform(n)+", "+ou(Tu.transform(s))+")"};function a9(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const j0={test:Ov("#"),parse:a9,transform:za.transform},qu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dr=qu("deg"),cs=qu("%"),Te=qu("px"),o9=qu("vh"),l9=qu("vw"),A2={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},tl={test:Ov("hsl","hue"),parse:TR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+cs.transform(ou(e))+", "+cs.transform(ou(n))+", "+ou(Tu.transform(s))+")"},Ut={test:t=>za.test(t)||j0.test(t)||tl.test(t),parse:t=>za.test(t)?za.parse(t):tl.test(t)?tl.parse(t):j0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?za.transform(t):tl.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},c9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Vv))==null?void 0:e.length)||0)+(((n=t.match(c9))==null?void 0:n.length)||0)>0}const ER="number",SR="color",h9="var",d9="var(",R2="${}",f9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(f9,m=>(Ut.test(m)?(s.color.push(l),a.push(SR),n.push(Ut.parse(m))):m.startsWith(d9)?(s.var.push(l),a.push(h9),n.push(m)):(s.number.push(l),a.push(ER),n.push(parseFloat(m))),++l,R2)).split(R2);return{values:n,split:d,indexes:s,types:a}}function AR(t){return Eu(t).values}function RR(t){const{split:e,types:n}=Eu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===ER?l+=ou(a[c]):d===SR?l+=Ut.transform(a[c]):l+=a[c]}return l}}const m9=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function p9(t){const e=AR(t);return RR(t)(e.map(m9))}const Xr={test:u9,parse:AR,createTransformer:RR,getAnimatableNone:p9};function qg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function g9({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=qg(m,d,t+1/3),l=qg(m,d,t),c=qg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Nf(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,Gg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},y9=[j0,za,tl],v9=t=>y9.find(e=>e.test(t));function N2(t){const e=v9(t);if(!e)return!1;let n=e.parse(t);return e===tl&&(n=g9(n)),n}const C2=(t,e)=>{const n=N2(t),s=N2(e);if(!n||!s)return Nf(t,e);const a={...n};return l=>(a.red=Gg(n.red,s.red,l),a.green=Gg(n.green,s.green,l),a.blue=Gg(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),za.transform(a))},V0=new Set(["none","hidden"]);function b9(t,e){return V0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function x9(t,e){return n=>mt(t,e,n)}function Pv(t){return typeof t=="number"?x9:typeof t=="string"?jv(t)?Nf:Ut.test(t)?C2:T9:Array.isArray(t)?NR:typeof t=="object"?Ut.test(t)?C2:_9:Nf}function NR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Pv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function _9(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Pv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function w9(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const T9=(t,e)=>{const n=Xr.createTransformer(e),s=Eu(t),a=Eu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?V0.has(t)&&!a.values.length||V0.has(e)&&!s.values.length?b9(t,e):Fu(NR(w9(s,a),a.values),n):Nf(t,e)};function CR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):Pv(t)(t,e)}const E9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>Ci(e),now:()=>Xt.isProcessing?Xt.timestamp:Cn.now()}},IR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Cf=2e4;function Lv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Cf;)e+=n,s=t.next(e);return e>=Cf?1/0:e}function S9(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Lv(s),Cf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:oi(a)}}const A9=5;function DR(t,e,n){const s=Math.max(e-A9,0);return Dv(n-t(s),e-s)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$g=.001;function R9({duration:t=xt.duration,bounce:e=xt.bounce,velocity:n=xt.velocity,mass:s=xt.mass}){let a,l,c=1-e;c=ds(xt.minDamping,xt.maxDamping,c),t=ds(xt.minDuration,xt.maxDuration,oi(t)),c<1?(a=g=>{const v=g*c,b=v*t,_=v-n,E=O0(g,c),M=Math.exp(-b);return $g-_/E*M},l=g=>{const b=g*c*t,_=b*n+n,E=Math.pow(c,2)*Math.pow(g,2)*t,M=Math.exp(-b),k=O0(Math.pow(g,2),c);return(-a(g)+$g>0?-1:1)*((_-E)*M)/k}):(a=g=>{const v=Math.exp(-g*t),b=(g-n)*t+1;return-$g+v*b},l=g=>{const v=Math.exp(-g*t),b=(n-g)*(t*t);return v*b});const d=5/t,m=C9(a,l,d);if(t=ls(t),isNaN(m))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:t}}}const N9=12;function C9(t,e,n){let s=n;for(let a=1;a<N9;a++)s=s-t(s)/e(s);return s}function O0(t,e){return t*Math.sqrt(1-e*e)}const I9=["duration","bounce"],D9=["stiffness","damping","mass"];function I2(t,e){return e.some(n=>t[n]!==void 0)}function k9(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!I2(t,D9)&&I2(t,I9))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ds(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:xt.mass,stiffness:a,damping:l}}else{const n=R9(t);e={...e,...n,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function If(t=xt.visualDuration,e=xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:b,velocity:_,isResolvedFromDuration:E}=k9({...n,velocity:-oi(n.velocity||0)}),M=_||0,k=g/(2*Math.sqrt(m*v)),C=c-l,V=oi(Math.sqrt(m/v)),F=Math.abs(C)<5;s||(s=F?xt.restSpeed.granular:xt.restSpeed.default),a||(a=F?xt.restDelta.granular:xt.restDelta.default);let N;if(k<1){const ee=O0(V,k);N=ae=>{const I=Math.exp(-k*V*ae);return c-I*((M+k*V*C)/ee*Math.sin(ee*ae)+C*Math.cos(ee*ae))}}else if(k===1)N=ee=>c-Math.exp(-V*ee)*(C+(M+V*C)*ee);else{const ee=V*Math.sqrt(k*k-1);N=ae=>{const I=Math.exp(-k*V*ae),R=Math.min(ee*ae,300);return c-I*((M+k*V*C)*Math.sinh(R)+ee*C*Math.cosh(R))/ee}}const W={calculatedDuration:E&&b||null,next:ee=>{const ae=N(ee);if(E)d.done=ee>=b;else{let I=ee===0?M:0;k<1&&(I=ee===0?ls(M):DR(N,ee,ae));const R=Math.abs(I)<=s,j=Math.abs(c-ae)<=a;d.done=R&&j}return d.value=d.done?c:ae,d},toString:()=>{const ee=Math.min(Lv(W),Cf),ae=IR(I=>W.next(ee*I).value,ee,30);return ee+"ms "+ae},toTransition:()=>{}};return W}If.applyToOptions=t=>{const e=S9(t,100,If);return t.ease=e.ease,t.duration=ls(e.duration),t.type="keyframes",t};function P0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:v}){const b=t[0],_={done:!1,value:b},E=R=>d!==void 0&&R<d||m!==void 0&&R>m,M=R=>d===void 0?m:m===void 0||Math.abs(d-R)<Math.abs(m-R)?d:m;let k=n*e;const C=b+k,V=c===void 0?C:c(C);V!==C&&(k=V-b);const F=R=>-k*Math.exp(-R/s),N=R=>V+F(R),W=R=>{const j=F(R),L=N(R);_.done=Math.abs(j)<=g,_.value=_.done?V:L};let ee,ae;const I=R=>{E(_.value)&&(ee=R,ae=If({keyframes:[_.value,M(_.value)],velocity:DR(N,R,_.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return I(0),{calculatedDuration:null,next:R=>{let j=!1;return!ae&&ee===void 0&&(j=!0,W(R),I(R)),ee!==void 0&&R>=ee?ae.next(R-ee):(!j&&W(R),_)}}}function M9(t,e,n){const s=[],a=n||Ks.mix||CR,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Dn:e;d=Fu(m,d)}s.push(d)}return s}function Uv(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(wu(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=M9(e,s,a),m=d.length,g=v=>{if(c&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const _=xl(t[b],t[b+1],v);return d[b](_)};return n?v=>g(ds(t[0],t[l-1],v)):g}function j9(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=xl(0,e,s);t.push(mt(n,1,a))}}function kR(t){const e=[0];return j9(e,t.length-1),e}function V9(t,e){return t.map(n=>n*e)}function O9(t,e){return t.map(()=>e||vR).splice(0,t.length-1)}function lu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=QO(s)?s.map(S2):S2(s),l={done:!1,value:e[0]},c=V9(n&&n.length===e.length?n:kR(e),t),d=Uv(c,e,{ease:Array.isArray(a)?a:O9(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const P9=t=>t!==null;function zv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(P9),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const L9={decay:P0,inertia:P0,tween:lu,keyframes:lu,spring:If};function MR(t){typeof t.type=="string"&&(t.type=L9[t.type])}class Bv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const U9=t=>t/100;class fm extends Bv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MR(e);const{type:n=lu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||lu;m!==lu&&typeof d[0]!="number"&&(this.mixKeyframes=Fu(U9,CR(d[0],d[1])),d=[0,100]);const g=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Lv(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:_,repeatDelay:E,type:M,onUpdate:k,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-g*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,W=s;if(b){const R=Math.min(this.currentTime,a)/d;let j=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&j--,j=Math.min(j,b+1),!!(j%2)&&(_==="reverse"?(L=1-L,E&&(L-=E/d)):_==="mirror"&&(W=c)),N=ds(0,1,L)*d}const ee=F?{done:!1,value:v[0]}:W.next(N);l&&(ee.value=l(ee.value));let{done:ae}=ee;!F&&m!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return I&&M!==P0&&(ee.value=zv(v,this.options,C,this.speed)),k&&k(ee.value),I&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oi(e)}get time(){return oi(this.currentTime)}set time(e){var n;e=ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=oi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=E9,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function z9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ba=t=>t*180/Math.PI,L0=t=>{const e=Ba(Math.atan2(t[1],t[0]));return U0(e)},B9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:L0,rotateZ:L0,skewX:t=>Ba(Math.atan(t[1])),skewY:t=>Ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},U0=t=>(t=t%360,t<0&&(t+=360),t),D2=L0,k2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),M2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),F9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k2,scaleY:M2,scale:t=>(k2(t)+M2(t))/2,rotateX:t=>U0(Ba(Math.atan2(t[6],t[5]))),rotateY:t=>U0(Ba(Math.atan2(-t[2],t[0]))),rotateZ:D2,rotate:D2,skewX:t=>Ba(Math.atan(t[4])),skewY:t=>Ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function z0(t){return t.includes("scale")?1:0}function B0(t,e){if(!t||t==="none")return z0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=F9,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=B9,a=d}if(!a)return z0(e);const l=s[e],c=a[1].split(",").map(q9);return typeof l=="function"?l(c):c[l]}const H9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return B0(n,e)};function q9(t){return parseFloat(t.trim())}const Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ol=new Set(Vl),j2=t=>t===jl||t===Te,G9=new Set(["x","y","z"]),$9=Vl.filter(t=>!G9.has(t));function K9(t){const e=[];return $9.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const $a={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>B0(e,"x"),y:(t,{transform:e})=>B0(e,"y")};$a.translateX=$a.x;$a.translateY=$a.y;const Ka=new Set;let F0=!1,H0=!1,q0=!1;function jR(){if(H0){const t=Array.from(Ka).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=K9(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}H0=!1,F0=!1,Ka.forEach(t=>t.complete(q0)),Ka.clear()}function VR(){Ka.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(H0=!0)})}function Y9(){q0=!0,VR(),jR(),q0=!1}class Fv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ka.add(this),F0||(F0=!0,Qe.read(VR),Qe.resolveKeyframes(jR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}z9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ka.delete(this)}cancel(){this.state==="scheduled"&&(Ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Q9=t=>t.startsWith("--");function X9(t,e,n){Q9(e)?t.style.setProperty(e,n):t.style[e]=n}const OR=Cv(()=>window.ScrollTimeline!==void 0),W9={};function Z9(t,e){const n=Cv(t);return()=>W9[e]??n()}const PR=Z9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,V2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function LR(t,e){if(t)return typeof t=="function"?PR()?IR(t,e):"ease-out":bR(t)?Wc(t):Array.isArray(t)?t.map(n=>LR(n,e)||V2.easeOut):V2[t]}function J9(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const b=LR(d,a);Array.isArray(b)&&(v.easing=b);const _={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(_.pseudoElement=g),t.animate(v,_)}function UR(t){return typeof t=="function"&&"applyToOptions"in t}function eP({type:t,...e}){return UR(t)&&PR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tP extends Bv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,wu(typeof e.type!="string");const g=eP(e);this.animation=J9(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=zv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):X9(n,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oi(e)}get time(){return oi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&OR()?(this.animation.timeline=e,Dn):n(this)}}const zR={anticipate:pR,backInOut:mR,circInOut:yR};function nP(t){return t in zR}function iP(t){typeof t.ease=="string"&&nP(t.ease)&&(t.ease=zR[t.ease])}const O2=10;class sP extends tP{constructor(e){iP(e),MR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new fm({...c,autoplay:!1}),m=ls(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-O2).value,d.sample(m).value,O2),d.stop()}}const P2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xr.test(t)||t==="0")&&!t.startsWith("url("));function rP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aP(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=P2(a,e),d=P2(l,e);return!c||!d?!1:rP(t)||(n==="spring"||UR(n))&&s}function G0(t){t.duration=0,t.type="keyframes"}const oP=new Set(["opacity","clipPath","filter","transform"]),lP=Cv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cP(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return lP()&&n&&oP.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const uP=40;class hP extends Bv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:v,...b}){var M;super(),this.stop=()=>{var k,C;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Cn.now();const _={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:v,...b},E=(v==null?void 0:v.KeyframeResolver)||Fv;this.keyframeResolver=new E(d,(k,C,V)=>this.onKeyframesResolved(k,C,_,!V),m,g,v),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Cn.now(),aP(e,l,c,d)||((Ks.instantAnimations||!m)&&(v==null||v(zv(e,s,n))),e[0]=e[e.length-1],G0(s),s.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>uP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},E=!g&&cP(_)?new sP({..._,element:_.motionValue.owner.current}):new fm(_);E.finished.then(()=>this.notifyFinished()).catch(Dn),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Y9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const dP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fP(t){const e=dP.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function BR(t,e,n=1){const[s,a]=fP(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return oR(c)?parseFloat(c):c}return jv(a)?BR(a,e,n+1):a}function Hv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const FR=new Set(["width","height","top","left","right","bottom",...Vl]),mP={test:t=>t==="auto",parse:t=>t},HR=t=>e=>e.test(t),qR=[jl,Te,cs,Dr,l9,o9,mP],L2=t=>qR.find(HR(t));function pP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cR(t):!0}const gP=new Set(["brightness","contrast","saturate","opacity"]);function yP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Vv)||[];if(!s)return t;const a=n.replace(s,"");let l=gP.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const vP=/\b([a-z-]*)\(.*?\)/gu,$0={...Xr,getAnimatableNone:t=>{const e=t.match(vP);return e?e.map(yP).join(" "):t}},U2={...jl,transform:Math.round},bP={rotate:Dr,rotateX:Dr,rotateY:Dr,rotateZ:Dr,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:Dr,skewX:Dr,skewY:Dr,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Tu,originX:A2,originY:A2,originZ:Te},qv={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...bP,zIndex:U2,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:U2},xP={...qv,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:$0,WebkitFilter:$0},GR=t=>xP[t];function $R(t,e){let n=GR(t);return n!==$0&&(n=Xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _P=new Set(["auto","none","0"]);function wP(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!_P.has(l)&&Eu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=$R(n,a)}class TP extends Fv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),jv(g))){const v=BR(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!FR.has(s)||e.length!==2)return;const[a,l]=e,c=L2(a),d=L2(l);if(c!==d)if(j2(c)&&j2(d))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else $a[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||pP(e[a]))&&s.push(a);s.length&&wP(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$a[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=$a[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function KR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const YR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Gv(t){return lR(t)&&"offsetHeight"in t}const z2=30,EP=t=>!isNaN(parseFloat(t)),cu={current:void 0};class SP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=EP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Iv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return cu.current&&cu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>z2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z2);return Dv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ai(t,e){return new SP(t,e)}const{schedule:$v}=xR(queueMicrotask,!1),Ti={x:!1,y:!1};function QR(){return Ti.x||Ti.y}function AP(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function XR(t,e){const n=KR(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function B2(t){return!(t.pointerType==="touch"||QR())}function RP(t,e,n={}){const[s,a,l]=XR(t,n),c=d=>{if(!B2(d))return;const{target:m}=d,g=e(m,d);if(typeof g!="function"||!m)return;const v=b=>{B2(b)&&(g(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const WR=(t,e)=>e?t===e?!0:WR(t,e.parentElement):!1,Kv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CP(t){return NP.has(t.tagName)||t.tabIndex!==-1}const ef=new WeakSet;function F2(t){return e=>{e.key==="Enter"&&t(e)}}function Kg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=F2(()=>{if(ef.has(n))return;Kg(n,"down");const a=F2(()=>{Kg(n,"up")}),l=()=>Kg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function H2(t){return Kv(t)&&!QR()}function DP(t,e,n={}){const[s,a,l]=XR(t,n),c=d=>{const m=d.currentTarget;if(!H2(d))return;ef.add(m);const g=e(m,d),v=(E,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),ef.has(m)&&ef.delete(m),H2(E)&&typeof g=="function"&&g(E,{success:M})},b=E=>{v(E,m===window||m===document||n.useGlobalTarget||WR(m,E.target))},_=E=>{v(E,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",_,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Gv(d)&&(d.addEventListener("focus",g=>IP(g,a)),!CP(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Yv(t){return lR(t)&&"ownerSVGElement"in t}const tf=new WeakMap;let kr;const ZR=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:Yv(s)&&"getBBox"in s?s.getBBox()[e]:s[n],kP=ZR("inline","width","offsetWidth"),MP=ZR("block","height","offsetHeight");function jP({target:t,borderBoxSize:e}){var n;(n=tf.get(t))==null||n.forEach(s=>{s(t,{get width(){return kP(t,e)},get height(){return MP(t,e)}})})}function VP(t){t.forEach(jP)}function OP(){typeof ResizeObserver>"u"||(kr=new ResizeObserver(VP))}function PP(t,e){kr||OP();const n=KR(t);return n.forEach(s=>{let a=tf.get(s);a||(a=new Set,tf.set(s,a)),a.add(e),kr==null||kr.observe(s)}),()=>{n.forEach(s=>{const a=tf.get(s);a==null||a.delete(e),a!=null&&a.size||kr==null||kr.unobserve(s)})}}const nf=new Set;let nl;function LP(){nl=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};nf.forEach(e=>e(t))},window.addEventListener("resize",nl)}function UP(t){return nf.add(t),nl||LP(),()=>{nf.delete(t),!nf.size&&typeof nl=="function"&&(window.removeEventListener("resize",nl),nl=void 0)}}function zP(t,e){return typeof t=="function"?UP(t):PP(t,e)}function JR(t,e){let n;const s=()=>{const{currentTime:a}=e,c=(a===null?0:a.value)/100;n!==c&&t(c),n=c};return Qe.preUpdate(s,!0),()=>Ci(s)}function BP(t){return Yv(t)&&t.tagName==="svg"}function FP(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],c=t[3+n],d=Uv(a,l,c);return e?d(s):d}const Zt=t=>!!(t&&t.getVelocity);function HP(t,e,n){const s=t.get();let a=null,l=s,c;const d=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,m=()=>{a&&(a.stop(),a=null)},g=()=>{m(),a=new fm({keyframes:[G2(t.get()),G2(l)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((v,b)=>{l=v,c=_=>b(q2(_,d)),Qe.postRender(g)},m),Zt(e)){const v=e.on("change",_=>t.set(q2(_,d))),b=t.on("destroy",v);return()=>{v(),b()}}return m}function q2(t,e){return e?t+e:t}function G2(t){return typeof t=="number"?t:parseFloat(t)}const qP=[...qR,Ut,Xr],GP=t=>qP.find(HR(t)),Gu=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $P(...t){return e=>{let n=!1;const s=t.map(a=>{const l=$2(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():$2(t[a],null)}}}}function KP(...t){return D.useCallback($P(...t),t)}class YP extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Gv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QP({children:t,isPresent:e,anchorX:n,root:s}){const a=D.useId(),l=D.useRef(null),c=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=D.useContext(Gu),m=KP(l,t==null?void 0:t.ref);return D.useInsertionEffect(()=>{const{width:g,height:v,top:b,left:_,right:E}=c.current;if(e||!l.current||!g||!v)return;const M=n==="left"?`left: ${_}`:`right: ${E}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");d&&(k.nonce=d);const C=s??document.head;return C.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${M}px !important;
            top: ${b}px !important;
          }
        `),()=>{C.contains(k)&&C.removeChild(k)}},[e]),p.jsx(YP,{isPresent:e,childRef:l,sizeRef:c,children:D.cloneElement(t,{ref:m})})}const XP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const g=Ml(WP),v=D.useId();let b=!0,_=D.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:E=>{g.set(E,!0);for(const M of g.values())if(!M)return;s&&s()},register:E=>(g.set(E,!1),()=>g.delete(E))}),[n,g,s]);return l&&b&&(_={..._}),D.useMemo(()=>{g.forEach((E,M)=>g.set(M,!1))},[n]),D.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(t=p.jsx(QP,{isPresent:n,anchorX:d,root:m,children:t})),p.jsx(dm.Provider,{value:_,children:t})};function WP(){return new Map}function eN(t=!0){const e=D.useContext(dm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Pd=t=>t.key||"";function K2(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const fs=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[g,v]=eN(c),b=D.useMemo(()=>K2(t),[t]),_=c&&!g?[]:b.map(Pd),E=D.useRef(!0),M=D.useRef(b),k=Ml(()=>new Map),[C,V]=D.useState(b),[F,N]=D.useState(b);hm(()=>{E.current=!1,M.current=b;for(let ae=0;ae<F.length;ae++){const I=Pd(F[ae]);_.includes(I)?k.delete(I):k.get(I)!==!0&&k.set(I,!1)}},[F,_.length,_.join("-")]);const W=[];if(b!==C){let ae=[...b];for(let I=0;I<F.length;I++){const R=F[I],j=Pd(R);_.includes(j)||(ae.splice(I,0,R),W.push(R))}return l==="wait"&&W.length&&(ae=W),N(K2(ae)),V(b),null}const{forceRender:ee}=D.useContext(Sv);return p.jsx(p.Fragment,{children:F.map(ae=>{const I=Pd(ae),R=c&&!g?!1:b===F||_.includes(I),j=()=>{if(k.has(I))k.set(I,!0);else return;let L=!0;k.forEach(U=>{U||(L=!1)}),L&&(ee==null||ee(),N(M.current),c&&(v==null||v()),s&&s())};return p.jsx(XP,{isPresent:R,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:R?void 0:j,anchorX:d,children:ae},I)})})},tN=D.createContext({strict:!1}),Y2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const t in Y2)_l[t]={isEnabled:e=>Y2[t].some(n=>!!e[n])};function ZP(t){for(const e in t)_l[e]={..._l[e],...t[e]}}const JP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Df(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JP.has(t)}let nN=t=>!Df(t);function eL(t){typeof t=="function"&&(nN=e=>e.startsWith("on")?!Df(e):t(e))}try{eL(require("@emotion/is-prop-valid").default)}catch{}function tL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(nN(a)||n===!0&&Df(a)||!e&&!Df(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const mm=D.createContext({});function pm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Su(t){return typeof t=="string"||Array.isArray(t)}const Qv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xv=["initial",...Qv];function gm(t){return pm(t.animate)||Xv.some(e=>Su(t[e]))}function iN(t){return!!(gm(t)||t.variants)}function nL(t,e){if(gm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Su(n)?n:void 0,animate:Su(s)?s:void 0}}return t.inherit!==!1?e:{}}function iL(t){const{initial:e,animate:n}=nL(t,D.useContext(mm));return D.useMemo(()=>({initial:e,animate:n}),[Q2(e),Q2(n)])}function Q2(t){return Array.isArray(t)?t.join(" "):t}function X2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=X2(t,e.target.x),s=X2(t,e.target.y);return`${n}% ${s}%`}},sL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Xr.parse(t);if(a.length>5)return s;const l=Xr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const g=mt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},K0={borderRadius:{...Gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gc,borderTopRightRadius:Gc,borderBottomLeftRadius:Gc,borderBottomRightRadius:Gc,boxShadow:sL};function sN(t,{layout:e,layoutId:n}){return Ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!K0[t]||t==="opacity")}const rL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aL=Vl.length;function oL(t,e,n){let s="",a=!0;for(let l=0;l<aL;l++){const c=Vl[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const g=YR(d,qv[c]);if(!m){a=!1;const v=rL[c]||c;s+=`${v}(${g}) `}n&&(e[c]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Wv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const g=e[m];if(Ol.has(m)){c=!0;continue}else if(wR(m)){a[m]=g;continue}else{const v=YR(g,qv[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=oL(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const Zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rN(t,e,n){for(const s in e)!Zt(e[s])&&!sN(s,n)&&(t[s]=e[s])}function lL({transformTemplate:t},e){return D.useMemo(()=>{const n=Zv();return Wv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cL(t,e){const n=t.style||{},s={};return rN(s,n,t),Object.assign(s,lL(t,e)),s}function uL(t,e){const n={},s=cL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const hL={offset:"stroke-dashoffset",array:"stroke-dasharray"},dL={offset:"strokeDashoffset",array:"strokeDasharray"};function fL(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?hL:dL;t[l.offset]=Te.transform(-s);const c=Te.transform(e),d=Te.transform(n);t[l.array]=`${c} ${d}`}function aN(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,v){if(Wv(t,d,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:_}=t;b.transform&&(_.transform=b.transform,delete b.transform),(_.transform||b.transformOrigin)&&(_.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),_.transform&&(_.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&fL(b,a,l,c,!1)}const oN=()=>({...Zv(),attrs:{}}),lN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mL(t,e,n,s){const a=D.useMemo(()=>{const l=oN();return aN(l,e,lN(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};rN(l,t.style,t),a.style={...l,...a.style}}return a}const pL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jv(t){return typeof t!="string"||t.includes("-")?!1:!!(pL.indexOf(t)>-1||/[A-Z]/u.test(t))}function gL(t,e,n,{latestValues:s},a,l=!1){const d=(Jv(t)?mL:uL)(e,s,a,t),m=tL(e,typeof t=="string",l),g=t!==D.Fragment?{...m,...d,ref:n}:{},{children:v}=e,b=D.useMemo(()=>Zt(v)?v.get():v,[v]);return D.createElement(t,{...g,children:b})}function W2(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function e1(t,e,n,s){if(typeof e=="function"){const[a,l]=W2(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=W2(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function sf(t){return Zt(t)?t.get():t}function yL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:vL(n,s,a,t),renderState:e()}}function vL(t,e,n,s){const a={},l=s(t,{});for(const _ in l)a[_]=sf(l[_]);let{initial:c,animate:d}=t;const m=gm(t),g=iN(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!pm(b)){const _=Array.isArray(b)?b:[b];for(let E=0;E<_.length;E++){const M=e1(t,_[E]);if(M){const{transitionEnd:k,transition:C,...V}=M;for(const F in V){let N=V[F];if(Array.isArray(N)){const W=v?N.length-1:0;N=N[W]}N!==null&&(a[F]=N)}for(const F in k)a[F]=k[F]}}}return a}const cN=t=>(e,n)=>{const s=D.useContext(mm),a=D.useContext(dm),l=()=>yL(t,e,s,a);return n?l():Ml(l)};function t1(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Zt(s[c])||e.style&&Zt(e.style[c])||sN(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const bL=cN({scrapeMotionValuesFromProps:t1,createRenderState:Zv});function uN(t,e,n){const s=t1(t,e,n);for(const a in t)if(Zt(t[a])||Zt(e[a])){const l=Vl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const xL=cN({scrapeMotionValuesFromProps:uN,createRenderState:oN}),_L=Symbol.for("motionComponentSymbol");function il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wL(t,e,n){return D.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):il(n)&&(n.current=s))},[e])}const n1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TL="framerAppearId",hN="data-"+n1(TL),dN=D.createContext({});function EL(t,e,n,s,a){var k,C;const{visualElement:l}=D.useContext(mm),c=D.useContext(tN),d=D.useContext(dm),m=D.useContext(Gu).reducedMotion,g=D.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=D.useContext(dN);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&SL(g.current,n,a,b);const _=D.useRef(!1);D.useInsertionEffect(()=>{v&&_.current&&v.update(n,d)});const E=n[hN],M=D.useRef(!!E&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,E))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,E)));return hm(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),M.current&&v.animationState&&v.animationState.animateChanges())}),D.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,E)}),M.current=!1),v.enteringChildren=void 0)}),v}function SL(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fN(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&il(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function fN(t){if(t)return t.options.allowProjection!==!1?t.projection:fN(t.parent)}function Yg(t,{forwardMotionProps:e=!1}={},n,s){n&&ZP(n);const a=Jv(t)?xL:bL;function l(d,m){let g;const v={...D.useContext(Gu),...d,layoutId:AL(d)},{isStatic:b}=v,_=iL(d),E=a(d,b);if(!b&&Av){RL();const M=NL(v);g=M.MeasureLayout,_.visualElement=EL(t,E,v,s,M.ProjectionNode)}return p.jsxs(mm.Provider,{value:_,children:[g&&_.visualElement?p.jsx(g,{visualElement:_.visualElement,...v}):null,gL(t,d,wL(E,_.visualElement,m),E,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=D.forwardRef(l);return c[_L]=t,c}function AL({layoutId:t}){const e=D.useContext(Sv).id;return e&&t!==void 0?e+"-"+t:t}function RL(t,e){D.useContext(tN).strict}function NL(t){const{drag:e,layout:n}=_l;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function CL(t,e){if(typeof Proxy>"u")return Yg;const n=new Map,s=(l,c)=>Yg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Yg(c,void 0,t,e)),n.get(c))})}function mN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function IL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Qg(t){return t===void 0||t===1}function Y0({scale:t,scaleX:e,scaleY:n}){return!Qg(t)||!Qg(e)||!Qg(n)}function Oa(t){return Y0(t)||pN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pN(t){return Z2(t.x)||Z2(t.y)}function Z2(t){return t&&t!=="0%"}function kf(t,e,n){const s=t-n,a=e*s;return n+a}function J2(t,e,n,s,a){return a!==void 0&&(t=kf(t,a,s)),kf(t,n,s)+e}function Q0(t,e=0,n=1,s,a){t.min=J2(t.min,e,n,s,a),t.max=J2(t.max,e,n,s,a)}function gN(t,{x:e,y:n}){Q0(t.x,e.translate,e.scale,e.originPoint),Q0(t.y,n.translate,n.scale,n.originPoint)}const eT=.999999999999,tT=1.0000000000001;function kL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&rl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,gN(t,c)),s&&Oa(l.latestValues)&&rl(t,l.latestValues))}e.x<tT&&e.x>eT&&(e.x=1),e.y<tT&&e.y>eT&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function nT(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);Q0(t,e,n,l,s)}function rl(t,e){nT(t.x,e.x,e.scaleX,e.scale,e.originX),nT(t.y,e.y,e.scaleY,e.scale,e.originY)}function yN(t,e){return mN(DL(t.getBoundingClientRect(),e))}function ML(t,e,n){const s=yN(t,n),{scroll:a}=e;return a&&(sl(s.x,a.offset.x),sl(s.y,a.offset.y)),s}const iT=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:iT(),y:iT()}),sT=()=>({min:0,max:0}),Gt=()=>({x:sT(),y:sT()}),X0={current:null},vN={current:!1};function jL(){if(vN.current=!0,!!Av)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>X0.current=t.matches;t.addEventListener("change",e),e()}else X0.current=!1}const VL=new WeakMap;function OL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Zt(a))t.addValue(s,a);else if(Zt(l))t.addValue(s,Ai(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Ai(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const rT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Cn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Qe.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=gm(n),this.isVariantNode=iN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const E=b[_];m[_]!==void 0&&Zt(E)&&E.set(m[_])}}mount(e){var n;this.current=e,VL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),vN.current||jL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:X0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ol.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _l){const n=_l[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<rT.length;s++){const a=rT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=OL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ai(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(oR(s)||cR(s))?s=parseFloat(s):!GP(s)&&Xr.test(n)&&(s=$R(e,n)),this.setBaseTarget(e,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=e1(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Zt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$v.render(this.render)}}class bN extends PL{constructor(){super(...arguments),this.KeyframeResolver=TP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xN(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function LL(t){return window.getComputedStyle(t)}class UL extends bN{constructor(){super(...arguments),this.type="html",this.renderInstance=xN}readValueFromInstance(e,n){var s;if(Ol.has(n))return(s=this.projection)!=null&&s.isProjecting?z0(n):H9(e,n);{const a=LL(e),l=(wR(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yN(e,n)}build(e,n,s){Wv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return t1(e,n,s)}}const _N=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zL(t,e,n,s){xN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(_N.has(a)?a:n1(a),e.attrs[a])}class BL extends bN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ol.has(n)){const s=GR(n);return s&&s.default||0}return n=_N.has(n)?n:n1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return uN(e,n,s)}build(e,n,s){aN(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){zL(e,n,s,a)}mount(e){this.isSVGTag=lN(e.tagName),super.mount(e)}}const FL=(t,e)=>Jv(t)?new BL(e):new UL(e,{allowProjection:t!==D.Fragment});function hl(t,e,n){const s=t.getProps();return e1(s,e,n!==void 0?n:s.custom,t)}const W0=t=>Array.isArray(t);function HL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ai(n))}function qL(t){return W0(t)?t[t.length-1]||0:t}function GL(t,e){const n=hl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=qL(l[c]);HL(t,c,d)}}function $L(t){return!!(Zt(t)&&t.add)}function Z0(t,e){const n=t.getValue("willChange");if($L(n))return n.add(e);if(!n&&Ks.WillChange){const s=new Ks.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function wN(t){return t.props[hN]}const KL=t=>t!==null;function YL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(KL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const QL={type:"spring",stiffness:500,damping:25,restSpeed:10},XL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WL={type:"keyframes",duration:.8},ZL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JL=(t,{keyframes:e})=>e.length>2?WL:Ol.has(t)?t.startsWith("scale")?XL(e[1]):QL:ZL;function e8({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const i1=(t,e,n,s={},a,l)=>c=>{const d=Hv(s,t)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-ls(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};e8(d)||Object.assign(v,JL(t,v)),v.duration&&(v.duration=ls(v.duration)),v.repeatDelay&&(v.repeatDelay=ls(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(G0(v),v.delay===0&&(b=!0)),(Ks.instantAnimations||Ks.skipAnimations)&&(b=!0,G0(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const _=YL(v.keyframes,d);if(_!==void 0){Qe.update(()=>{v.onUpdate(_),v.onComplete()});return}}return d.isSync?new fm(v):new hP(v)};function t8({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function TN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const b=t.getValue(v,t.latestValues[v]??null),_=d[v];if(_===void 0||g&&t8(g,v))continue;const E={delay:n,...Hv(l||{},v)},M=b.get();if(M!==void 0&&!b.isAnimating&&!Array.isArray(_)&&_===M&&!E.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const V=wN(t);if(V){const F=window.MotionHandoffAnimation(V,v,Qe);F!==null&&(E.startTime=F,k=!0)}}Z0(t,v),b.start(i1(v,b,_,t.shouldReduceMotion&&FR.has(v)?{type:!1}:E,t,k));const C=b.animation;C&&m.push(C)}return c&&Promise.all(m).then(()=>{Qe.update(()=>{c&&GL(t,c)})}),m}function EN(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function J0(t,e,n={}){var m;const s=hl(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(TN(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:_}=a;return n8(t,e,g,v,b,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,v]=d==="beforeChildren"?[l,c]:[c,l];return g().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function n8(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(J0(m,e,{...c,delay:n+(typeof s=="function"?0:s)+EN(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function i8(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>J0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=J0(t,e,n);else{const a=typeof e=="function"?hl(t,e,n.custom):e;s=Promise.all(TN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function SN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const s8=Xv.length;function AN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?AN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<s8;n++){const s=Xv[n],a=t.props[s];(Su(a)||a===!1)&&(e[s]=a)}return e}const r8=[...Qv].reverse(),a8=Qv.length;function o8(t){return e=>Promise.all(e.map(({animation:n,options:s})=>i8(t,n,s)))}function l8(t){let e=o8(t),n=aT(),s=!0;const a=m=>(g,v)=>{var _;const b=hl(t,v,m==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(b){const{transition:E,transitionEnd:M,...k}=b;g={...g,...k,...M}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,v=AN(t.parent)||{},b=[],_=new Set;let E={},M=1/0;for(let C=0;C<a8;C++){const V=r8[C],F=n[V],N=g[V]!==void 0?g[V]:v[V],W=Su(N),ee=V===m?F.isActive:null;ee===!1&&(M=C);let ae=N===v[V]&&N!==g[V]&&W;if(ae&&s&&t.manuallyAnimateOnMount&&(ae=!1),F.protectedKeys={...E},!F.isActive&&ee===null||!N&&!F.prevProp||pm(N)||typeof N=="boolean")continue;const I=c8(F.prevProp,N);let R=I||V===m&&F.isActive&&!ae&&W||C>M&&W,j=!1;const L=Array.isArray(N)?N:[N];let U=L.reduce(a(V),{});ee===!1&&(U={});const{prevResolvedValues:q={}}=F,O={...q,...U},st=oe=>{R=!0,_.has(oe)&&(j=!0,_.delete(oe)),F.needsAnimating[oe]=!0;const me=t.getValue(oe);me&&(me.liveStyle=!1)};for(const oe in O){const me=U[oe],De=q[oe];if(E.hasOwnProperty(oe))continue;let Oe=!1;W0(me)&&W0(De)?Oe=!SN(me,De):Oe=me!==De,Oe?me!=null?st(oe):_.add(oe):me!==void 0&&_.has(oe)?st(oe):F.protectedKeys[oe]=!0}F.prevProp=N,F.prevResolvedValues=U,F.isActive&&(E={...E,...U}),s&&t.blockInitialAnimation&&(R=!1);const yt=ae&&I;R&&(!yt||j)&&b.push(...L.map(oe=>{const me={type:V};if(typeof oe=="string"&&s&&!yt&&t.manuallyAnimateOnMount&&t.parent){const{parent:De}=t,Oe=hl(De,oe);if(De.enteringChildren&&Oe){const{delayChildren:B}=Oe.transition||{};me.delay=EN(De.enteringChildren,t,B)}}return{animation:oe,options:me}}))}if(_.size){const C={};if(typeof g.initial!="boolean"){const V=hl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);V&&V.transition&&(C.transition=V.transition)}_.forEach(V=>{const F=t.getBaseTarget(V),N=t.getValue(V);N&&(N.liveStyle=!0),C[V]=F??null}),b.push({animation:C})}let k=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(b):Promise.resolve()}function d(m,g){var b;if(n[m].isActive===g)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(_=>{var E;return(E=_.animationState)==null?void 0:E.setActive(m,g)}),n[m].isActive=g;const v=c(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=aT()}}}function c8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SN(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aT(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u8 extends na{constructor(e){super(e),e.animationState||(e.animationState=l8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let h8=0;class d8 extends na{constructor(){super(...arguments),this.id=h8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const f8={animation:{Feature:u8},exit:{Feature:d8}};function Au(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function $u(t){return{point:{x:t.pageX,y:t.pageY}}}const m8=t=>e=>Kv(e)&&t(e,$u(e));function uu(t,e,n,s){return Au(t,e,m8(n),s)}const RN=1e-4,p8=1-RN,g8=1+RN,NN=.01,y8=0-NN,v8=0+NN;function bn(t){return t.max-t.min}function b8(t,e,n){return Math.abs(t-e)<=n}function oT(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=p8&&t.scale<=g8||isNaN(t.scale))&&(t.scale=1),(t.translate>=y8&&t.translate<=v8||isNaN(t.translate))&&(t.translate=0)}function hu(t,e,n,s){oT(t.x,e.x,n.x,s?s.originX:void 0),oT(t.y,e.y,n.y,s?s.originY:void 0)}function lT(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function x8(t,e,n){lT(t.x,e.x,n.x),lT(t.y,e.y,n.y)}function cT(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function Mf(t,e,n){cT(t.x,e.x,n.x),cT(t.y,e.y,n.y)}function ii(t){return[t("x"),t("y")]}const CN=({current:t})=>t?t.ownerDocument.defaultView:null,uT=(t,e)=>Math.abs(t-e);function _8(t,e){const n=uT(t.x,e.x),s=uT(t.y,e.y);return Math.sqrt(n**2+s**2)}class IN{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Wg(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,M=_8(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!M)return;const{point:k}=_,{timestamp:C}=Xt;this.history.push({...k,timestamp:C});const{onStart:V,onMove:F}=this.handlers;E||(V&&V(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Xg(E,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:M,onSessionEnd:k,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Wg(_.type==="pointercancel"?this.lastMoveEventInfo:Xg(E,this.transformPagePoint),this.history);this.startEvent&&M&&M(_,V),k&&k(_,V)},!Kv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=$u(e),m=Xg(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=Xt;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Wg(m,this.history)),this.removeListeners=Fu(uu(this.contextWindow,"pointermove",this.handlePointerMove),uu(this.contextWindow,"pointerup",this.handlePointerUp),uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function Xg(t,e){return e?{point:e(t.point)}:t}function hT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wg({point:t},e){return{point:t,delta:hT(t,DN(e)),offset:hT(t,w8(e)),velocity:T8(e,.1)}}function w8(t){return t[0]}function DN(t){return t[t.length-1]}function T8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=DN(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ls(e)));)n--;if(!s)return{x:0,y:0};const l=oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function E8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function dT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function S8(t,{top:e,left:n,bottom:s,right:a}){return{x:dT(t.x,n,a),y:dT(t.y,e,s)}}function fT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function A8(t,e){return{x:fT(t.x,e.x),y:fT(t.y,e.y)}}function R8(t,e){let n=.5;const s=bn(t),a=bn(e);return a>s?n=xl(e.min,e.max-s,t.min):s>a&&(n=xl(t.min,t.max-a,e.min)),ds(0,1,n)}function N8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ey=.35;function C8(t=ey){return t===!1?t=0:t===!0&&(t=ey),{x:mT(t,"left","right"),y:mT(t,"top","bottom")}}function mT(t,e,n){return{min:pT(t,e),max:pT(t,n)}}function pT(t,e){return typeof t=="number"?t:t[e]||0}const I8=new WeakMap;class D8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($u(b).point)},c=(b,_)=>{const{drag:E,dragPropagation:M,onDragStart:k}=this.getProps();if(E&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AP(E),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(V=>{let F=this.getAxisMotionValue(V).get()||0;if(cs.test(F)){const{projection:N}=this.visualElement;if(N&&N.layout){const W=N.layout.layoutBox[V];W&&(F=bn(W)*(parseFloat(F)/100))}}this.originPoint[V]=F}),k&&Qe.postRender(()=>k(b,_)),Z0(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_;const{dragPropagation:E,dragDirectionLock:M,onDirectionLock:k,onDrag:C}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=_;if(M&&this.currentDirection===null){this.currentDirection=k8(V),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),C&&C(b,_)},m=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_,this.stop(b,_),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ii(b=>{var _;return this.getAnimationState(b)==="paused"&&((_=this.getAxisMotionValue(b).animation)==null?void 0:_.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new IN(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:CN(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Qe.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Ld(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=E8(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=S8(s.layoutBox,e):this.constraints=!1,this.elastic=C8(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ii(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=N8(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!il(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=ML(s,a.root,this.visualElement.getTransformPagePoint());let c=A8(a.layout.layoutBox,l);if(n){const d=n(IL(c));this.hasMutatedConstraints=!!d,d&&(c=mN(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ii(v=>{if(!Ld(v,n,this.currentDirection))return;let b=m&&m[v]||{};c&&(b={min:0,max:0});const _=a?200:1e6,E=a?40:1e7,M={type:"inertia",velocity:s?e[v]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,M)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Z0(this.visualElement,e),s.start(i1(e,s,0,n,this.visualElement,!1))}stopAnimation(){ii(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ii(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ii(n=>{const{drag:s}=this.getProps();if(!Ld(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-mt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!il(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=R8({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ii(c=>{if(!Ld(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(mt(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;I8.set(this.visualElement,this);const e=this.visualElement.current,n=uu(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();il(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Qe.read(s);const c=Au(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ii(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=ey,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Ld(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function k8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class M8 extends na{constructor(e){super(e),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new D8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const gT=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class j8 extends na{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(e){this.session=new IN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:gT(e),onStart:gT(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Qe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Zg=!1;class V8 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Zg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Zg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Qe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$v.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Zg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kN(t){const[e,n]=eN(),s=D.useContext(Sv);return p.jsx(V8,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(dN),isPresent:e,safeToRemove:n})}function O8(t,e,n){const s=Zt(t)?t:Ai(t);return s.start(i1("",s,e,n)),s.animation}const P8=(t,e)=>t.depth-e.depth;class L8{constructor(){this.children=[],this.isDirty=!1}add(e){Rv(this.children,e),this.isDirty=!0}remove(e){Nv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(P8),this.isDirty=!1,this.children.forEach(e)}}function U8(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ci(s),t(l-e))};return Qe.setup(s,!0),()=>Ci(s)}const MN=["TopLeft","TopRight","BottomLeft","BottomRight"],z8=MN.length,yT=t=>typeof t=="string"?parseFloat(t):t,vT=t=>typeof t=="number"||Te.test(t);function B8(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,F8(s)),t.opacityExit=mt(e.opacity??1,0,H8(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let c=0;c<z8;c++){const d=`border${MN[c]}Radius`;let m=bT(e,d),g=bT(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||vT(m)===vT(g)?(t[d]=Math.max(mt(yT(m),yT(g),s),0),(cs.test(g)||cs.test(m))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function bT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const F8=jN(0,.5,gR),H8=jN(.5,.95,Dn);function jN(t,e,n){return s=>s<t?0:s>e?1:n(xl(t,e,s))}function xT(t,e){t.min=e.min,t.max=e.max}function wi(t,e){xT(t.x,e.x),xT(t.y,e.y)}function _T(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wT(t,e,n,s,a){return t-=e,t=kf(t,1/n,s),a!==void 0&&(t=kf(t,1/a,s)),t}function q8(t,e=0,n=1,s=.5,a,l=t,c=t){if(cs.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=mt(l.min,l.max,s);t===l&&(d-=e),t.min=wT(t.min,e,n,d,a),t.max=wT(t.max,e,n,d,a)}function TT(t,e,[n,s,a],l,c){q8(t,e[n],e[s],e[a],e.scale,l,c)}const G8=["x","scaleX","originX"],$8=["y","scaleY","originY"];function ET(t,e,n,s){TT(t.x,e,G8,n?n.x:void 0,s?s.x:void 0),TT(t.y,e,$8,n?n.y:void 0,s?s.y:void 0)}function ST(t){return t.translate===0&&t.scale===1}function VN(t){return ST(t.x)&&ST(t.y)}function AT(t,e){return t.min===e.min&&t.max===e.max}function K8(t,e){return AT(t.x,e.x)&&AT(t.y,e.y)}function RT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ON(t,e){return RT(t.x,e.x)&&RT(t.y,e.y)}function NT(t){return bn(t.x)/bn(t.y)}function CT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Y8{constructor(){this.members=[]}add(e){Rv(this.members,e),e.scheduleRender()}remove(e){if(Nv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Q8(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:_,skewX:E,skewY:M}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),_&&(s+=`rotateY(${_}deg) `),E&&(s+=`skewX(${E}deg) `),M&&(s+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Jg=["","X","Y","Z"],X8=1e3;let W8=0;function e0(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function PN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&PN(s)}function LN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=W8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(e7),this.nodes.forEach(s7),this.nodes.forEach(r7),this.nodes.forEach(t7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new L8)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Iv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Yv(c)&&!BP(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const _=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{b=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==b&&(b=E,this.root.updateBlockedByResize=!0,v&&v(),v=U8(_,250),rf.hasAnimatedSinceResize&&(rf.hasAnimatedSinceResize=!1,this.nodes.forEach(kT)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||g.getDefaultTransition()||u7,{onLayoutAnimationStart:k,onLayoutAnimationComplete:C}=g.getProps(),V=!this.targetLayout||!ON(this.targetLayout,E),F=!b&&_;if(this.options.layoutRoot||this.resumeFrom||F||b&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Hv(M,"layout"),onPlay:k,onComplete:C};(g.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(v,F)}else b||kT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a7),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(IT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(i7),this.nodes.forEach(Z8),this.nodes.forEach(J8)):this.nodes.forEach(DT),this.clearAllSnapshots();const d=Cn.now();Xt.delta=ds(0,1e3/60,d-Xt.timestamp),Xt.timestamp=d,Xt.isProcessing=!0,Fg.update.process(Xt),Fg.preRender.process(Xt),Fg.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$v.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(n7),this.sharedNodes.forEach(o7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!VN(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Oa(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),h7(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Gt();const d=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(d7))){const{scroll:v}=this.root;v&&(sl(d.x,v.offset.x),sl(d.y,v.offset.y))}return d}removeElementScroll(c){var m;const d=Gt();if(wi(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:b,options:_}=v;v!==this.root&&b&&_.layoutScroll&&(b.wasRoot&&wi(d,c),sl(d.x,b.offset.x),sl(d.y,b.offset.y))}return d}applyTransform(c,d=!1){const m=Gt();wi(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&rl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Oa(v.latestValues)&&rl(m,v.latestValues)}return Oa(this.latestValues)&&rl(m,this.latestValues),m}removeTransform(c){const d=Gt();wi(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Oa(g.latestValues))continue;Y0(g.latestValues)&&g.updateSnapshot();const v=Gt(),b=g.measurePageBox();wi(v,b),ET(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Oa(this.latestValues)&&ET(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=Xt.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),gN(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Y0(this.parent.latestValues)||pN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Mf(this.relativeTargetOrigin,d,m),wi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var M;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;wi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;kL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Gt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_T(this.prevProjectionDelta.x,this.projectionDelta.x),_T(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!CT(this.projectionDelta.x,this.prevProjectionDelta.x)||!CT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},b=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Gt(),E=m?m.source:void 0,M=this.layout?this.layout.source:void 0,k=E!==M,C=this.getStack(),V=!C||C.members.length<=1,F=!!(k&&!V&&this.options.crossfade===!0&&!this.path.some(c7));this.animationProgress=0;let N;this.mixTargetDelta=W=>{const ee=W/1e3;MT(b.x,c.x,ee),MT(b.y,c.y,ee),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l7(this.relativeTarget,this.relativeTargetOrigin,_,ee),N&&K8(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Gt()),wi(N,this.relativeTarget)),k&&(this.animationValues=v,B8(v,g,this.latestValues,ee,F,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{rf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ai(0)),this.currentAnimation=O8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:v}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&UN(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Gt();const b=bn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const _=bn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}wi(d,m),rl(d,v),hu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Y8),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&e0("z",c,g,this.animationValues);for(let v=0;v<Jg.length;v++)e0(`rotate${Jg[v]}`,c,g,this.animationValues),e0(`skew${Jg[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=sf(d==null?void 0:d.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=sf(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=Q8(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),c.transform=b;const{x:_,y:E}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const M in K0){if(v[M]===void 0)continue;const{correct:k,applyTo:C,isCSSVariable:V}=K0[M],F=b==="none"?v[M]:k(v[M],g);if(C){const N=C.length;for(let W=0;W<N;W++)c[C[W]]=F}else V?this.options.visualElement.renderState.vars[M]=F:c[M]=F}this.options.layoutId&&(c.pointerEvents=g===this?sf(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(IT),this.root.sharedNodes.clear()}}}function Z8(t){t.updateLayout()}function J8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ii(b=>{const _=c?e.measuredBox[b]:e.layoutBox[b],E=bn(_);_.min=s[b].min,_.max=_.min+E}):UN(l,e.layoutBox,s)&&ii(b=>{const _=c?e.measuredBox[b]:e.layoutBox[b],E=bn(s[b]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+E)});const d=al();hu(d,s,e.layoutBox);const m=al();c?hu(m,t.applyTransform(a,!0),e.measuredBox):hu(m,s,e.layoutBox);const g=!VN(d);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:_,layout:E}=b;if(_&&E){const M=Gt();Mf(M,e.layoutBox,_.layoutBox);const k=Gt();Mf(k,s,E.layoutBox),ON(M,k)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=M,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function e7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function t7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function n7(t){t.clearSnapshot()}function IT(t){t.clearMeasurements()}function DT(t){t.isLayoutDirty=!1}function i7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function s7(t){t.resolveTargetDelta()}function r7(t){t.calcProjection()}function a7(t){t.resetSkewAndRotation()}function o7(t){t.removeLeadSnapshot()}function MT(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jT(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function l7(t,e,n,s){jT(t.x,e.x,n.x,s),jT(t.y,e.y,n.y,s)}function c7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const u7={duration:.45,ease:[.4,0,.1,1]},VT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OT=VT("applewebkit/")&&!VT("chrome/")?Math.round:Dn;function PT(t){t.min=OT(t.min),t.max=OT(t.max)}function h7(t){PT(t.x),PT(t.y)}function UN(t,e,n){return t==="position"||t==="preserve-aspect"&&!b8(NT(e),NT(n),.2)}function d7(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const f7=LN({attachResizeListener:(t,e)=>Au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),t0={current:void 0},zN=LN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!t0.current){const t=new f7({});t.mount(window),t.setOptions({layoutScroll:!0}),t0.current=t}return t0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),m7={pan:{Feature:j8},drag:{Feature:M8,ProjectionNode:zN,MeasureLayout:kN}};function LT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Qe.postRender(()=>l(e,$u(e)))}class p7 extends na{mount(){const{current:e}=this.node;e&&(this.unmount=RP(e,(n,s)=>(LT(this.node,s,"Start"),a=>LT(this.node,a,"End"))))}unmount(){}}class g7 extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fu(Au(this.node.current,"focus",()=>this.onFocus()),Au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Qe.postRender(()=>l(e,$u(e)))}class y7 extends na{mount(){const{current:e}=this.node;e&&(this.unmount=DP(e,(n,s)=>(UT(this.node,s,"Start"),(a,{success:l})=>UT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ty=new WeakMap,n0=new WeakMap,v7=t=>{const e=ty.get(t.target);e&&e(t)},b7=t=>{t.forEach(v7)};function x7({root:t,...e}){const n=t||document;n0.has(n)||n0.set(n,{});const s=n0.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(b7,{root:t,...e})),s[a]}function _7(t,e,n){const s=x7(e);return ty.set(t,n),s.observe(t),()=>{ty.delete(t),s.unobserve(t)}}const w7={some:0,all:1};class T7 extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:w7[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),_=g?v:b;_&&_(m)};return _7(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(E7(e,n))&&this.startObserver()}unmount(){}}function E7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const S7={inView:{Feature:T7},tap:{Feature:y7},focus:{Feature:g7},hover:{Feature:p7}},A7={layout:{ProjectionNode:zN,MeasureLayout:kN}},R7={...f8,...S7,...m7,...A7},ce=CL(R7,FL),N7=50,zT=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),C7=()=>({time:0,x:zT(),y:zT()}),I7={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function BT(t,e,n,s){const a=n[e],{length:l,position:c}=I7[e],d=a.current,m=n.time;a.current=t[`scroll${c}`],a.scrollLength=t[`scroll${l}`]-t[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=xl(0,a.scrollLength,a.current);const g=s-m;a.velocity=g>N7?0:Dv(a.current-d,g)}function D7(t,e,n){BT(t,"x",e,n),BT(t,"y",e,n),e.time=n}function k7(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(Gv(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const a=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();n.x+=a.left-l.left,n.y+=a.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:a,y:l}=s.getBBox();n.x+=a,n.y+=l;let c=null,d=s.parentNode;for(;!c;)d.tagName==="svg"&&(c=d),d=s.parentNode;s=c}else break;return n}const ny={start:0,center:.5,end:1};function FT(t,e,n=0){let s=0;if(t in ny&&(t=ny[t]),typeof t=="string"){const a=parseFloat(t);t.endsWith("px")?s=a:t.endsWith("%")?t=a/100:t.endsWith("vw")?s=a/100*document.documentElement.clientWidth:t.endsWith("vh")?s=a/100*document.documentElement.clientHeight:t=a}return typeof t=="number"&&(s=e*t),n+s}const M7=[0,0];function j7(t,e,n,s){let a=Array.isArray(t)?t:M7,l=0,c=0;return typeof t=="number"?a=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?a=t.split(" "):a=[t,ny[t]?t:"0"]),l=FT(a[0],n,s),c=FT(a[1],e),l-c}const V7={All:[[0,0],[1,1]]},O7={x:0,y:0};function P7(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function L7(t,e,n){const{offset:s=V7.All}=n,{target:a=t,axis:l="y"}=n,c=l==="y"?"height":"width",d=a!==t?k7(a,t):O7,m=a===t?{width:t.scrollWidth,height:t.scrollHeight}:P7(a),g={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let v=!e[l].interpolate;const b=s.length;for(let _=0;_<b;_++){const E=j7(s[_],g[c],m[c],d[l]);!v&&E!==e[l].interpolatorOffsets[_]&&(v=!0),e[l].offset[_]=E}v&&(e[l].interpolate=Uv(e[l].offset,kR(s),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=ds(0,1,e[l].interpolate(e[l].current))}function U7(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function z7(t,e,n,s={}){return{measure:a=>{U7(t,s.target,n),D7(t,n,a),(s.offset||s.target)&&L7(t,n,s)},notify:()=>e(n)}}const $c=new WeakMap,HT=new WeakMap,i0=new WeakMap,qT=t=>t===document.scrollingElement?window:t;function BN(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Dn;let s=i0.get(e);s||(s=new Set,i0.set(e,s));const a=C7(),l=z7(e,t,a,n);if(s.add(l),!$c.has(e)){const d=()=>{for(const b of s)b.measure(Xt.timestamp);Qe.preUpdate(m)},m=()=>{for(const b of s)b.notify()},g=()=>Qe.read(d);$c.set(e,g);const v=qT(e);window.addEventListener("resize",g,{passive:!0}),e!==document.documentElement&&HT.set(e,zP(e,g)),v.addEventListener("scroll",g,{passive:!0}),g()}const c=$c.get(e);return Qe.read(c,!1,!0),()=>{var g;Ci(c);const d=i0.get(e);if(!d||(d.delete(l),d.size))return;const m=$c.get(e);$c.delete(e),m&&(qT(e).removeEventListener("scroll",m),(g=HT.get(e))==null||g(),window.removeEventListener("resize",m))}}const GT=new Map;function B7(t){const e={value:0},n=BN(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function FN({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const a=GT.get(e)??new Map;GT.set(e,a);const l=n.target??"self",c=a.get(l)??{},d=s+(n.offset??[]).join(",");return c[d]||(c[d]=!n.target&&OR()?new ScrollTimeline({source:e,axis:s}):B7({container:e,...n})),c[d]}function F7(t,e){const n=FN(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),JR(a=>{s.time=s.iterationDuration*a},n))})}function H7(t){return t.length===2}function q7(t,e){return H7(t)?BN(n=>{t(n[e.axis].progress,n)},e):JR(t,FN(e))}function G7(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return Dn;const a={axis:e,container:n,...s};return typeof t=="function"?q7(t,a):F7(t,a)}const $7=()=>({scrollX:Ai(0),scrollY:Ai(0),scrollXProgress:Ai(0),scrollYProgress:Ai(0)}),Ud=t=>t?!t.current:!1;function s1({container:t,target:e,...n}={}){const s=Ml($7),a=D.useRef(null),l=D.useRef(!1),c=D.useCallback(()=>(a.current=G7((d,{x:m,y:g})=>{s.scrollX.set(m.current),s.scrollXProgress.set(m.progress),s.scrollY.set(g.current),s.scrollYProgress.set(g.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var d;(d=a.current)==null||d.call(a)}),[t,e,JSON.stringify(n.offset)]);return hm(()=>{if(l.current=!1,Ud(t)||Ud(e)){l.current=!0;return}else return c()},[c]),D.useEffect(()=>{if(l.current)return wu(!Ud(t)),wu(!Ud(e)),c()},[c]),s}function HN(t){const e=Ml(()=>Ai(t)),{isStatic:n}=D.useContext(Gu);if(n){const[,s]=D.useState(t);D.useEffect(()=>e.on("change",s),[])}return e}function qN(t,e){const n=HN(e()),s=()=>n.set(e());return s(),hm(()=>{const a=()=>Qe.preRender(s,!1,!0),l=t.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),Ci(s)}}),n}function K7(t){cu.current=[],t();const e=qN(cu.current,t);return cu.current=void 0,e}function Ya(t,e,n,s){if(typeof t=="function")return K7(t);const a=typeof e=="function"?e:FP(e,n,s);return Array.isArray(t)?$T(t,a):$T([t],([l])=>a(l))}function $T(t,e){const n=Ml(()=>[]);return qN(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}function Y7(t,e={}){const{isStatic:n}=D.useContext(Gu),s=()=>Zt(t)?t.get():t;if(n)return Ya(s);const a=HN(s());return D.useInsertionEffect(()=>HP(a,t,e),[a,JSON.stringify(e)]),a}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),KT=t=>{const e=X7(t);return e.charAt(0).toUpperCase()+e.slice(1)},GN=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),W7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>D.createElement("svg",{ref:m,...Z7,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:GN("lucide",a),...!l&&!W7(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>D.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=D.forwardRef(({className:s,...a},l)=>D.createElement(J7,{ref:l,iconNode:e,className:GN(`lucide-${Q7(KT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=KT(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],YT=ge("activity",eU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iy=ge("arrow-right",tU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],iU=ge("arrow-up-right",nU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],rU=ge("arrow-up",sU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$N=ge("book-open",aU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],KN=ge("briefcase",oU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YN=ge("camera",lU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],uU=ge("car",cU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dU=ge("check",hU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mU=ge("circle-question-mark",fU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QN=ge("clock",pU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yU=ge("copy",gU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],bU=ge("crosshair",vU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ym=ge("crown",xU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wU=ge("dollar-sign",_U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],EU=ge("drama",TU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QT=ge("external-link",SU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RU=ge("eye",AU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],CU=ge("file-pen",NU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],sy=ge("gamepad-2",IU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],kU=ge("gavel",DU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],jU=ge("ghost",MU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ry=ge("globe",VU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],PU=ge("heart-handshake",OU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],UU=ge("heart",LU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],XN=ge("house",zU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wl=ge("image",BU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],HU=ge("instagram",FU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],GU=ge("layout-dashboard",qU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jf=ge("loader-circle",$U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vf=ge("lock",KU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WN=ge("log-out",YU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XU=ge("mail",QU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ZN=ge("map-pin",WU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],JN=ge("menu",ZU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XT=ge("message-square",JU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M5 12h14",key:"1ays0h"}]],tz=ge("minus",ez);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iz=ge("pen-line",nz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ku=ge("pen",sz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],r1=ge("plus",rz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],oz=ge("rat",az);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cz=ge("refresh-cw",lz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tl=ge("save",uz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],dz=ge("scale",hz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mz=ge("search",fz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gz=ge("settings",pz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],zs=ge("shield-alert",yz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vm=ge("shield-check",vz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Of=ge("shield",bz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],eC=ge("shirt",xz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ay=ge("shopping-cart",_z);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Tz=ge("skull",wz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Sz=ge("star",Ez);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bm=ge("trash-2",Az);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Nz=ge("trending-up",Rz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tC=ge("upload",Cz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Dz=ge("user-plus",Iz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],du=ge("user",kz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xm=ge("users",Mz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],s0=ge("wifi",jz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ro=ge("x",Vz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Pz=ge("youtube",Oz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a1=ge("zap",Lz),Ei=({variant:t="primary",size:e="md",children:n,className:s="",icon:a,fullWidth:l=!1,href:c,...d})=>{const m="relative inline-flex items-center justify-center font-display font-bold uppercase tracking-wider transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden",g={primary:"bg-vital-600 text-white border border-vital-500 shadow-[0_0_20px_rgba(249,115,22,0.4)]",secondary:"bg-white text-dark-900 border border-white",outline:"bg-transparent border border-vital-500 text-vital-500",ghost:"bg-transparent text-gray-400"},v={sm:"text-xs px-4 py-2 gap-2 rounded",md:"text-sm px-6 py-3 gap-2 rounded-md",lg:"text-base px-8 py-4 gap-3 rounded-lg"},b=l?"w-full":"",_={primary:{hover:{scale:1.05,y:-3,backgroundColor:"#f97316",boxShadow:"0 0 40px rgba(249,115,22,0.7)"},tap:{scale:.95,y:1}},secondary:{hover:{scale:1.05,y:-3,backgroundColor:"#f3f4f6",boxShadow:"0 10px 30px -5px rgba(255,255,255,0.4)"},tap:{scale:.95,y:1}},outline:{hover:{scale:1.05,y:-3,backgroundColor:"rgba(249,115,22,0.1)",boxShadow:"0 0 25px rgba(249,115,22,0.3)"},tap:{scale:.95,y:1}},ghost:{hover:{scale:1.05,y:-2,backgroundColor:"rgba(255,255,255,0.1)",color:"#ffffff"},tap:{scale:.95,y:1}}};return c?p.jsxs(ce.a,{href:c,whileHover:"hover",whileTap:"tap",variants:_[t],transition:{type:"spring",stiffness:400,damping:15},className:`${m} ${g[t]} ${v[e]} ${b} ${s}`,...d,children:[t==="primary"&&p.jsx(ce.div,{className:"absolute top-0 bottom-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12",initial:{left:"-100%"},variants:{hover:{left:"200%",transition:{duration:.6,ease:"easeInOut"}}}}),a&&p.jsx("span",{className:"mr-1 relative z-10",children:a}),p.jsx("span",{className:"relative z-10",children:n})]}):p.jsxs(ce.button,{whileHover:"hover",whileTap:"tap",variants:_[t],transition:{type:"spring",stiffness:400,damping:15},className:`${m} ${g[t]} ${v[e]} ${b} ${s}`,...d,children:[t==="primary"&&p.jsx(ce.div,{className:"absolute top-0 bottom-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12",initial:{left:"-100%"},variants:{hover:{left:"200%",transition:{duration:.6,ease:"easeInOut"}}}}),a&&p.jsx("span",{className:"mr-1 relative z-10",children:a}),p.jsx("span",{className:"relative z-10",children:n})]})},oy=({className:t="w-10 h-10"})=>p.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMidYMid meet",children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"vitalLogoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"#FBBF24"})," ",p.jsx("stop",{offset:"50%",stopColor:"#F97316"})," ",p.jsx("stop",{offset:"100%",stopColor:"#EF4444"})," "]})}),p.jsx("path",{d:"M10 15 L50 95 L90 15 L70 15 L50 55 L30 15 Z",fill:"url(#vitalLogoGradient)",stroke:"none"})]}),WT=({className:t})=>p.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[p.jsx("title",{children:"Discord"}),p.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),Uz=({onOpenStore:t})=>{const[e,n]=D.useState(!1),[s,a]=D.useState(!1),[l,c]=D.useState(!1),d=D.useRef(null);D.useEffect(()=>{const b=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const m=()=>{d.current=setTimeout(()=>{c(!0)},300)},g=()=>{d.current&&clearTimeout(d.current),c(!1)},v=[{name:"Features",href:"#features"},{name:"About",href:"#values"},{name:"Staff",href:"#staff"},{name:"Gallery",href:"#gallery"}];return p.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${e?"bg-dark-900/95 md:bg-dark-900/90 md:backdrop-blur-md border-white/10 py-3 shadow-lg":"bg-transparent border-transparent py-6"}`,children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3 relative",children:[p.jsx("div",{className:"relative",children:p.jsx(oy,{className:"w-12 h-12 flex-shrink-0 filter drop-shadow-[0_0_10px_rgba(249,115,22,0.3)]"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-white font-display font-bold text-xl tracking-widest leading-none",children:"VITAL"}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600 font-tech text-xs tracking-[0.3em] leading-none font-bold",children:"ROLEPLAY"})]})]}),p.jsx("div",{className:"hidden lg:flex items-center gap-8",children:v.map(b=>p.jsx("a",{href:b.href,className:"text-sm font-tech font-medium text-gray-400 hover:text-vital-400 transition-colors uppercase tracking-widest",children:b.name},b.name))}),p.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-3",children:[p.jsxs("div",{className:"relative",onMouseEnter:m,onMouseLeave:g,children:[p.jsx(Ei,{variant:"ghost",size:"sm",icon:p.jsx(XT,{size:18}),children:"Forums"}),p.jsx(fs,{children:l&&p.jsxs(ce.div,{initial:{opacity:0,y:5,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:4,scale:.98},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full mt-3 left-1/2 -translate-x-1/2 bg-vital-500 text-dark-900 text-[10px] font-bold px-3 py-1.5 rounded shadow-lg whitespace-nowrap z-50 uppercase tracking-wider pointer-events-none",children:[p.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-vital-500 rotate-45"}),"Coming Soon!"]})})]}),p.jsx(Ei,{onClick:t,variant:"ghost",size:"sm",icon:p.jsx(ay,{size:18}),children:"Store"}),p.jsx(Ei,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"ghost",size:"sm",icon:p.jsx(WT,{className:"w-[18px] h-[18px]"}),children:"Discord"}),p.jsx(Ei,{variant:"primary",size:"sm",icon:p.jsx(sy,{size:18}),children:"Connect"})]}),p.jsx("div",{className:"flex md:hidden items-center gap-4",children:p.jsx("button",{className:"text-white p-2",onClick:()=>a(!s),"aria-label":"Toggle menu",children:s?p.jsx(ro,{}):p.jsx(JN,{})})})]})}),p.jsx(fs,{children:s&&p.jsx(ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-dark-900 border-b border-white/10 overflow-hidden",children:p.jsxs("div",{className:"px-4 py-6 space-y-4 flex flex-col",children:[v.map(b=>p.jsx("a",{href:b.href,className:"text-lg font-display text-gray-300 hover:text-vital-400 block text-center",onClick:()=>a(!1),children:b.name},b.name)),p.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[p.jsx(Ei,{variant:"outline",fullWidth:!0,icon:p.jsx(XT,{size:18}),className:"opacity-75",children:"Forums (Soon)"}),p.jsx(Ei,{onClick:()=>{a(!1),t()},variant:"outline",fullWidth:!0,icon:p.jsx(ay,{size:18}),children:"Store"}),p.jsx(Ei,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"outline",fullWidth:!0,icon:p.jsx(WT,{className:"w-[18px] h-[18px]"}),children:"Join Discord"}),p.jsx(Ei,{variant:"primary",fullWidth:!0,icon:p.jsx(sy,{size:18}),children:"Play Now"})]})]})})})]})},ZT="cfx.re/join/ogpvmv",zz="https://cfx.re/join/ogpvmv",Bz="ogpvmv",Fz=()=>{const[t,e]=D.useState(!1),[n,s]=D.useState({online:!1,players:0,max:2048}),{scrollY:a}=s1(),l=Ya(a,[0,300],[0,100]),c=Ya(a,[0,300],[0,-50]),d=Ya(a,[0,400],[1,0]),m=()=>{navigator.clipboard.writeText(ZT),e(!0),setTimeout(()=>e(!1),2e3)};D.useEffect(()=>{(async()=>{try{const b=await fetch(`https://servers-frontend.fivem.net/api/servers/single/${Bz}`);if(!b.ok)throw new Error("Unreachable");const _=await b.json();_&&_.Data&&s({online:!0,players:_.Data.clients,max:_.Data.sv_maxclients})}catch{s({online:!0,players:412,max:2048})}})()},[]);const g=n.players>1800?Math.floor(Math.random()*20)+5:0;return p.jsxs("section",{id:"home",className:"relative w-full pt-32 pb-16 lg:pt-48 lg:pb-32 overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-vital-500/10 blur-[100px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/2 mix-blend-screen"}),p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-24 items-center",children:[p.jsxs(ce.div,{style:{y:l,opacity:d},className:"flex flex-col items-center lg:items-start text-center lg:text-left",children:[p.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-tech font-bold uppercase tracking-widest mb-6 backdrop-blur-sm",children:[p.jsxs("span",{className:"relative flex h-2 w-2",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"Accepting Applications"]}),p.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[p.jsxs("h1",{className:"text-5xl sm:text-7xl lg:text-8xl font-display font-black text-white leading-[0.9] tracking-tighter mb-4 drop-shadow-2xl",children:["VITAL ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600 pr-3 pb-1",children:"RP"})]}),p.jsxs("p",{className:"text-xl sm:text-2xl text-gray-400 font-light tracking-wide mb-8 lg:max-w-[90%]",children:["Story-first roleplay, with a community that ",p.jsx("span",{className:"text-white font-medium",children:"actually feels alive."})]})]}),p.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-gray-400 text-base sm:text-lg max-w-xl leading-relaxed mb-10",children:"Vital RP is built for immersive scenes, fair conflict, and the kind of RP you remember later. Win or lose, the goal is always the story."}),p.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[p.jsx("a",{href:zz,className:"w-full sm:w-auto block",children:p.jsxs(Ei,{size:"lg",className:"shadow-2xl shadow-vital-500/20 w-full",children:[p.jsx(a1,{size:20,className:"mr-2 fill-current"}),"Connect Now"]})}),p.jsxs("div",{className:"relative group flex items-center",children:[p.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-lg blur-sm group-hover:bg-white/10 transition-all"}),p.jsxs("div",{className:"relative flex items-center bg-dark-800/80 backdrop-blur-md border border-white/10 rounded-lg p-1 pr-4 pl-4 h-[54px]",children:[p.jsxs("div",{className:"flex flex-col items-start mr-8",children:[p.jsx("span",{className:"text-[10px] text-gray-500 font-tech uppercase tracking-wider",children:"Server IP"}),p.jsx("span",{className:"text-white font-tech font-bold",children:ZT})]}),p.jsx("button",{onClick:m,className:"ml-auto p-2 hover:bg-white/10 rounded-md text-gray-400 hover:text-white transition-colors",children:t?p.jsx(dU,{size:18,className:"text-green-500"}):p.jsx(yU,{size:18})})]})]})]}),p.jsxs("div",{className:"lg:hidden mt-8 flex items-center gap-6 border-t border-white/5 pt-6 w-full justify-center",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(xm,{size:20,className:"text-vital-500 mb-1"}),p.jsx("span",{className:"font-bold text-white",children:n.players}),p.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Online"})]}),p.jsx("div",{className:"w-px h-8 bg-white/10"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(s0,{size:20,className:"text-green-500 mb-1"}),p.jsx("span",{className:"font-bold text-white",children:"12ms"}),p.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Ping"})]}),p.jsx("div",{className:"w-px h-8 bg-white/10"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(ry,{size:20,className:"text-blue-500 mb-1"}),p.jsx("span",{className:"font-bold text-white",children:"US-East"}),p.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Region"})]})]})]}),p.jsxs(ce.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},style:{y:c},transition:{duration:.7,ease:"easeOut"},className:"relative hidden lg:block",children:[p.jsx("div",{className:"absolute inset-0 bg-vital-500/20 blur-[60px] rounded-full transform rotate-12 scale-75"}),p.jsxs("div",{className:"relative z-10 w-full aspect-[4/3] rounded-2xl overflow-hidden border border-white/10 shadow-2xl group",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-transparent to-transparent z-10 opacity-60"}),p.jsx("img",{src:"https://r2.fivemanage.com/image/nABguUthLZVW.png",alt:"Vital RP City",className:"w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-105"}),p.jsx("div",{className:"absolute bottom-6 right-6 z-20",children:p.jsxs("div",{className:"bg-dark-900/80 backdrop-blur-md border border-white/10 p-4 rounded-xl flex items-center gap-4 shadow-xl",children:[p.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:p.jsx(s0,{size:20,className:"text-green-500"})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] text-gray-400 font-tech uppercase tracking-wider",children:"Server Status"}),p.jsx("div",{className:"text-white font-bold font-display",children:"OPTIMAL PERFORMANCE"})]})]})})]}),p.jsx(ce.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:6,ease:"easeInOut"},className:"absolute -top-12 -left-8 z-30 w-72",children:p.jsxs("div",{className:"relative bg-dark-900/90 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-vital-500 to-transparent"}),p.jsxs("div",{className:"flex justify-between items-center p-5 pb-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[p.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${n.online?"bg-emerald-400":"bg-red-400"}`}),p.jsx("span",{className:`relative inline-flex rounded-full h-2.5 w-2.5 ${n.online?"bg-emerald-500":"bg-red-500"}`})]}),p.jsx("span",{className:"text-xs font-bold font-tech text-white tracking-widest uppercase",children:n.online?"System Online":"System Offline"})]}),p.jsx("span",{className:"text-[10px] text-gray-500 font-tech",children:"US-EAST"})]}),p.jsxs("div",{className:"px-6 py-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"text-gray-400 text-xs font-sans font-medium",children:"Active Citizens"}),p.jsxs("span",{className:"text-vital-500 text-xs font-tech",children:[(n.players/n.max*100).toFixed(0),"% LOAD"]})]}),p.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[p.jsx("span",{className:"text-6xl font-display font-black text-white tracking-tighter leading-none",children:n.players}),p.jsxs("span",{className:"text-lg text-gray-600 font-tech font-bold",children:["/",n.max]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[p.jsxs("div",{className:"bg-white/5 rounded-lg p-2.5 border border-white/5 flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-tech mb-1",children:"Queue Length"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(QN,{size:14,className:"text-gray-400"}),p.jsx("span",{className:"text-white font-bold",children:g})]})]}),p.jsxs("div",{className:"bg-white/5 rounded-lg p-2.5 border border-white/5 flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-tech mb-1",children:"Avg Latency"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(s0,{size:14,className:"text-emerald-500"}),p.jsx("span",{className:"text-white font-bold",children:"12ms"})]})]})]}),p.jsxs("div",{className:"relative h-10 w-full bg-dark-950/50 rounded-lg overflow-hidden border border-white/5",children:[p.jsx("div",{className:"absolute inset-0 grid grid-cols-6 gap-px opacity-10",children:[...Array(6)].map((v,b)=>p.jsx("div",{className:"bg-white/50 h-full w-px"},b))}),p.jsx("svg",{className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:p.jsx(ce.path,{d:"M0,20 L10,20 L20,15 L30,25 L40,20 L50,10 L60,30 L70,20 L80,22 L90,18 L100,20 L110,5 L120,35 L130,20 L140,20 L200,20 L210,10 L220,30 L300,20",fill:"none",stroke:"#f97316",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke",initial:{x:-100},animate:{x:0},transition:{repeat:1/0,duration:2,ease:"linear"}})}),p.jsx("div",{className:"absolute bottom-1 right-2 text-[8px] text-vital-500 font-tech",children:"TICK: 60"})]})]})]})})]})]})})]})},Hz=[{icon:uU,title:"Custom Vehicles",description:"Over 400+ custom imported vehicles with realistic handling files, custom sounds, and extensive tuning options."},{icon:KN,title:"Player Economy",description:"A dynamic, player-driven economy. Own businesses, manage supply chains, and influence the market prices."},{icon:Tz,title:"Gangs & Cartels",description:"Deep criminal progression systems. Claim territory, manufacture illicit goods, and war for control of the city."},{icon:Of,title:"Emergency Services",description:"Advanced PD and EMS scripts including evidence systems, custom medical treatments, and realistic dispatch."},{icon:XN,title:"Housing & Interiors",description:"Buy any house on the map. Custom furnish your home with thousands of props or buy a pre-furnished mansion."},{icon:wU,title:"Legal Jobs",description:"From trucking to fishing, garbage collection to mechanic work - earn an honest living with interactive jobs."}],qz={hidden:{},visible:{transition:{staggerChildren:.1}}},Gz={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},$z=()=>p.jsxs("section",{id:"features",className:"py-24 relative",children:[p.jsx("div",{className:"absolute inset-0 bg-dark-900/80 backdrop-blur-sm"}),p.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-vital-900 to-transparent opacity-50 z-20"}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[p.jsxs("div",{className:"text-center mb-20",children:[p.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-6",children:["IMMERSIVE ",p.jsx("span",{className:"text-vital-500",children:"FEATURES"})]}),p.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:"We've customized every aspect of Vital RP to ensure a unique, lag-free, and engaging experience for every type of roleplayer."})]}),p.jsx(ce.div,{variants:qz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Hz.map((t,e)=>p.jsxs(ce.div,{variants:Gz,className:"group relative p-8 rounded-xl bg-dark-800/80 backdrop-blur border border-white/5 hover:border-vital-500/30 transition-all duration-300 hover:bg-dark-700/50",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-vital-500/10 to-transparent opacity-0 group-hover:opacity-100 rounded-xl transition-opacity duration-300"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"w-14 h-14 rounded-lg bg-dark-900 border border-white/10 flex items-center justify-center mb-6 group-hover:border-vital-500/50 group-hover:scale-110 transition-all duration-300",children:p.jsx(t.icon,{className:"w-7 h-7 text-vital-500"})}),p.jsx("h3",{className:"text-xl font-display font-bold text-white mb-3 group-hover:text-vital-400 transition-colors",children:t.title}),p.jsx("p",{className:"text-gray-400 leading-relaxed font-sans text-sm",children:t.description})]})]},e))})]})]}),Kz=[{id:"01",title:"Narrative Over Winning",description:"We believe the best stories come from conflict, flaws, and failure. We prioritize character development and scene integrity over 'winning' a shootout or chase.",icon:$N,className:"md:col-span-2 md:row-span-1",gradient:"from-vital-600/20 to-transparent"},{id:"02",title:"Community First",description:"Your voice shapes the city. We actively listen to feedback and hold regular town halls.",icon:xm,className:"md:col-span-1 md:row-span-1",gradient:"from-blue-500/20 to-transparent"},{id:"03",title:"Zero Toxicity",description:"A strict zero-tolerance policy for harassment. We protect our safe, inclusive environment aggressively.",icon:vm,className:"md:col-span-1 md:row-span-1",gradient:"from-red-500/20 to-transparent"},{id:"04",title:"Optimized Performance",description:"Custom asset management ensuring high FPS even in dense areas.",icon:a1,className:"md:col-span-1 md:row-span-1",gradient:"from-yellow-500/20 to-transparent"},{id:"05",title:"Player-Run Economy",description:"No spawned money. Every dollar in circulation is earned, spent, and circulated by players owning businesses and providing services.",icon:dz,className:"md:col-span-1 md:row-span-1",gradient:"from-emerald-500/20 to-transparent"}],Yz={hidden:{},visible:{transition:{staggerChildren:.1}}},Qz={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},Xz=()=>p.jsxs("section",{id:"values",className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/70 md:backdrop-blur-md"}),p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-16 gap-6",children:[p.jsxs(ce.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},className:"max-w-xl text-center md:text-left",children:[p.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[p.jsx(ym,{size:16,className:"text-vital-500"}),p.jsx("span",{className:"text-vital-500 font-tech uppercase tracking-widest text-xs font-bold",children:"Our Philosophy"})]}),p.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white",children:["WHAT WE ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"VALUE"})]})]}),p.jsx(ce.p,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},className:"text-gray-400 max-w-sm text-sm text-center md:text-right font-sans leading-relaxed",children:"Vital RP isn't just a server; it's a standard. We are dedicated to providing the highest quality roleplay environment on FiveM."})]}),p.jsx(ce.div,{variants:Yz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 auto-rows-[minmax(180px,auto)]",children:Kz.map(t=>p.jsxs(ce.div,{variants:Qz,className:`relative group p-8 rounded-2xl border border-white/5 bg-dark-800 md:bg-dark-800/80 md:backdrop-blur hover:border-vital-500/30 transition-all duration-500 overflow-hidden ${t.className}`,children:[p.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),p.jsx("div",{className:"absolute top-4 right-6 text-6xl font-display font-black text-white/5 group-hover:text-white/10 transition-colors duration-500 select-none",children:t.id}),p.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-dark-900/50 border border-white/10 flex items-center justify-center mb-4 text-vital-500 group-hover:scale-110 group-hover:bg-vital-500 group-hover:text-white transition-all duration-300",children:p.jsx(t.icon,{size:24})}),p.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-3 group-hover:text-vital-200 transition-colors",children:t.title}),p.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300 transition-colors",children:t.description})]}),p.jsx("div",{className:"w-8 h-1 bg-vital-500/30 rounded-full group-hover:w-full group-hover:bg-vital-500 transition-all duration-500"})]})]},t.id))})]})]}),Wz=[{value:"vital",label:"Orange (Vital)"},{value:"amber",label:"Amber (Gold)"},{value:"red",label:"Red (Admin)"},{value:"green",label:"Green (Mod)"},{value:"purple",label:"Purple"},{value:"yellow",label:"Yellow"}],Zz=["Management","Administration","Moderation Team"],Jz=({isOpen:t,onClose:e,onSave:n,onDelete:s,initialData:a})=>{const[l,c]=D.useState(a),[d,m]=D.useState(!1),[g,v]=D.useState(!1);Pf.useEffect(()=>{c(a)},[a,t]);const b=async E=>{E.preventDefault(),m(!0);try{await n(l),e()}catch(M){console.error("Failed to save staff member:",M),alert("Failed to save changes.")}finally{m(!1)}},_=async()=>{if(s&&window.confirm("Are you sure you want to delete this staff member? This cannot be undone.")){v(!0);try{await s(),e()}catch(E){console.error("Failed to delete:",E),alert("Failed to delete member.")}finally{v(!1)}}};return p.jsx(fs,{children:t&&p.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[p.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),p.jsxs(ce.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl w-full max-w-xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-dark-800/50",children:[p.jsx("h2",{className:"text-xl font-display font-bold text-white",children:"Edit Staff Member"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:p.jsx(ro,{size:24})})]}),p.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:p.jsxs("form",{id:"staff-form",onSubmit:b,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Name"}),p.jsx("input",{type:"text",value:l.name,onChange:E=>c({...l,name:E.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Damon"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Role Title"}),p.jsx("input",{type:"text",value:l.role,onChange:E=>c({...l,role:E.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Owner"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Sub-Role / Tags (Optional)"}),p.jsx("input",{type:"text",value:l.subRole||"",onChange:E=>c({...l,subRole:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Development, Marketing"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Avatar URL"}),p.jsx("div",{className:"flex gap-2",children:p.jsx("input",{type:"url",value:l.image||"",onChange:E=>c({...l,image:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"https://..."})}),p.jsx("p",{className:"text-[10px] text-gray-500",children:"Leave empty to use the default role icon."}),l.image&&p.jsx("div",{className:"mt-2 w-16 h-16 rounded-lg overflow-hidden border border-white/10",children:p.jsx("img",{src:l.image,alt:"Preview",className:"w-full h-full object-cover"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Color Theme"}),p.jsx("select",{value:l.color,onChange:E=>c({...l,color:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors appearance-none",children:Wz.map(E=>p.jsx("option",{value:E.value,className:"bg-dark-900",children:E.label},E.value))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Category"}),p.jsx("select",{value:l.category,onChange:E=>c({...l,category:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors appearance-none",children:Zz.map(E=>p.jsx("option",{value:E,className:"bg-dark-900",children:E},E))})]})]})]})}),p.jsxs("div",{className:"p-6 border-t border-white/5 bg-dark-800/30 flex justify-between gap-4",children:[s&&p.jsxs("button",{type:"button",onClick:_,disabled:g,className:"px-4 py-2.5 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-xl font-bold transition-colors flex items-center gap-2",children:[p.jsx(bm,{size:18}),g?"Deleting...":"Delete"]}),p.jsxs("div",{className:"flex gap-3 ml-auto",children:[p.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),p.jsxs("button",{type:"submit",form:"staff-form",disabled:d,className:"px-8 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center gap-2 shadow-lg shadow-vital-500/20 disabled:opacity-50",children:[p.jsx(Tl,{size:18}),d?"Saving...":"Save Changes"]})]})]})]})]})})},eB=t=>{switch(t){case"amber":return{text:"text-amber-400",bg:"bg-amber-500",border:"group-hover:border-amber-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(245,158,11,0.2)]",gradient:"from-amber-500/20 to-transparent"};case"red":return{text:"text-red-400",bg:"bg-red-500",border:"group-hover:border-red-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(239,68,68,0.2)]",gradient:"from-red-500/20 to-transparent"};case"green":return{text:"text-emerald-400",bg:"bg-emerald-500",border:"group-hover:border-emerald-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(16,185,129,0.2)]",gradient:"from-emerald-500/20 to-transparent"};case"yellow":return{text:"text-yellow-400",bg:"bg-yellow-500",border:"group-hover:border-yellow-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(250,204,21,0.2)]",gradient:"from-yellow-500/20 to-transparent"};case"purple":return{text:"text-purple-400",bg:"bg-purple-500",border:"group-hover:border-purple-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(168,85,247,0.2)]",gradient:"from-purple-500/20 to-transparent"};default:return{text:"text-vital-400",bg:"bg-vital-500",border:"group-hover:border-vital-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(249,115,22,0.2)]",gradient:"from-vital-500/20 to-transparent"}}},tB=({role:t,subRole:e,className:n,size:s})=>t==="Owner"?p.jsx(ym,{className:n,size:s}):t==="Senior Admin"?p.jsx(zs,{className:n,size:s}):t==="Clothing Dev"||e==="Clothing Dev"?p.jsx(eC,{className:n,size:s}):t==="Senior Mod"?p.jsx(vm,{className:n,size:s}):t==="Mod"||t==="Moderator"?p.jsx(kU,{className:n,size:s}):p.jsx(Of,{className:n,size:s}),nB={hidden:{},visible:{transition:{staggerChildren:.1}}},iB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.21,.47,.32,.98]}}},sB=({member:t,onEdit:e})=>{const{editMode:n}=ta(),[s,a]=D.useState(!1),l=eB(t.color),c=t.name==="Soup",d=m=>{c&&!n&&a(!s)};return p.jsxs(ce.div,{variants:iB,onClick:d,className:`group relative h-40 bg-dark-800 md:bg-dark-800/80 md:backdrop-blur rounded-xl overflow-hidden border border-white/5 ${l.border} transition-all duration-300 ${l.glow} ${c&&!n?"cursor-pointer":""}`,children:[n&&e&&p.jsx("button",{onClick:m=>{m.stopPropagation(),e(t)},className:"absolute top-2 right-2 z-50 p-2 bg-dark-900/80 backdrop-blur text-white rounded-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-vital-500 hover:scale-110 shadow-lg border border-white/10",title:"Edit Card",children:p.jsx(Ku,{size:14})}),p.jsx("div",{className:"absolute -right-2 -bottom-4 font-display font-black text-[120px] leading-none text-white/[0.03] group-hover:text-white/[0.07] transition-colors select-none pointer-events-none",children:s?"":t.name.charAt(0)}),p.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${l.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),p.jsxs("div",{className:"absolute inset-0 p-5 flex flex-col justify-between z-10",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("div",{className:`w-10 h-10 rounded-lg bg-dark-900/80 md:backdrop-blur border border-white/10 flex items-center justify-center ${l.text} group-hover:scale-110 transition-transform duration-300 overflow-hidden`,children:s?p.jsx(ce.div,{initial:{rotate:-20,scale:.8},animate:{rotate:0,scale:1},transition:{type:"spring",stiffness:300,damping:10},children:p.jsx(oz,{size:20})}):t.image?p.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):p.jsx(tB,{role:t.role,subRole:t.subRole,size:20})}),p.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:p.jsx(Sz,{size:10,className:l.text,fill:"currentColor"})})]}),p.jsxs("div",{children:[p.jsx("div",{className:`text-[9px] font-tech font-bold uppercase tracking-widest mb-1 ${l.text} opacity-80 flex flex-col`,children:s?p.jsx("span",{children:"Fashion Icon"}):p.jsxs(p.Fragment,{children:[p.jsx("span",{children:t.role}),t.subRole&&p.jsx("span",{className:"text-white/60 text-[8px] mt-0.5 border-l-2 border-current pl-1.5 leading-none py-0.5",children:t.subRole})]})}),p.jsx(ce.h4,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-xl font-display font-bold text-white group-hover:translate-x-1 transition-transform duration-300 truncate",children:s?'"I look like a rat"':t.name},s?"rat":"normal"),p.jsx("div",{className:`h-0.5 w-6 mt-3 rounded-full ${l.bg} group-hover:w-full transition-all duration-500 ease-out`})]})]})]})},rB=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0),[a,l]=D.useState(null);D.useEffect(()=>{if(!_e){s(!1);return}const m=eo(ri(_e,"staff"),mv("role")),g=cm(m,v=>{const b=[];v.forEach(E=>b.push({id:E.id,...E.data()}));const _=[{title:"Management",items:b.filter(E=>E.category==="Management")},{title:"Administration",items:b.filter(E=>E.category==="Administration")},{title:"Moderation Team",items:b.filter(E=>E.category==="Moderation Team")}].filter(E=>E.items.length>0);e(_),s(!1)},v=>{console.error("Error fetching staff:",v),s(!1)});return()=>g()},[]);const c=async m=>{if(!(a!=null&&a.id)||!_e)return;const g=fn(_e,"staff",a.id);await Qr(g,{name:m.name,role:m.role,subRole:m.subRole||"",image:m.image||"",color:m.color,category:m.category},{merge:!0})},d=async()=>{!(a!=null&&a.id)||!_e||await Bu(fn(_e,"staff",a.id))};return p.jsxs("section",{id:"staff",className:"py-16 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/80 md:backdrop-blur-sm z-0"}),p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-10",children:[p.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-vital-900/10 blur-[100px] rounded-full -translate-y-1/2 translate-x-1/2"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-900/10 blur-[100px] rounded-full translate-y-1/2 -translate-x-1/2"})]}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-20",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsxs(ce.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-4xl md:text-5xl font-display font-black text-white mb-4 uppercase tracking-tight",children:["Meet The ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"Staff"})]}),p.jsx(ce.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1},className:"h-1 w-24 bg-dark-800 mx-auto rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full w-full bg-vital-500/50 -translate-x-full animate-[shimmer_2s_infinite]"})})]}),n?p.jsx("div",{className:"text-center text-gray-500",children:"Loading roster..."}):t.length===0?p.jsx("div",{className:"text-center text-gray-500 py-10",children:p.jsx("p",{children:"No staff members listed yet."})}):t.map(m=>p.jsxs("div",{className:"mb-10 last:mb-0",children:[p.jsxs(ce.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex items-center gap-4 mb-5",children:[p.jsx("h3",{className:"text-lg font-display font-bold text-gray-500 uppercase tracking-widest",children:m.title}),p.jsx("div",{className:"h-px bg-white/10 flex-grow"})]}),p.jsx(ce.div,{variants:nB,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.items.map((g,v)=>p.jsx(sB,{member:g,index:v,onEdit:l},g.id||v))})]},m.title))]}),a&&p.jsx(Jz,{isOpen:!!a,onClose:()=>l(null),onSave:c,onDelete:d,initialData:a})]})},aB=[{value:"small",label:"Small (1x1)"},{value:"wide",label:"Wide (2x1)"},{value:"tall",label:"Tall (1x2)"},{value:"large",label:"Large (2x2)"}],nC=({isOpen:t,onClose:e,onSave:n,onDelete:s,initialData:a})=>{const[l,c]=D.useState(a),[d,m]=D.useState(!1),[g,v]=D.useState(!1),[b,_]=D.useState(!1),E=async V=>{V.preventDefault(),m(!0);try{await n(l),e()}catch(F){console.error("Failed to save gallery item:",F),alert("Failed to save changes: "+(F.message||"Unknown error"))}finally{m(!1)}},M=async()=>{if(s&&window.confirm("Are you sure you want to delete this gallery item? This cannot be undone.")){v(!0);try{await s(),e()}catch(V){console.error("Failed to delete:",V),alert("Failed to delete item.")}finally{v(!1)}}},k=async V=>{var N;const F=(N=V.target.files)==null?void 0:N[0];if(!(!F||!Ps)){_(!0);try{const W=`gallery/${Date.now()}_${F.name}`,ee=Ev(Ps,W);await wv(ee,F);const ae=await Tv(ee);c(I=>({...I,src:ae}))}catch(W){console.error("Upload failed:",W),alert("Image upload failed: "+(W.message||"Unknown error"))}finally{_(!1)}}},C=()=>{switch(l.size){case"wide":return 2/1;case"tall":return 1/2;default:return 1}};return p.jsx(fs,{children:t&&p.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[p.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),p.jsxs(ce.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl w-full max-w-xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-dark-800/50",children:[p.jsx("h2",{className:"text-xl font-display font-bold text-white",children:"Edit Gallery Item"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:p.jsx(ro,{size:24})})]}),p.jsx("div",{className:"flex-1 overflow-hidden relative",children:p.jsx("div",{className:"p-6 pb-20 overflow-y-auto custom-scrollbar h-full",children:p.jsxs("form",{id:"gallery-form",onSubmit:E,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Title"}),p.jsx("input",{type:"text",value:l.title,onChange:V=>c({...l,title:V.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Midnight Heat"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Grid Size"}),p.jsx("select",{value:l.size,onChange:V=>c({...l,size:V.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors appearance-none",children:aB.map(V=>p.jsx("option",{value:V.value,className:"bg-dark-900",children:V.label},V.value))}),p.jsx("p",{className:"text-[10px] text-gray-500",children:"Controls aspect ratio (Small/Large: 1:1, Wide: 2:1, Tall: 1:2)."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Location"}),p.jsx("input",{type:"text",value:l.location,onChange:V=>c({...l,location:V.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Olympic Fwy"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Category"}),p.jsx("input",{type:"text",value:l.category,onChange:V=>c({...l,category:V.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Street Racing"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Image Source"}),p.jsxs("div",{className:"relative group w-full bg-black/20 border-2 border-dashed border-white/10 rounded-xl overflow-hidden hover:border-vital-500/50 transition-colors mx-auto",style:{aspectRatio:C()},children:[l.src?p.jsx("img",{src:l.src,alt:"Preview",className:"w-full h-full object-cover opacity-60 group-hover:opacity-40 transition-opacity"}):p.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-600",children:p.jsx(tC,{size:32})}),p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-3 p-4",children:[p.jsx("div",{className:"pointer-events-auto flex gap-2",children:p.jsx("label",{htmlFor:"gallery-image-upload",className:"px-4 py-2 bg-vital-500/20 hover:bg-vital-500 text-vital-500 hover:text-white rounded-lg font-bold border border-vital-500/30 hover:border-vital-500 transition-all backdrop-blur-sm shadow-lg cursor-pointer whitespace-nowrap",children:l.src?"Change Photo":"Select Photo"})}),p.jsxs("p",{className:"text-[10px] text-gray-400 bg-black/50 px-2 py-0.5 rounded",children:["Aspect Ratio: ",p.jsx("span",{className:"text-white",children:C()===1?"1:1":C()===2?"2:1":"1:2"})]})]}),p.jsx("input",{id:"gallery-image-upload",type:"file",onChange:k,accept:"image/*",disabled:!Ps,className:"hidden"})]}),!Ps&&p.jsx("p",{className:"text-xs text-red-500",children:"Firebase Storage is not configured."})]})]})})}),p.jsxs("div",{className:"p-6 border-t border-white/5 bg-dark-800/30 flex justify-between gap-4",children:[s&&p.jsxs("button",{type:"button",onClick:M,disabled:g,className:"px-4 py-2.5 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-xl font-bold transition-colors flex items-center gap-2",children:[p.jsx(bm,{size:18}),g?"Deleting...":"Delete"]}),p.jsxs("div",{className:"flex gap-3 ml-auto",children:[p.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),p.jsxs("button",{type:"submit",form:"gallery-form",disabled:d,className:"px-8 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center gap-2 shadow-lg shadow-vital-500/20 disabled:opacity-50",children:[p.jsx(Tl,{size:18}),d?"Saving...":"Save Changes"]})]})]})]})]})})},oB=[{id:"1",src:"https://r2.fivemanage.com/image/X8BG7CABWS9D.png",title:"Midnight Heat",location:"Olympic Fwy",category:"Street Racing",size:"large"},{id:"2",src:"https://r2.fivemanage.com/image/iZgFHW4jrwjA.png",title:"Criminal Enterprise",location:"Unknown",category:"Organized Crime",size:"wide"},{id:"3",src:"https://r2.fivemanage.com/image/uLGSJHTfUwpW.png",title:"The Underworld",location:"Cypress Flats",category:"Gangs",size:"small"},{id:"4",src:"https://r2.fivemanage.com/image/N7XhYJH9lVxU.png",title:"Neon Nights",location:"West Vinewood",category:"Nightlife",size:"wide"},{id:"5",src:"https://r2.fivemanage.com/image/rHwmMCLaftBM.png",title:"City Wide Events",location:"Paleto Bay",category:"Community",size:"wide"}],lB=t=>{switch(t){case"large":return"md:col-span-2 md:row-span-2";case"tall":return"md:col-span-1 md:row-span-2";case"wide":return"md:col-span-2 md:row-span-1";default:return"md:col-span-1 md:row-span-1"}},cB={hidden:{},visible:{transition:{staggerChildren:.1}}},JT={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.21,.47,.32,.98]}}},uB=()=>{const{editMode:t}=ta(),[e,n]=D.useState(oB),[s,a]=D.useState(!0),[l,c]=D.useState(null);D.useEffect(()=>{if(!_e){a(!1);return}const g=eo(ri(_e,"gallery")),v=cm(g,b=>{const _=[];b.forEach(E=>{_.push({id:E.id,...E.data()})}),_.length>0&&(_.sort((E,M)=>{const k=parseInt(E.id),C=parseInt(M.id);return!isNaN(k)&&!isNaN(C)?k-C:E.id.localeCompare(M.id)}),n(_)),a(!1)},b=>{console.warn("Could not fetch gallery from Firebase, using fallback data.",b),a(!1)});return()=>v()},[]);const d=async g=>{if(!(!(l!=null&&l.id)||!_e))try{const v=fn(_e,"gallery",l.id);await Qr(v,{title:g.title||"",location:g.location||"",category:g.category||"",src:g.src||"",size:g.size||"small"},{merge:!0})}catch(v){throw console.error("Error saving gallery item:",v),v}},m=async()=>{if(!(!(l!=null&&l.id)||!_e))try{await Bu(fn(_e,"gallery",l.id))}catch(g){throw console.error("Error deleting gallery item:",g),g}};return s?p.jsx("section",{className:"py-32 flex justify-center items-center bg-dark-900",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-vital-500"})}):p.jsxs("section",{id:"gallery",className:"py-32 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/80 md:backdrop-blur-sm z-0"}),p.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-vital-500/5 blur-[120px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/3"}),p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-16 gap-8",children:[p.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},className:"max-w-2xl text-center md:text-left",children:[p.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-black text-white mb-6 tracking-tight",children:["CAPTURED ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"IN CITY"})]}),p.jsx("p",{className:"text-lg text-gray-400 font-sans font-light leading-relaxed",children:"Every street corner in Los Santos holds a story. From high-stakes criminal operations to the vibrant nightlife of Vinewood, witness the moments that define our community."})]}),p.jsx(ce.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"hidden md:flex items-center gap-3 group text-white font-display font-bold uppercase tracking-wider text-sm hover:text-vital-400 transition-colors",children:[p.jsx("span",{children:"Join The Community"}),p.jsx("div",{className:"w-8 h-8 rounded-full border border-white/20 flex items-center justify-center group-hover:border-vital-500 group-hover:bg-vital-500/10 transition-all",children:p.jsx(iU,{size:16,className:"group-hover:-translate-y-0.5 group-hover:translate-x-0.5 transition-transform"})})]})})]}),p.jsxs(ce.div,{variants:cB,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-4 auto-rows-[280px] gap-6 grid-flow-dense",children:[e.map(g=>p.jsxs(ce.div,{variants:JT,className:`group relative rounded-xl overflow-hidden bg-dark-800 ${lB(g.size)} shadow-2xl shadow-black/50`,children:[t&&p.jsx("button",{onClick:()=>c(g),className:"absolute top-3 right-3 z-50 p-2 bg-dark-900/80 backdrop-blur text-white rounded-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-vital-500 hover:scale-110 shadow-lg border border-white/10",title:"Edit Gallery Item",children:p.jsx(Ku,{size:14})}),p.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-dark-900 z-0"}),p.jsx("img",{src:g.src,alt:g.title,className:"w-full h-full object-cover transform transition-transform duration-1000 ease-out group-hover:scale-105 opacity-90 group-hover:opacity-100"})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent opacity-90 transition-opacity duration-500 pointer-events-none"}),p.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between pointer-events-none",children:[p.jsx("div",{className:"self-start pointer-events-auto",children:p.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-black/40 md:backdrop-blur-md border border-white/10 text-[10px] font-tech font-bold text-white uppercase tracking-widest opacity-0 transform -translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300",children:g.category})}),p.jsxs("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 ease-out pointer-events-auto",children:[p.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-2 leading-tight drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:g.title}),p.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100",children:[p.jsx(ZN,{size:14,className:"text-vital-500 drop-shadow-md"}),p.jsx("span",{className:"text-sm font-sans text-gray-200 drop-shadow-md",children:g.location})]}),p.jsx("div",{className:"h-0.5 w-0 group-hover:w-12 bg-vital-500 mt-4 transition-all duration-500 ease-out delay-75 shadow-[0_0_10px_rgba(249,115,22,0.5)]"})]})]})]},g.id)),p.jsxs(ce.div,{variants:JT,className:"md:col-span-1 md:row-span-1 rounded-xl bg-gradient-to-br from-dark-800 to-dark-900 border border-white/5 p-8 flex flex-col justify-center items-center text-center group hover:border-vital-500/30 transition-colors relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-vital-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-dark-950 border border-white/10 flex items-center justify-center mb-4 group-hover:scale-110 group-hover:border-vital-500/50 transition-all duration-300 shadow-xl",children:p.jsx(YN,{className:"text-white w-6 h-6"})}),p.jsx("h3",{className:"font-display font-bold text-white text-xl mb-2",children:"Share Your Story"}),p.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:"Taken a great shot in the city? Post it in our media channel."}),p.jsx("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"text-xs font-bold font-tech uppercase tracking-widest text-vital-500 border-b border-vital-500/30 pb-1 hover:border-vital-500 transition-all",children:"Join Discord"})]})]})]})]}),l&&p.jsx(nC,{isOpen:!!l,onClose:()=>c(null),onSave:d,onDelete:m,initialData:l})]})},hB=[{title:"18+ Community",description:"This is strictly an 18+ server. Mature themes and conversations are present. No exceptions.",icon:zs},{title:"Serious Roleplay",description:"Stay in character at all times. Prioritize the story and realism over winning or mechanics. Drive the narrative forward.",icon:EU},{title:"Value of Life (Fear RP)",description:"You must prioritize your character's life at all times. Act realistically when threatened with grievous harm.",icon:UU},{title:"New Life Rule (NLR)",description:"If you are downed and respawn, you forget the events leading to your death. You cannot return to the scene for 30 minutes.",icon:cz},{title:"No Metagaming",description:"Using Out-Of-Character (OOC) information in-game is strictly prohibited. Keep discord/stream info separate.",icon:RU},{title:"No Powergaming",description:"Do not force outcomes on other players. Give everyone a fair chance to react and roleplay their side of the story.",icon:a1},{title:"No RDM / VDM",description:"Random Deathmatch (killing without reason) and Vehicle Deathmatch (using cars as weapons) are forbidden.",icon:bU},{title:"Respect & No Toxicity",description:"Zero tolerance for toxicity, racism, slurs, or harassment. We are here to tell stories together.",icon:$N}],dB={hidden:{},visible:{transition:{staggerChildren:.05}}},fB={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},mB=()=>p.jsxs("section",{id:"rules",className:"py-24 bg-dark-800 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[p.jsx("div",{className:"text-center mb-16",children:p.jsxs(ce.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},children:[p.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-6",children:["SERVER ",p.jsx("span",{className:"text-vital-500",children:"RULES"})]}),p.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg font-sans",children:"To ensure a high-quality immersive experience for everyone, all citizens must adhere to our core constitution."})]})}),p.jsx(ce.div,{variants:dB,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:hB.map((t,e)=>p.jsxs(ce.div,{variants:fB,className:"bg-dark-900/50 backdrop-blur-sm border border-white/5 p-6 rounded-xl hover:border-vital-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-vital-500/10 flex items-center justify-center mb-4 group-hover:bg-vital-500/20 transition-colors",children:p.jsx(t.icon,{className:"w-6 h-6 text-vital-500"})}),p.jsx("h3",{className:"text-white font-display font-bold text-lg mb-2 group-hover:text-vital-400 transition-colors",children:t.title}),p.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:t.description})]},e))}),p.jsx("div",{className:"mt-12 text-center",children:p.jsx("a",{href:"https://docs.google.com/document/d/1ZhxNk5zCsZy9eE1Xlo8ALanxtjsFV6TclpAoNHUZHpo/edit?tab=t.0",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-vital-500 text-sm mb-6 inline-flex items-center gap-2 underline underline-offset-4 decoration-white/20 hover:decoration-vital-500 transition-all",children:"This is a summary. Click here to read the full legislation document."})})]})]}),pB=[{question:"Is Vital RP a whitelist server?",answer:"Yes, we are a whitelist community. However, our application process is straightforward. We want to ensure that players understand our rules and are committed to serious roleplay before joining."},{question:"What is the age requirement?",answer:"You must be 18 years or older to join Vital RP. We cover mature themes and expect a level of maturity from our player base that aligns with an adult community."},{question:"Do I need a high-end PC?",answer:"We optimize our assets heavily. If you can run base GTA V at 60 FPS, you should have a smooth experience on Vital RP. We recommend 16GB of RAM for the best texture loading."},{question:"Is voice chat required?",answer:"Yes, a working microphone is mandatory. We use a custom high-quality voice plugin (pma-voice) that is built into the server, so no external TeamSpeak downloads are required."},{question:"Is controller support enabled?",answer:"Yes! Driving and flying work perfectly with controllers. Some complex menu interactions may still require a mouse and keyboard, but daily gameplay is very controller-friendly."}],gB={hidden:{},visible:{transition:{staggerChildren:.1}}},yB={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.21,.47,.32,.98]}}},vB=()=>{const[t,e]=D.useState(0);return p.jsx("section",{className:"py-24 bg-dark-800 relative",children:p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-vital-500/10 text-vital-500 mb-4",children:p.jsx(mU,{size:24})}),p.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-4",children:["COMMON ",p.jsx("span",{className:"text-vital-500",children:"QUESTIONS"})]}),p.jsx("p",{className:"text-gray-400",children:"Everything you need to know before flying in."})]}),p.jsx(ce.div,{variants:gB,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"space-y-4",children:pB.map((n,s)=>p.jsxs(ce.div,{variants:yB,className:"border border-white/10 rounded-lg bg-dark-900 overflow-hidden",children:[p.jsxs("button",{onClick:()=>e(t===s?null:s),className:"w-full flex items-center justify-between p-6 text-left hover:bg-white/5 transition-colors",children:[p.jsx("span",{className:"text-lg font-bold text-white font-display",children:n.question}),p.jsx("span",{className:`transition-transform duration-300 ${t===s?"rotate-180 text-vital-500":"text-gray-500"}`,children:t===s?p.jsx(tz,{size:20}):p.jsx(r1,{size:20})})]}),p.jsx(fs,{children:t===s&&p.jsx(ce.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:p.jsx("div",{className:"px-6 pb-6 pt-0 text-gray-400 leading-relaxed border-t border-white/5 mt-2 pt-4",children:n.answer})})})]},s))})]})})},bB=({className:t})=>p.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[p.jsx("title",{children:"Discord"}),p.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),xB=()=>p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0",children:[p.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?q=80&w=1983&auto=format&fit=crop",alt:"Night City Atmosphere",className:"w-full h-full object-cover opacity-40"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-dark-900/90 to-dark-900/80"}),p.jsx("div",{className:"absolute inset-0 bg-vital-900/20 mix-blend-overlay"})]}),p.jsx("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:p.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[p.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-bold text-white mb-6",children:["READY TO START YOUR ",p.jsx("span",{className:"text-vital-500",children:"LEGACY?"})]}),p.jsx("p",{className:"text-xl text-gray-300 mb-10 font-sans max-w-2xl mx-auto",children:"Join thousands of other players in the most advanced roleplay environment. Create your character today."}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[p.jsx(Ei,{href:"https://cfx.re/join/ogpvmv",variant:"primary",size:"lg",className:"w-full sm:w-auto",icon:p.jsx(sy,{}),children:"Connect to Server"}),p.jsx(Ei,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"secondary",size:"lg",className:"w-full sm:w-auto",icon:p.jsx(bB,{className:"w-6 h-6"}),children:"Join Our Discord"})]})]})})]}),_B=({className:t="w-8 h-8"})=>p.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMidYMid meet",children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"vitalLogoGradientFooter",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"#FBBF24"}),p.jsx("stop",{offset:"50%",stopColor:"#F97316"}),p.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]})}),p.jsx("path",{d:"M10 15 L50 95 L90 15 L70 15 L50 55 L30 15 Z",fill:"url(#vitalLogoGradientFooter)"})]}),wB=({className:t})=>p.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[p.jsx("title",{children:"Discord"}),p.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),TB=({className:t})=>p.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("title",{children:"X (Twitter)"}),p.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})]}),EB=({className:t})=>p.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("title",{children:"TikTok"}),p.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})]}),SB=({onOpenStore:t})=>{const[e,n]=D.useState(!1),{login:s,user:a}=ta(),l=[{label:"Home",href:"#home"},{label:"Rules",href:"https://docs.google.com/document/d/1ZhxNk5zCsZy9eE1Xlo8ALanxtjsFV6TclpAoNHUZHpo/edit?tab=t.0",isExternal:!0},{label:"Staff",href:"#staff"},{label:"Gallery",href:"#gallery"},{label:"Forums",href:"#",isComingSoon:!0},{label:"Store",href:"https://vitalrp.tebex.io/",isExternal:!0,isStore:!0}],c=(d,m)=>{m.isStore&&(d.preventDefault(),t())};return p.jsx("footer",{className:"bg-dark-950 pt-20 pb-10 border-t border-white/5",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[p.jsxs("div",{className:"col-span-1 md:col-span-2",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(_B,{className:"w-10 h-10 flex-shrink-0"}),p.jsx("span",{className:"text-2xl font-display font-bold text-white",children:"VITAL RP"})]}),p.jsx("p",{className:"text-gray-500 text-sm leading-relaxed max-w-sm",children:"Vital RP is a premium FiveM roleplay community focused on storytelling, character development, and high-quality interactions. Join us today and start your journey in Los Santos."})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-display font-bold mb-6",children:"QUICK LINKS"}),p.jsx("ul",{className:"space-y-4",children:l.map(d=>p.jsx("li",{className:"w-fit",children:d.isComingSoon?p.jsxs("div",{className:"group relative flex items-center cursor-help",children:[p.jsx("span",{className:"text-gray-500 text-sm font-tech uppercase tracking-wider group-hover:text-vital-500 transition-colors",children:d.label}),p.jsx("span",{className:"absolute left-full ml-3 px-2 py-0.5 bg-vital-500 text-white text-[9px] font-bold rounded opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:"SOON"})]}):p.jsx("a",{href:d.href,target:d.isExternal?"_blank":void 0,rel:d.isExternal?"noreferrer":void 0,onClick:m=>c(m,d),className:"text-gray-500 hover:text-vital-500 transition-colors text-sm font-tech uppercase tracking-wider block",children:d.label})},d.label))})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-display font-bold mb-6",children:"SOCIALS"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-vital-600 hover:text-white transition-all","aria-label":"Discord",children:p.jsx(wB,{className:"w-5 h-5"})}),p.jsx("a",{href:"https://x.com/vital_roleplay/",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-black hover:text-white transition-all","aria-label":"X (Twitter)",children:p.jsx(TB,{className:"w-5 h-5"})}),p.jsx("a",{href:"https://www.youtube.com/@VitalRP",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-red-600 hover:text-white transition-all","aria-label":"YouTube",children:p.jsx(Pz,{size:20})}),p.jsx("a",{href:"https://www.instagram.com/vital_roleplay/",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-pink-600 hover:text-white transition-all","aria-label":"Instagram",children:p.jsx(HU,{size:20})}),p.jsx("a",{href:"https://www.tiktok.com/@vitalroleplay_",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-[#00f2ea] hover:text-black transition-all","aria-label":"TikTok",children:p.jsx(EB,{className:"w-5 h-5"})})]})]})]}),p.jsxs("div",{className:"border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{className:"flex items-center gap-4 order-2 md:order-1",children:[p.jsxs("p",{className:"text-gray-600 text-xs font-sans",children:[" ",new Date().getFullYear()," Vital Roleplay. Not affiliated with Rockstar Games."]}),a?p.jsx("a",{href:"/admin",className:"text-white/10 hover:text-white transition-colors duration-500","aria-label":"Admin Panel",children:p.jsx(Vf,{size:12})}):p.jsx("button",{onClick:()=>s(),className:"text-white/10 hover:text-vital-500 transition-colors duration-500","aria-label":"Admin Access",children:p.jsx(Vf,{size:12})})]}),p.jsxs(ce.div,{className:"flex items-center gap-2 order-1 md:order-2 bg-dark-900/50 px-3 py-1.5 rounded-full border border-white/5 hover:border-vital-500/50 transition-colors cursor-pointer select-none group/dev",onClick:()=>n(!e),whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx("span",{className:`text-[10px] font-tech uppercase tracking-widest transition-colors ${e?"text-vital-500 font-bold":"text-gray-500"}`,children:e?"Damon was here":"Created by Damon"}),p.jsx(ce.div,{animate:{rotate:e?180:0},transition:{type:"spring",stiffness:200,damping:10},children:e?p.jsx(jU,{className:"w-5 h-5 text-vital-500"}):p.jsx("img",{src:"https://r2.fivemanage.com/image/hVrQuL5nJWbT.png",alt:"Crown",className:"w-5 h-5 object-contain opacity-70 group-hover/dev:opacity-100 transition-opacity"})})]})]})]})})},AB=()=>{const[t,e]=D.useState(!1);D.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return p.jsx(fs,{children:t&&p.jsx(ce.button,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:n,className:"fixed bottom-8 right-8 z-40 p-3 rounded-full bg-vital-600 text-white shadow-[0_0_20px_rgba(249,115,22,0.5)] border border-vital-500 hover:bg-vital-500 transition-colors group","aria-label":"Scroll to top",children:p.jsx(rU,{size:24,className:"group-hover:-translate-y-1 transition-transform duration-300"})})})},RB=()=>{const{scrollYProgress:t}=s1(),[e,n]=D.useState(!0);D.useEffect(()=>{const c=()=>{n(window.innerWidth<768)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const s=Ya(t,[0,1],[0,-300]),a=Ya(t,[0,1],[0,-600]),l=Ya(t,[0,1],[0,-900]);return e?p.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none bg-dark-950",children:[p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] z-10"}),p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[100vw] h-[100vw] bg-vital-900/10 blur-[60px] rounded-full mix-blend-screen"}),p.jsx("div",{className:"absolute top-[60%] right-[-10%] w-[80vw] h-[80vw] bg-vital-800/10 blur-[60px] rounded-full mix-blend-screen"}),p.jsx("div",{className:"absolute top-[20%] left-[20%] w-1 h-1 bg-white/20 rounded-full"}),p.jsx("div",{className:"absolute top-[50%] right-[30%] w-1.5 h-1.5 bg-white/10 rounded-full"}),p.jsx("div",{className:"absolute top-[80%] left-[10%] w-1 h-1 bg-white/20 rounded-full"})]}):p.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none transition-colors duration-700 bg-dark-950",children:[p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] z-10"}),p.jsxs(ce.div,{style:{y:s},className:"absolute inset-0",children:[p.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[800px] h-[800px] bg-vital-900/20 blur-[120px] rounded-full mix-blend-screen transition-colors duration-700"}),p.jsx("div",{className:"absolute top-[60%] right-[-10%] w-[600px] h-[600px] bg-vital-800/10 blur-[120px] rounded-full mix-blend-screen transition-colors duration-700"})]}),p.jsxs(ce.div,{style:{y:a},className:"absolute inset-0",children:[p.jsx("div",{className:"absolute top-[20%] right-[10%] w-64 h-64 bg-vital-500/5 blur-[80px] rounded-full transition-colors duration-700"}),p.jsx("div",{className:"absolute top-[60%] left-[10%] w-96 h-96 bg-vital-400/5 blur-[90px] rounded-full transition-colors duration-700"})]}),p.jsxs(ce.div,{style:{y:l},className:"absolute inset-0",children:[p.jsx("div",{className:"absolute top-[15%] left-[25%] w-1.5 h-1.5 bg-white/10 rounded-full blur-[0.5px]"}),p.jsx("div",{className:"absolute top-[35%] right-[35%] w-1 h-1 bg-vital-500/20 rounded-full transition-colors duration-700"}),p.jsx("div",{className:"absolute top-[55%] left-[15%] w-2 h-2 bg-white/5 rounded-full blur-[1px]"}),p.jsx("div",{className:"absolute top-[75%] right-[15%] w-2 h-2 bg-vital-400/10 rounded-full transition-colors duration-700"}),p.jsx("div",{className:"absolute top-[90%] left-[45%] w-1 h-1 bg-white/10 rounded-full"})]})]})},NB=()=>{const{user:t,isAdmin:e,logout:n,toggleEditMode:s,editMode:a}=ta();if(!e||!t)return null;const l=t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}`;return p.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100]",children:p.jsxs(ce.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"bg-dark-900/90 backdrop-blur-xl border border-vital-500/30 rounded-full p-2 pl-2 pr-2 shadow-[0_0_30px_rgba(0,0,0,0.5)] flex items-center gap-2 group transition-all hover:border-vital-500/60",children:[p.jsxs(Jc,{to:"/admin",className:"flex items-center gap-3 pl-2 pr-4 py-1.5 hover:bg-white/5 rounded-full transition-colors",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:l,alt:t.displayName||"Admin",className:"w-8 h-8 rounded-full border border-vital-500"}),p.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-dark-900 rounded-full"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-white font-bold text-xs leading-none",children:t.displayName}),p.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),p.jsx("span",{className:"text-[9px] text-emerald-500 font-tech uppercase tracking-wider",children:"Cloud Active"})]})]}),p.jsx(iy,{size:14,className:"text-gray-400 group-hover:text-white group-hover:translate-x-0.5 transition-all"})]}),p.jsx("div",{className:"h-6 w-px bg-white/10"}),p.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-3 py-1.5 rounded-full transition-all border ${a?"bg-vital-500 text-white border-vital-400 shadow-[0_0_10px_rgba(249,115,22,0.4)]":"bg-white/5 text-gray-400 border-transparent hover:bg-white/10 hover:text-white"}`,title:"Toggle Edit Mode",children:[p.jsx(iz,{size:14,className:a?"animate-pulse":""}),p.jsx("span",{className:"text-xs font-bold",children:a?"Editing On":"Edit Mode"})]}),p.jsx("div",{className:"h-6 w-px bg-white/10"}),p.jsx("button",{onClick:n,className:"p-2 rounded-full bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white transition-colors",title:"Logout",children:p.jsx(WN,{size:16})})]})})},CB=({isOpen:t,onClose:e})=>(Pf.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),p.jsx(fs,{children:t&&p.jsxs(p.Fragment,{children:[p.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60]"}),p.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 pointer-events-none",children:p.jsxs(ce.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5,bounce:.3},className:"w-full max-w-6xl h-[85vh] bg-dark-900 border border-white/10 rounded-2xl overflow-hidden flex flex-col shadow-2xl pointer-events-auto",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5 bg-dark-900 z-10 shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-vital-500/10 p-2 rounded-lg text-vital-500",children:p.jsx(ay,{size:20})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-display font-bold text-white text-lg leading-none",children:"Vital Store"}),p.jsx("p",{className:"text-xs text-gray-500 font-tech uppercase tracking-wider mt-0.5",children:"Secure Checkout"})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("a",{href:"https://vitalrp.tebex.io/",target:"_blank",rel:"noreferrer",className:"hidden md:flex items-center gap-2 px-4 py-2 bg-vital-600 hover:bg-vital-500 text-white text-sm font-bold rounded-lg transition-colors shadow-lg shadow-vital-500/20",children:[p.jsx("span",{children:"Open in New Tab"}),p.jsx(QT,{size:14})]}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:p.jsx(ro,{size:20})})]})]}),p.jsxs("div",{className:"flex-1 relative bg-dark-950 w-full h-full",children:[p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500 z-0",children:[p.jsx(jf,{size:32,className:"animate-spin mb-4 text-vital-500"}),p.jsx("p",{className:"font-medium text-gray-400",children:"Loading Store Interface..."}),p.jsx("p",{className:"text-sm mt-2 max-w-xs text-center text-gray-600",children:'If the store does not appear shortly, please use the "Open in New Tab" button.'})]}),p.jsx("iframe",{src:"https://vitalrp.tebex.io/",title:"Vital RP Store",className:"absolute inset-0 w-full h-full border-0 z-10 bg-transparent",allow:"payment",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})]}),p.jsx("div",{className:"md:hidden p-4 border-t border-white/5 bg-dark-900 z-10 shrink-0",children:p.jsxs("a",{href:"https://vitalrp.tebex.io/",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-vital-600 text-white font-bold rounded-lg shadow-lg shadow-vital-500/20",children:[p.jsx("span",{children:"Open in New Tab"}),p.jsx(QT,{size:16})]})})]})})]})})),IB=()=>{const[t,e]=D.useState(!1),{scrollYProgress:n}=s1(),s=Y7(n,{stiffness:100,damping:30,restDelta:.001});return p.jsxs("div",{className:"min-h-screen bg-dark-950 text-white selection:bg-vital-500 selection:text-white relative transition-colors duration-700",children:[p.jsx(NB,{}),p.jsx(ce.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-vital-500 to-vital-400 origin-left z-[100]",style:{scaleX:s}}),p.jsx(RB,{}),p.jsx(Uz,{onOpenStore:()=>e(!0)}),p.jsxs("main",{className:"relative z-10",children:[p.jsx(Fz,{}),p.jsx($z,{}),p.jsx(Xz,{}),p.jsx(rB,{}),p.jsx(uB,{}),p.jsx(mB,{}),p.jsx(vB,{}),p.jsx(xB,{})]}),p.jsx("div",{className:"relative z-10",children:p.jsx(SB,{onOpenStore:()=>e(!0)})}),p.jsx(CB,{isOpen:t,onClose:()=>e(!1)}),p.jsx(AB,{})]})},DB=()=>{var d;const{user:t,isAdmin:e,loading:n,logout:s}=ta();if(n)return p.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:p.jsx("div",{className:"w-8 h-8 border-4 border-vital-500 border-t-transparent rounded-full animate-spin"})});if(!t)return p.jsx(F4,{to:"/",replace:!0});if(!e)return p.jsx("div",{className:"min-h-screen bg-dark-950 flex flex-col items-center justify-center p-4",children:p.jsxs("div",{className:"bg-dark-900 border border-red-500/20 rounded-xl p-8 max-w-md w-full text-center",children:[p.jsx(zs,{size:48,className:"text-red-500 mx-auto mb-4"}),p.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),p.jsx("p",{className:"text-gray-400 mb-6",children:"You do not have permission to view the Admin Panel."}),p.jsx("div",{className:"bg-black/30 rounded-lg p-3 mb-6 font-mono text-sm text-gray-300 break-all select-all",children:t.email}),p.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Please provide the email above to an administrator to request access."}),p.jsxs("div",{className:"flex gap-3 justify-center",children:[p.jsx(Jc,{to:"/",className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg text-sm font-medium transition-colors",children:"Go Back"}),p.jsx("button",{onClick:()=>s(),className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded-lg text-sm font-medium transition-colors",children:"Logout"})]})]})});const[a,l]=Pf.useState(!1),c=[{icon:GU,label:"Dashboard",path:"/admin"},{icon:xm,label:"Staff Roster",path:"/admin/staff"},{icon:zs,label:"User Management",path:"/admin/users"},{icon:wl,label:"Gallery",path:"/admin/gallery"},{icon:zs,label:"Rules & FAQ",path:"/admin/rules"},{icon:gz,label:"Settings",path:"/admin/settings"}];return p.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col lg:flex-row font-sans",children:[p.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 bg-dark-900 border-b border-white/5 sticky top-0 z-40",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(oy,{className:"w-8 h-8 filter drop-shadow-[0_0_8px_rgba(249,115,22,0.5)]"}),p.jsx("span",{className:"font-display font-bold text-white",children:"VITAL RP"})]}),p.jsx("button",{onClick:()=>l(!0),className:"p-2 text-gray-400 hover:text-white",children:p.jsx(JN,{size:24})})]}),p.jsx(fs,{children:a&&p.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 lg:hidden"})}),p.jsxs("aside",{className:`
                fixed inset-y-0 left-0 z-50 w-72 bg-dark-900/95 backdrop-blur-xl border-r border-white/5 flex flex-col
                transition-transform duration-500 cubic-bezier(0.4, 0, 0.2, 1) lg:translate-x-0 shadow-2xl shadow-black/50
                ${a?"translate-x-0":"-translate-x-full"}
            `,children:[p.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between items-center relative overflow-hidden group",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-vital-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10 w-full",children:[p.jsxs("div",{className:"relative shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-vital-500 blur-xl opacity-20 animate-pulse"}),p.jsx(oy,{className:"w-12 h-12 relative z-10 drop-shadow-[0_0_15px_rgba(251,146,60,0.3)]"})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-white font-display font-black text-xl leading-none tracking-wide bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent",children:"VITAL RP"}),p.jsx("span",{className:"text-[10px] text-vital-500 font-bold tracking-[0.2em] uppercase mt-1",children:"Command Center"})]})]}),p.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-gray-500 hover:text-white transition-colors relative z-10",children:p.jsx(ro,{size:20})})]}),p.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto custom-scrollbar",children:[p.jsx("div",{className:"px-2 mb-2 text-[10px] font-black text-gray-600 uppercase tracking-[0.2em] text-gray-500",children:"Menu"}),c.map(m=>p.jsx(Jc,{to:m.path,end:m.path==="/admin",onClick:()=>l(!1),className:({isActive:g})=>`
                                relative group flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300
                                ${g?"text-white":"text-gray-400 hover:text-white"}
                            `,children:({isActive:g})=>p.jsxs(p.Fragment,{children:[g&&p.jsx(ce.div,{layoutId:"activeTab",className:"absolute inset-0 bg-gradient-to-r from-vital-500 to-vital-600 shadow-lg shadow-vital-500/25",initial:!1,transition:{type:"spring",stiffness:300,damping:30},style:{borderRadius:"0.75rem"}}),!g&&p.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),p.jsx(m.icon,{size:20,className:`relative z-10 transition-colors duration-200 ${g?"text-white":"text-gray-500 group-hover:text-white"}`}),p.jsx("span",{className:`relative z-10 text-sm font-medium transition-colors duration-200 ${g?"text-white font-bold":""}`,children:m.label})]})},m.path))]}),p.jsx("div",{className:"p-4 border-t border-white/5 bg-dark-950/30",children:p.jsxs("div",{className:"bg-dark-800/50 rounded-2xl p-4 border border-white/5 backdrop-blur-sm group hover:border-vital-500/30 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center text-white border border-white/10 overflow-hidden relative",children:t!=null&&t.photoURL?p.jsx("img",{src:t.photoURL,alt:"User",className:"w-full h-full object-cover"}):p.jsx("span",{className:"font-bold text-sm",children:(d=t==null?void 0:t.displayName)==null?void 0:d[0]})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"text-sm font-bold text-white truncate group-hover:text-vital-400 transition-colors",children:(t==null?void 0:t.displayName)||"Admin User"}),p.jsx("p",{className:"text-xs text-gray-500 role-badge truncate",children:"System Administrator"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs(Jc,{to:"/",className:"flex items-center justify-center gap-2 py-2 px-3 rounded-lg bg-white/5 hover:bg-white/10 border border-white/5 text-xs text-gray-300 transition-all font-medium",children:[p.jsx(XN,{size:14}),"Site"]}),p.jsxs("button",{onClick:()=>s(),className:"flex items-center justify-center gap-2 py-2 px-3 rounded-lg bg-red-500/10 hover:bg-red-500/20 border border-red-500/10 hover:border-red-500/30 text-xs text-red-400 transition-all font-medium",children:[p.jsx(WN,{size:14}),"Logout"]})]})]})})]}),p.jsx("main",{className:"flex-1 lg:ml-72 p-6 lg:p-10 w-full overflow-x-hidden",children:p.jsx(H4,{})})]})},Yu=({title:t,subtitle:e,rightElement:n,badgeText:s="Admin Console 3.0"})=>p.jsxs("div",{className:"relative bg-dark-900 border border-white/5 rounded-[2rem] p-8 lg:p-14 mb-10 overflow-hidden shadow-2xl shadow-black/50",children:[p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.12] brightness-150 contrast-150 mix-blend-overlay pointer-events-none"}),p.jsx(ce.div,{animate:{scale:[1,1.3,1],opacity:[.1,.2,.1],x:[0,30,0],y:[0,-20,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-32 -right-32 w-[700px] h-[700px] bg-gradient-to-br from-vital-500/30 via-orange-500/20 to-purple-600/20 rounded-full blur-[100px] pointer-events-none"}),p.jsx(ce.div,{animate:{scale:[1,1.4,1],opacity:[.08,.15,.08],x:[0,-30,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute -bottom-32 -left-32 w-[600px] h-[600px] bg-gradient-to-tr from-emerald-500/20 via-teal-500/15 to-blue-500/15 rounded-full blur-[100px] pointer-events-none"}),p.jsx(ce.div,{animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] rounded-full pointer-events-none",style:{background:"conic-gradient(from 0deg, transparent, rgba(251, 146, 60, 0.05), transparent, rgba(139, 92, 246, 0.05), transparent)"}}),p.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(12)].map((a,l)=>p.jsx(ce.div,{initial:{opacity:0,x:`${Math.random()*100}%`,y:`${Math.random()*100}%`},animate:{opacity:[0,.6,0],y:[null,"-100%"]},transition:{duration:8+Math.random()*8,repeat:1/0,ease:"linear",delay:Math.random()*5},className:`absolute w-1.5 h-1.5 rounded-full ${l%2===0?"bg-vital-400":"bg-purple-400"} blur-[2px]`},l))}),p.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-8",children:[p.jsxs(ce.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,ease:[.16,1,.3,1]},children:[p.jsxs(ce.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 backdrop-blur-md text-[10px] font-black text-vital-400 uppercase tracking-[0.25em] mb-6 shadow-lg shadow-black/20",children:[p.jsx(ce.span,{animate:{scale:[1,1.3,1],opacity:[1,.7,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 rounded-full bg-vital-400"}),s]}),p.jsx("h1",{className:"text-4xl lg:text-7xl font-display font-black text-white mb-6 tracking-tight leading-[0.95]",children:typeof t=="string"?p.jsx(ce.span,{initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 via-white via-50% to-vital-500 bg-[length:200%_auto]",children:t}):t}),p.jsx("p",{className:"text-gray-400 text-lg max-w-2xl font-light leading-relaxed border-l-2 border-vital-500/40 pl-5",children:e})]}),n&&p.jsx(ce.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:.4,duration:.6,ease:[.16,1,.3,1]},className:"flex-shrink-0",children:n})]})]}),eE=['"RDM! RDM! Admin to me!" - Every new player ever','"Hands up or I shoot!" *misses every shot*','"Is that a local or a player?" - Famous last words','"My head popped, flying back in."','"Nice VDM bro, clip that."','"Can I get a revive? I died to a glitch."','"Anyone selling a PD pistol?" - Asking in Legion Square',`"I'm not driving, I'm traveling."`,'"Do you have a license for that attitude?"','"Wait, I hear sirens... hide the weed!"','"10-80 in progress... I think I lost them... nevermind, I crashed."',`"Combat logging is not a crime, it's a tactical retreat." (It is a crime though)`,'"Admin, he talked while dead!"',`"I swear I wasn't speeding, my speedometer is broken."`,'"New phone, who dis?"'],kB=()=>eE[Math.floor(Math.random()*eE.length)],MB=()=>{var M;const{user:t}=ta(),[e,n]=D.useState(!0),[s,a]=D.useState({users:0,staff:0,gallery:0,activeNow:0}),[l,c]=D.useState([]),d="ogpvmv",[m,g]=D.useState({online:!1,players:0,max:2048,ping:"12ms"});D.useEffect(()=>{const k=async()=>{try{const V=await fetch(`https://servers-frontend.fivem.net/api/servers/single/${d}`);if(!V.ok)throw new Error("Unreachable");const F=await V.json();F&&F.Data&&g({online:!0,players:F.Data.clients,max:F.Data.sv_maxclients,ping:"12ms"})}catch{console.warn("Server stats unreachable, using fallback"),g({online:!0,players:412,max:2048,ping:"12ms"})}};k();const C=setInterval(k,6e4);return()=>clearInterval(C)},[]),D.useEffect(()=>{if(!_e)return;n(!0);const k=cm(eo(ri(_e,"users"),mv("lastLogin","desc"),EV(5)),V=>{const F=[];V.forEach(N=>{F.push({id:N.id,...N.data()})}),c(F)},V=>{console.error("Error listening to users:",V),Ua(ri(_e,"users")).then(F=>{c(F.docs.slice(0,5).map(N=>({id:N.id,...N.data()})))})});return(async()=>{try{const V=await Ua(ri(_e,"users")),F=await Ua(ri(_e,"staff")),N=await Ua(ri(_e,"gallery"));a({users:V.size,staff:F.size,gallery:N.size,activeNow:1})}catch(V){console.error(V)}finally{n(!1)}})(),()=>k()},[]);const v=[{label:"Total Users",value:s.users,icon:xm,color:"from-blue-500 to-cyan-500",iconColor:"text-cyan-400",trend:"+12% this week",path:"/admin/users"},{label:"Staff Team",value:s.staff,icon:Of,color:"from-vital-500 to-red-600",iconColor:"text-red-400",trend:"Active Roster",path:"/admin/staff"},{label:"Gallery Items",value:s.gallery,icon:wl,color:"from-purple-500 to-pink-500",iconColor:"text-pink-400",trend:"Visual Assets",path:"/admin/gallery"},{label:"System Status",value:m.online?`${m.players}/${m.max}`:"Offline",icon:YT,color:m.online?"from-emerald-500 to-green-600":"from-red-500 to-red-600",iconColor:m.online?"text-emerald-400":"text-red-400",trend:m.online?"Online":"Unreachable",isStatus:!0}],b=[{label:"Add Staff Member",icon:Dz,path:"/admin/staff"},{label:"Upload to Gallery",icon:wl,path:"/admin/gallery"},{label:"Review Reports",icon:Of,path:"/admin/users"}],_={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},E={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return p.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[p.jsx(Yu,{title:p.jsxs(p.Fragment,{children:["Welcome back, ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 via-white to-vital-600 animate-gradient-x bg-[length:200%_auto]",children:(M=t==null?void 0:t.displayName)==null?void 0:M.split(" ")[0]})]}),subtitle:kB(),rightElement:p.jsx("div",{className:"hidden lg:block",children:p.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 flex items-center gap-4 hover:bg-white/10 transition-colors cursor-pointer group/card",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-vital-500 to-vital-600 flex items-center justify-center shadow-lg shadow-vital-500/20 group-hover/card:scale-110 transition-transform",children:p.jsx(YT,{className:"text-white",size:24})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-white font-bold text-xl leading-none mb-1",children:"98%"}),p.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider font-semibold",children:"Uptime"})]})]})})}),p.jsx(ce.div,{variants:_,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map((k,C)=>p.jsxs(ce.div,{variants:E,className:"group relative bg-dark-900 border border-white/5 rounded-2xl p-6 overflow-hidden hover:border-white/10 transition-all cursor-default",children:[p.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${k.color} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:`p-3 rounded-xl bg-dark-950 border border-white/5 ${k.iconColor} shadow-lg shadow-black/20`,children:p.jsx(k.icon,{size:24})}),k.isStatus&&p.jsxs("span",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-xs font-bold text-emerald-400",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"LIVE"]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-white mb-1 group-hover:scale-105 transition-transform origin-left",children:e?"-":k.value}),p.jsx("p",{className:"text-sm text-gray-400 font-medium",children:k.label}),p.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-gray-500 border-t border-white/5 pt-3",children:[p.jsx(Nz,{size:12,className:k.isStatus?"text-emerald-500":"text-vital-500"}),p.jsx("span",{children:k.trend})]})]}),k.path&&p.jsx(Zc,{to:k.path,className:"absolute inset-0 z-10","aria-label":`Go to ${k.label}`})]},C))}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"lg:col-span-2 bg-dark-900 border border-white/5 rounded-2xl p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(QN,{size:20,className:"text-gray-400"}),"Recent Active Users"]}),p.jsxs(Zc,{to:"/admin/users",className:"text-sm text-vital-500 hover:text-vital-400 font-medium flex items-center gap-1",children:["View All ",p.jsx(iy,{size:14})]})]}),p.jsx("div",{className:"space-y-4",children:e?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading activity..."}):l.length===0?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No recent activity found."}):l.map((k,C)=>{var V;return p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-dark-950/50 border border-white/5 hover:bg-white/5 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center text-white font-bold text-sm border border-white/10 overflow-hidden",children:k.photoURL?p.jsx("img",{src:k.photoURL,alt:k.displayName,className:"w-full h-full object-cover"}):((V=k.displayName)==null?void 0:V[0])||"?"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-medium text-sm",children:k.displayName||"Unknown User"}),p.jsx("p",{className:"text-xs text-gray-500",children:k.email})]})]}),p.jsx("div",{className:"text-right",children:p.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${k.role==="superadmin"?"bg-amber-500/10 text-amber-400 border-amber-500/20":k.role==="admin"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:k.role||"user"})})]},k.id||C)})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-vital-900/20 border border-vital-500/20 rounded-2xl p-6 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-vital-500/20 rounded-full blur-[40px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),p.jsx("h2",{className:"text-lg font-bold text-white mb-4 relative z-10",children:"Quick Actions"}),p.jsx("div",{className:"grid grid-cols-1 gap-3 relative z-10",children:b.map((k,C)=>p.jsxs(Zc,{to:k.path,className:"flex items-center gap-3 p-3 bg-dark-900/50 hover:bg-vital-500/10 border border-white/5 hover:border-vital-500/30 rounded-xl transition-all group",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-dark-800 flex items-center justify-center text-gray-400 group-hover:text-vital-400 transition-colors",children:p.jsx(k.icon,{size:16})}),p.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-white",children:k.label}),p.jsx(iy,{size:14,className:"ml-auto text-gray-600 group-hover:text-vital-500 -translate-x-1 group-hover:translate-x-0 transition-all opacity-0 group-hover:opacity-100"})]},C))})]}),p.jsxs(ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-dark-900 border border-white/5 rounded-2xl p-6",children:[p.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Need Help?"}),p.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Check the documentation or contact the development team for assistance with the Admin Panel."}),p.jsx("button",{className:"w-full py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg text-sm font-medium transition-colors border border-white/5",children:"View Documentation"})]})]})]})]})},zd=["Owner","Senior Admin","Admin","Senior Mod","Mod","Senior Support","Support","Clothing Dev"],jB=["Management","Administration","Moderation Team","Support Team"],VB=[{label:"Amber (Owner)",value:"amber",bg:"bg-amber-500"},{label:"Red (Admin)",value:"red",bg:"bg-red-500"},{label:"Green (Mod)",value:"green",bg:"bg-emerald-500"},{label:"Blue (Support)",value:"blue",bg:"bg-blue-500"},{label:"Purple (Dev)",value:"purple",bg:"bg-purple-500"},{label:"Yellow",value:"yellow",bg:"bg-yellow-500"}],OB=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0),[a,l]=D.useState(!1),[c,d]=D.useState(null),[m,g]=D.useState(!1),v={name:"",role:zd[0],subRole:"",color:"amber",category:"Management",image:""},[b,_]=D.useState(v);D.useEffect(()=>{E()},[]);const E=async()=>{try{if(!_e)return;const N=eo(ri(_e,"staff")),W=await Ua(N),ee=[];W.forEach(ae=>{ee.push({id:ae.id,...ae.data()})}),ee.sort((ae,I)=>{const R={Management:1,Administration:2,"Moderation Team":3,"Support Team":4},j=R[ae.category]||99,L=R[I.category]||99;if(j!==L)return j-L;const U=zd.indexOf(ae.role),q=zd.indexOf(I.role);return(U===-1?99:U)-(q===-1?99:q)}),e(ee)}catch(N){console.error("Error fetching staff:",N)}finally{s(!1)}},M=N=>{N?(d(N.id),_(N)):(d(null),_(v)),l(!0)},k=N=>{let W=b.color,ee=b.category;N==="Owner"?(W="amber",ee="Management"):N.includes("Admin")?(W="red",ee="Administration"):N.includes("Mod")?(W="green",ee="Moderation Team"):N.includes("Support")?(W="blue",ee="Support Team"):N==="Clothing Dev"&&(W="purple",ee="Moderation Team"),_({...b,role:N,color:W,category:ee})},C=async N=>{var ee;const W=(ee=N.target.files)==null?void 0:ee[0];if(!(!W||!Ps)){g(!0);try{const ae=`staff-images/${Date.now()}_${W.name}`,I=Ev(Ps,ae);await wv(I,W);const R=await Tv(I);_(j=>({...j,image:R}))}catch(ae){console.error("Error uploading image:",ae),alert("Failed to upload image.")}finally{g(!1)}}},V=async()=>{if(_e)try{c?await BA(fn(_e,"staff",c),b):await RV(ri(_e,"staff"),b),l(!1),E()}catch(N){console.error("Error saving staff:",N)}},F=async N=>{if(!(!_e||!window.confirm("Are you sure you want to delete this staff member?")))try{await Bu(fn(_e,"staff",N)),E()}catch(W){console.error("Error deleting staff:",W)}};return p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx(Yu,{title:"Staff Roster",subtitle:"Manage your team structure and permissions.",rightElement:p.jsxs("button",{onClick:()=>M(),className:"flex items-center gap-2 px-6 py-3 bg-vital-500/10 text-vital-400 rounded-xl border border-vital-500/20 hover:bg-vital-500/20 hover:border-vital-500/30 transition-all shadow-lg shadow-vital-500/5 font-bold hover:scale-[1.02] active:scale-95",children:[p.jsx(r1,{size:20}),"Add Staff Member"]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(N=>p.jsxs(ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-900/40 backdrop-blur-sm border border-white/5 rounded-2xl p-6 group hover:border-vital-500/30 hover:bg-dark-900/60 transition-all relative overflow-hidden shadow-xl",children:[p.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-${N.color==="green"?"emerald":N.color}-500/10 blur-[60px] rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none transition-opacity duration-500`}),p.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-14 h-14 rounded-2xl bg-dark-800/50 border border-white/10 flex items-center justify-center text-${N.color==="green"?"emerald":N.color}-400 overflow-hidden relative shadow-lg`,children:N.image?p.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"}):p.jsxs(p.Fragment,{children:[N.role==="Owner"&&p.jsx(ym,{size:28}),N.role.includes("Admin")&&p.jsx(zs,{size:28}),N.role.includes("Mod")&&p.jsx(vm,{size:28}),N.role.includes("Support")&&p.jsx(PU,{size:28}),N.role==="Clothing Dev"&&p.jsx(eC,{size:28})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white leading-tight",children:N.name}),p.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full bg-${N.color==="green"?"emerald":N.color}-500`}),p.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wide",children:N.role})]})]})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>M(N),className:"p-2 rounded-lg bg-white/5 text-gray-400 hover:text-white hover:bg-white/10 transition-colors border border-transparent hover:border-white/5",title:"Edit Member",children:p.jsx(Ku,{size:16})}),p.jsx("button",{onClick:()=>F(N.id),className:"p-2 rounded-lg bg-red-500/5 text-red-500/50 hover:text-red-400 hover:bg-red-500/10 transition-colors border border-transparent hover:border-red-500/10",title:"Delete Member",children:p.jsx(bm,{size:16})})]})]}),p.jsxs("div",{className:"space-y-2 relative z-10",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs font-medium bg-black/20 p-3 rounded-xl border border-white/5",children:[p.jsx("span",{className:"text-gray-500 uppercase tracking-wider",children:"Category"}),p.jsx("span",{className:"text-gray-300",children:N.category})]}),p.jsxs("div",{className:"flex items-center justify-between text-xs font-medium bg-black/20 p-3 rounded-xl border border-white/5",children:[p.jsx("span",{className:"text-gray-500 uppercase tracking-wider",children:"Title"}),p.jsx("span",{className:"text-gray-300",children:N.subRole||"Staff Member"})]})]})]},N.id))}),n&&p.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading staff roster..."}),!n&&t.length===0&&p.jsx("div",{className:"text-center text-gray-500 py-12 bg-dark-900/50 rounded-2xl border border-white/5 border-dashed",children:'No staff members found. Click "Add Staff Member" to get started.'}),p.jsx(fs,{children:a&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>l(!1)}),p.jsxs(ce.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl p-6 w-full max-w-lg shadow-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-white",children:c?"Edit Staff Member":"Add New Staff Member"}),p.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-white",children:p.jsx(ro,{size:20})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(du,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),p.jsx("input",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 pl-10 pr-4 text-white focus:border-vital-500 focus:outline-none transition-colors",placeholder:"Username",value:b.name,onChange:N=>_({...b,name:N.target.value})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Role"}),p.jsx("select",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 px-3 text-white focus:border-vital-500 focus:outline-none transition-colors appearance-none",value:b.role,onChange:N=>k(N.target.value),children:zd.map(N=>p.jsx("option",{value:N,children:N},N))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Category"}),p.jsx("select",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 px-3 text-white focus:border-vital-500 focus:outline-none transition-colors appearance-none",value:b.category,onChange:N=>_({...b,category:N.target.value}),children:jB.map(N=>p.jsx("option",{value:N,children:N},N))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Sub-Role / Lead Title"}),p.jsxs("div",{className:"relative",children:[p.jsx(KN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),p.jsx("input",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 pl-10 pr-4 text-white focus:border-vital-500 focus:outline-none transition-colors",placeholder:"e.g. IFM Lead, Clothing Dev, Rules Team",value:b.subRole,onChange:N=>_({...b,subRole:N.target.value})})]}),p.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Leave empty if not a lead or specialized role."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-2",children:"Profile Image"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-16 h-16 rounded-xl bg-dark-950 border border-white/10 flex items-center justify-center overflow-hidden shrink-0",children:b.image?p.jsx("img",{src:b.image,alt:"Preview",className:"w-full h-full object-cover"}):p.jsx(wl,{className:"text-gray-600",size:24})}),p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"file",onChange:C,accept:"image/*",disabled:m,className:"hidden",id:"image-upload"}),p.jsxs("label",{htmlFor:"image-upload",className:`flex items-center justify-center gap-2 w-full py-2 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 rounded-lg cursor-pointer transition-all ${m?"opacity-50 cursor-wait":""}`,children:[m?p.jsx(jf,{size:16,className:"animate-spin text-vital-500"}):p.jsx(tC,{size:16,className:"text-vital-500"}),p.jsx("span",{className:"text-sm text-gray-300",children:m?"Uploading...":"Browse File"})]})]}),p.jsx("input",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-1.5 px-3 text-xs text-gray-400 focus:text-white focus:border-vital-500 focus:outline-none transition-colors",placeholder:"Or paste image URL...",value:b.image||"",onChange:N=>_({...b,image:N.target.value})})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-2",children:"Card Accent Color"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:VB.map(N=>p.jsxs("button",{onClick:()=>_({...b,color:N.value}),className:`h-8 px-3 rounded-lg border text-xs font-medium transition-all ${b.color===N.value?"border-white bg-white/10 text-white":"border-transparent bg-dark-950 text-gray-500 hover:text-white"}`,children:[p.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${N.bg}`}),N.label]},N.value))})]})]}),p.jsxs("div",{className:"flex gap-3 mt-8",children:[p.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),p.jsxs("button",{onClick:V,className:"flex-1 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center justify-center gap-2",disabled:m,children:[p.jsx(Tl,{size:18}),"Save Staff Member"]})]})]})]})})]})},r0=[{value:"superadmin",label:"Super Admin",description:"Full access to all settings and user management.",color:"amber",icon:ym},{value:"admin",label:"Administrator",description:"Manage content, staff, and moderate the site.",color:"red",icon:vm},{value:"editor",label:"Editor",description:"Can edit existing content but cannot manage users.",color:"blue",icon:CU},{value:"user",label:"User",description:"Standard access. No admin panel permissions.",color:"gray",icon:du}],PB=()=>{var k;const{user:t}=ta(),[e,n]=D.useState([]),[s,a]=D.useState(!0),[l,c]=D.useState(!1),[d,m]=D.useState(null),[g,v]=D.useState({role:"user"});D.useEffect(()=>{b()},[]);const b=async()=>{if(_e)try{const C=eo(ri(_e,"users"),mv("lastLogin","desc")),V=await Ua(C),F=[];V.forEach(N=>F.push({id:N.id,...N.data()})),n(F)}catch(C){console.error("Error fetching users with orderBy:",C);try{const V=eo(ri(_e,"users")),F=await Ua(V),N=[];F.forEach(W=>N.push({id:W.id,...W.data()})),n(N)}catch(V){console.error("Retry failed",V)}}finally{a(!1)}},_=C=>{m(C),v({role:C.role||"user"}),c(!0)},E=async()=>{if(!(!_e||!d))try{await Qr(fn(_e,"users",d.id),{role:g.role},{merge:!0}),c(!1),b()}catch(C){console.error("Error saving user:",C),alert("Failed to save user.")}},M=async C=>{if(!(!_e||!window.confirm("Are you sure you want to delete this user? They will lose all data and access.")))try{await Bu(fn(_e,"users",C)),b()}catch(V){console.error("Error deleting user:",V)}};return p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx(Yu,{title:"User Management",subtitle:"Manage permissions for registered users."}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(C=>{var N;let V=C.role;V==="owner"&&(V="superadmin");const F=r0.find(W=>W.value===V)||r0[3];return p.jsxs(ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-900/40 backdrop-blur-sm border border-white/5 rounded-2xl p-6 group hover:border-vital-500/30 hover:bg-dark-900/60 transition-all relative overflow-hidden shadow-xl",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl bg-dark-800/50 border border-white/10 flex items-center justify-center text-white font-bold overflow-hidden shadow-lg relative group-hover:border-vital-500/20 transition-colors",children:C.photoURL?p.jsx("img",{src:C.photoURL,alt:C.displayName,className:"w-full h-full object-cover"}):p.jsx("span",{className:"text-xl",children:((N=C.displayName)==null?void 0:N[0])||C.email[0].toUpperCase()})}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("h3",{className:"text-lg font-bold text-white truncate leading-tight",children:C.displayName||"User"}),p.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5 font-mono opacity-70",children:C.email})]})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>_(C),className:"p-2 rounded-lg bg-white/5 text-gray-400 hover:text-white hover:bg-white/10 transition-colors border border-transparent hover:border-white/5",title:"Edit Role",children:p.jsx(Ku,{size:16})}),p.jsx("button",{onClick:()=>M(C.id),className:"p-2 rounded-lg bg-red-500/5 text-red-500/50 hover:text-red-400 hover:bg-red-500/10 transition-colors border border-transparent hover:border-red-500/10",title:"Delete User",children:p.jsx(bm,{size:16})})]})]}),p.jsxs("div",{className:"flex items-center justify-between mt-2 pt-4 border-t border-white/5 border-dashed",children:[p.jsx("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Current Role"}),p.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold bg-${F.color}-500/10 text-${F.color}-400 border border-${F.color}-500/20 shadow-sm`,children:[p.jsx(F.icon,{size:12}),F.label]})]})]},C.id)})}),s&&p.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading users..."}),p.jsx(fs,{children:l&&d&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>c(!1)}),p.jsxs(ce.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl p-6 w-full max-w-xl shadow-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Permissions"}),p.jsx("p",{className:"text-sm text-gray-400",children:"Assign a role to determine access level."})]}),p.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-white transition-colors",children:p.jsx(ro,{size:24})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white/5 rounded-xl p-4 flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 border border-white/10 flex items-center justify-center text-white font-bold overflow-hidden text-lg",children:d.photoURL?p.jsx("img",{src:d.photoURL,alt:d.displayName,className:"w-full h-full object-cover"}):((k=d.displayName)==null?void 0:k[0])||d.email[0].toUpperCase()}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-bold text-lg",children:d.displayName||"Unknown User"}),p.jsx("p",{className:"text-sm text-gray-400",children:d.email})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-3",children:"Select Role"}),p.jsx("div",{className:"grid grid-cols-1 gap-3",children:r0.map(C=>p.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${g.role===C.value?`bg-${C.color}-500/10 border-${C.color}-500/50 shadow-[0_0_15px_rgba(0,0,0,0.2)]`:"bg-dark-950 border-white/5 hover:border-white/10 hover:bg-white/5"}`,children:[p.jsx("input",{type:"radio",name:"role",value:C.value,checked:g.role===C.value,onChange:V=>v({...g,role:V.target.value}),className:"hidden"}),p.jsx("div",{className:`mt-0.5 w-5 h-5 rounded-full border flex items-center justify-center shrink-0 ${g.role===C.value?`border-${C.color}-500`:"border-gray-600"}`,children:g.role===C.value&&p.jsx("div",{className:`w-2.5 h-2.5 bg-${C.color}-500 rounded-full`})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(C.icon,{size:16,className:g.role===C.value?`text-${C.color}-400`:"text-gray-400"}),p.jsx("span",{className:`text-sm font-bold ${g.role===C.value?"text-white":"text-gray-300"}`,children:C.label})]}),p.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:C.description})]})]},C.value))})]})]}),p.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t border-white/5",children:[p.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),p.jsxs("button",{onClick:E,className:"flex-1 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-vital-500/20",children:[p.jsx(Tl,{size:18}),"Save Changes"]})]})]})]})})]})},LB=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0),[a,l]=D.useState(""),[c,d]=D.useState(null),[m,g]=D.useState(!1);D.useEffect(()=>{if(!_e){s(!1);return}const M=eo(ri(_e,"gallery")),k=cm(M,C=>{const V=[];C.forEach(F=>{V.push({id:F.id,...F.data()})}),V.sort((F,N)=>{const W=parseInt(F.id),ee=parseInt(N.id);return!isNaN(W)&&!isNaN(ee)?W-ee:F.id.localeCompare(N.id)}),e(V),s(!1)});return()=>k()},[]);const v=async M=>{if(!_e)return;let k=c==null?void 0:c.id;if(m&&(k=(t.reduce((F,N)=>{const W=parseInt(N.id);return!isNaN(W)&&W>F?W:F},0)+1).toString()),!k)return;const C=fn(_e,"gallery",k);await Qr(C,{title:M.title||"",location:M.location||"",category:M.category||"",src:M.src||"",size:M.size||"small"},{merge:!0}),g(!1)},b=async()=>{!_e||!(c!=null&&c.id)||(await Bu(fn(_e,"gallery",c.id)),d(null))},_=()=>{g(!0),d({id:"",title:"",location:"",category:"",src:"",size:"small"})},E=t.filter(M=>M.title.toLowerCase().includes(a.toLowerCase())||M.location.toLowerCase().includes(a.toLowerCase())||M.category.toLowerCase().includes(a.toLowerCase()));return p.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[p.jsx(Yu,{title:"Gallery Manager",subtitle:"Manage photos, screenshots, and artwork displayed in the gallery.",rightElement:p.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-6 py-3 bg-vital-500/10 text-vital-400 rounded-xl border border-vital-500/20 hover:bg-vital-500/20 hover:border-vital-500/30 transition-all shadow-lg shadow-vital-500/5 font-bold hover:scale-[1.02] active:scale-95",children:[p.jsx(r1,{size:20}),"Add New Photo"]})}),p.jsx("div",{className:"flex gap-4 bg-dark-900/50 p-4 rounded-xl border border-white/5",children:p.jsxs("div",{className:"relative flex-1 max-w-md",children:[p.jsx(mz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),p.jsx("input",{type:"text",value:a,onChange:M=>l(M.target.value),placeholder:"Search gallery...",className:"w-full bg-dark-950 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-white focus:border-vital-500 outline-none transition-colors"})]})}),n?p.jsx("div",{className:"py-20 text-center text-gray-500",children:"Loading gallery..."}):E.length===0?p.jsxs("div",{className:"py-20 text-center text-gray-500 bg-dark-900/50 rounded-xl border border-white/5 border-dashed",children:[p.jsx(wl,{className:"mx-auto mb-4 opacity-50",size:48}),p.jsx("p",{children:"No gallery items found."})]}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(M=>p.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group relative bg-dark-900/40 backdrop-blur-sm rounded-2xl overflow-hidden border border-white/5 hover:border-vital-500/40 hover:bg-dark-900/60 transition-all shadow-xl",children:[p.jsxs("div",{className:"aspect-video relative overflow-hidden bg-dark-950/50",children:[M.src?p.jsx("img",{src:M.src,alt:M.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-in-out"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:p.jsx(wl,{size:32})}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-950 via-transparent to-transparent opacity-60"}),p.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-3 backdrop-blur-[2px]",children:p.jsx("button",{onClick:()=>{g(!1),d(M)},className:"p-2.5 bg-white/10 text-white rounded-xl border border-white/20 hover:bg-vital-500 hover:border-vital-500 hover:scale-110 transition-all shadow-lg backdrop-blur-md",title:"Edit",children:p.jsx(Ku,{size:18})})}),p.jsx("div",{className:"absolute top-3 left-3 flex gap-2",children:p.jsx("span",{className:"px-2 py-1 bg-black/60 backdrop-blur-md rounded-lg text-[10px] uppercase font-bold text-white border border-white/10 shadow-lg",children:M.size})})]}),p.jsxs("div",{className:"p-4 relative",children:[p.jsx("div",{className:"flex justify-between items-start mb-3",children:p.jsxs("div",{className:"min-w-0",children:[p.jsx("h3",{className:"font-bold text-white truncate text-base leading-tight group-hover:text-vital-400 transition-colors",title:M.title,children:M.title||"Untitled"}),p.jsx("p",{className:"text-vital-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:M.category})]})}),p.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs mt-4 pt-3 border-t border-white/5",children:[p.jsx(ZN,{size:12,className:"text-gray-500"}),p.jsx("span",{className:"truncate font-medium opacity-70",children:M.location||"Unknown Location"})]})]})]},M.id))}),c&&p.jsx(nC,{isOpen:!!c,onClose:()=>d(null),onSave:v,onDelete:m?void 0:b,initialData:c})]})},UB=()=>{const{user:t}=ta(),[e,n]=D.useState("profile"),[s,a]=D.useState(!1),[l,c]=D.useState(""),[d,m]=D.useState({displayName:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",photoURL:(t==null?void 0:t.photoURL)||""}),[g,v]=D.useState({siteName:"Vital RP",maintenanceMode:!1}),[b,_]=D.useState(!0);D.useEffect(()=>{t&&m({displayName:t.displayName||"",email:t.email||"",photoURL:t.photoURL||""}),E()},[t]);const E=async()=>{if(_e)try{const N=fn(_e,"config","site"),W=await zA(N);W.exists()&&v(W.data())}catch(N){console.error("Error fetching site config:",N)}finally{_(!1)}},M=async()=>{if(!(!t||!es)){a(!0);try{await uw(t,{displayName:d.displayName,photoURL:d.photoURL}),_e&&await Qr(fn(_e,"users",t.uid),{displayName:d.displayName,photoURL:d.photoURL,email:t.email},{merge:!0}),c("Profile updated successfully!"),setTimeout(()=>c(""),3e3)}catch(N){console.error("Error updating profile:",N),alert("Failed to update profile.")}finally{a(!1)}}},k=async N=>{var ee;const W=(ee=N.target.files)==null?void 0:ee[0];if(!(!W||!Ps||!t)){a(!0);try{const ae=Ev(Ps,`avatars/${t.uid}_${Date.now()}`);await wv(ae,W);const I=await Tv(ae);m(R=>({...R,photoURL:I})),await uw(t,{photoURL:I}),_e&&await BA(fn(_e,"users",t.uid),{photoURL:I}),c("Avatar updated!"),setTimeout(()=>c(""),3e3)}catch(ae){console.error("Error uploading avatar:",ae),alert(`Failed to upload avatar: ${ae.message}`)}finally{a(!1)}}},C=async()=>{if(!(!es||!(t!=null&&t.email))){a(!0);try{await ek(es,t.email),c(`Password reset email sent to ${t.email}`),setTimeout(()=>c(""),5e3)}catch(N){console.error("Error sending reset email:",N),alert("Failed to send reset email.")}finally{a(!1)}}},V=async()=>{if(_e){a(!0);try{await Qr(fn(_e,"config","site"),g,{merge:!0}),c("System configuration saved!"),setTimeout(()=>c(""),3e3)}catch(N){console.error("Error saving system config:",N),alert("Failed to save configuration.")}finally{a(!1)}}},F=[{id:"profile",label:"My Profile",icon:du},{id:"security",label:"Security",icon:Vf},{id:"system",label:"System Settings",icon:ry}];return p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx(Yu,{title:"Settings",subtitle:"Manage your account preferences and system configurations."}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsx("div",{className:"w-full lg:w-64 space-y-2 shrink-0",children:F.map(N=>p.jsxs("button",{onClick:()=>n(N.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all relative overflow-hidden ${e===N.id?"text-white shadow-lg shadow-vital-500/20":"bg-dark-900 text-gray-400 hover:bg-white/5 hover:text-white border border-transparent"}`,children:[e===N.id&&p.jsx(ce.div,{layoutId:"activeSettingsTab",className:"absolute inset-0 bg-vital-500/10 border border-vital-500/20 shadow-[0_0_15px_rgba(251,146,60,0.05)]",initial:!1,transition:{type:"spring",stiffness:300,damping:30}}),p.jsx(N.icon,{size:18,className:"relative z-10"}),p.jsx("span",{className:"relative z-10",children:N.label})]},N.id))}),p.jsx("div",{className:"flex-1 bg-dark-900 border border-white/5 rounded-2xl p-6 lg:p-8 min-h-[500px]",children:p.jsxs(ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-8",children:[e==="profile"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-xl font-bold text-white mb-6 pb-4 border-b border-white/5",children:"Profile Settings"}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-dark-800 border-2 border-white/10 overflow-hidden flex items-center justify-center text-white",children:d.photoURL?p.jsx("img",{src:d.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):p.jsx(du,{size:32,className:"text-gray-500"})}),p.jsxs("label",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center rounded-full cursor-pointer transition-opacity backdrop-blur-[2px]",children:[p.jsx(YN,{size:24,className:"text-white"}),p.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:k,disabled:s})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-medium",children:"Profile Photo"}),p.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Click the image to upload a new one."}),p.jsx("p",{className:"text-xs text-vital-500 uppercase font-bold tracking-wider",children:t!=null&&t.emailVerified?"Verified":"Unverified"})]})]}),p.jsxs("div",{className:"space-y-4 max-w-xl",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Display Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(du,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),p.jsx("input",{type:"text",value:d.displayName,onChange:N=>m({...d,displayName:N.target.value}),className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 pl-10 pr-4 text-white focus:border-vital-500 focus:outline-none transition-colors"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx(XU,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),p.jsx("input",{type:"email",value:d.email,disabled:!0,className:"w-full bg-dark-950/50 border border-white/5 rounded-lg py-2 pl-10 pr-4 text-gray-400 cursor-not-allowed"})]}),p.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Email cannot be changed directly."})]}),p.jsx("div",{className:"pt-4",children:p.jsxs("button",{onClick:M,disabled:s,className:"px-6 py-3 bg-vital-500/10 text-vital-400 rounded-xl border border-vital-500/20 hover:bg-vital-500/20 hover:border-vital-500/30 transition-all shadow-lg shadow-vital-500/5 font-bold hover:scale-[1.02] active:scale-95 disabled:opacity-50 disabled:pointer-events-none flex items-center gap-2",children:[s?p.jsx(jf,{size:18,className:"animate-spin"}):p.jsx(Tl,{size:18}),"Save Profile"]})})]})]}),e==="security"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-xl font-bold text-white mb-6 pb-4 border-b border-white/5",children:"Security Settings"}),p.jsxs("div",{className:"space-y-6 max-w-xl",children:[p.jsxs("div",{className:"bg-dark-950/50 border border-white/5 rounded-xl p-6",children:[p.jsxs("h3",{className:"text-lg font-medium text-white mb-2 flex items-center gap-2",children:[p.jsx(Vf,{size:18,className:"text-vital-500"}),"Password"]}),p.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["We'll send a password reset link to ",p.jsx("span",{className:"text-white font-mono",children:t==null?void 0:t.email}),"."]}),p.jsx("button",{onClick:C,disabled:s,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg font-medium transition-colors border border-white/10 hover:border-white/20",children:"Send Reset Link"})]}),p.jsxs("div",{className:"bg-dark-950/50 border border-white/5 rounded-xl p-6 opacity-75",children:[p.jsxs("h3",{className:"text-lg font-medium text-white mb-2 flex items-center gap-2",children:[p.jsx(zs,{size:18,className:"text-gray-500"}),"Two-Factor Authentication"]}),p.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"2FA is currently managed via your Google Account settings since you signed in with Google."})]})]})]}),e==="system"&&p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-xl font-bold text-white mb-6 pb-4 border-b border-white/5",children:"System Configuration"}),b?p.jsx("div",{className:"text-gray-500",children:"Loading config..."}):p.jsxs("div",{className:"space-y-6 max-w-xl",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Site Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(ry,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),p.jsx("input",{type:"text",value:g.siteName,onChange:N=>v({...g,siteName:N.target.value}),className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 pl-10 pr-4 text-white focus:border-vital-500 focus:outline-none transition-colors"})]})]}),p.jsx("div",{className:"bg-amber-500/5 border border-amber-500/20 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[p.jsx(zs,{size:18,className:"text-amber-500"}),"Maintenance Mode"]}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"If enabled, non-admin users will see a maintenance page."})]}),p.jsx("button",{onClick:()=>v({...g,maintenanceMode:!g.maintenanceMode}),className:`relative w-12 h-6 rounded-full transition-colors ${g.maintenanceMode?"bg-amber-500":"bg-gray-700"}`,children:p.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform ${g.maintenanceMode?"translate-x-6":"translate-x-0"}`})})]})}),p.jsx("div",{className:"pt-4",children:p.jsxs("button",{onClick:V,disabled:s,className:"px-6 py-3 bg-vital-500/10 text-vital-400 rounded-xl border border-vital-500/20 hover:bg-vital-500/20 hover:border-vital-500/30 transition-all shadow-lg shadow-vital-500/5 font-bold hover:scale-[1.02] active:scale-95 disabled:opacity-50 disabled:pointer-events-none flex items-center gap-2",children:[s?p.jsx(jf,{size:18,className:"animate-spin"}):p.jsx(Tl,{size:18}),"Save Configuration"]})})]})]}),p.jsxs("div",{className:`fixed bottom-8 right-8 bg-emerald-500 text-white px-4 py-3 rounded-xl shadow-2xl flex items-center gap-2 transition-all duration-300 ${l?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[p.jsx(zs,{size:18}),p.jsx("span",{className:"font-bold",children:l})]})]},e)})]})]})};function zB(){return p.jsx(FO,{children:p.jsx(pI,{children:p.jsxs(G4,{children:[p.jsx(Ir,{path:"/",element:p.jsx(IB,{})}),p.jsxs(Ir,{path:"/admin",element:p.jsx(DB,{}),children:[p.jsx(Ir,{index:!0,element:p.jsx(MB,{})}),p.jsx(Ir,{path:"staff",element:p.jsx(OB,{})}),p.jsx(Ir,{path:"users",element:p.jsx(PB,{})}),p.jsx(Ir,{path:"gallery",element:p.jsx(LB,{})}),p.jsx(Ir,{path:"settings",element:p.jsx(UB,{})})]})]})})})}const iC=document.getElementById("root");if(!iC)throw new Error("Could not find root element to mount to");const BB=q5.createRoot(iC);BB.render(p.jsx(Pf.StrictMode,{children:p.jsx(zB,{})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function j2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var og={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function y5(){if(fx)return jc;fx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return jc.Fragment=e,jc.jsx=n,jc.jsxs=n,jc}var dx;function v5(){return dx||(dx=1,og.exports=y5()),og.exports}var y=v5(),lg={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function _5(){if(mx)return Ae;mx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,C={};function P(B,se,ce){this.props=B,this.context=se,this.refs=C,this.updater=ce||I}P.prototype.isReactComponent={},P.prototype.setState=function(B,se){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,se,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function q(){}q.prototype=P.prototype;function D(B,se,ce){this.props=B,this.context=se,this.refs=C,this.updater=ce||I}var W=D.prototype=new q;W.constructor=D,V(W,P.prototype),W.isPureReactComponent=!0;var te=Array.isArray;function ae(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function k(B,se,ce){var fe=ce.ref;return{$$typeof:t,type:B,key:se,ref:fe!==void 0?fe:null,props:ce}}function L(B,se){return k(B.type,se,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function H(B){var se={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ce){return se[ce]})}var O=/\/+/g;function st(B,se){return typeof B=="object"&&B!==null&&B.key!=null?H(""+B.key):se.toString(36)}function gt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ae,ae):(B.status="pending",B.then(function(se){B.status==="pending"&&(B.status="fulfilled",B.value=se)},function(se){B.status==="pending"&&(B.status="rejected",B.reason=se)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function J(B,se,ce,fe,Ee){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var He=!1;if(B===null)He=!0;else switch(De){case"bigint":case"string":case"number":He=!0;break;case"object":switch(B.$$typeof){case t:case e:He=!0;break;case v:return He=B._init,J(He(B._payload),se,ce,fe,Ee)}}if(He)return Ee=Ee(B),He=fe===""?"."+st(B,0):fe,te(Ee)?(ce="",He!=null&&(ce=He.replace(O,"$&/")+"/"),J(Ee,se,ce,"",function(Qr){return Qr})):Ee!=null&&(U(Ee)&&(Ee=L(Ee,ce+(Ee.key==null||B&&B.key===Ee.key?"":(""+Ee.key).replace(O,"$&/")+"/")+He)),se.push(Ee)),1;He=0;var Ft=fe===""?".":fe+":";if(te(B))for(var ut=0;ut<B.length;ut++)fe=B[ut],De=Ft+st(fe,ut),He+=J(fe,se,ce,De,Ee);else if(ut=E(B),typeof ut=="function")for(B=ut.call(B),ut=0;!(fe=B.next()).done;)fe=fe.value,De=Ft+st(fe,ut++),He+=J(fe,se,ce,De,Ee);else if(De==="object"){if(typeof B.then=="function")return J(gt(B),se,ce,fe,Ee);throw se=String(B),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return He}function oe(B,se,ce){if(B==null)return B;var fe=[],Ee=0;return J(B,fe,"","",function(De){return se.call(ce,De,Ee++)}),fe}function de(B){if(B._status===-1){var se=B._result;se=se(),se.then(function(ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=ce)},function(ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=ce)}),B._status===-1&&(B._status=0,B._result=se)}if(B._status===1)return B._result.default;throw B._result}var Ie=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Oe={map:oe,forEach:function(B,se,ce){oe(B,function(){se.apply(this,arguments)},ce)},count:function(B){var se=0;return oe(B,function(){se++}),se},toArray:function(B){return oe(B,function(se){return se})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ae.Activity=_,Ae.Children=Oe,Ae.Component=P,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=D,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(B){return N.H.useMemoCache(B)}},Ae.cache=function(B){return function(){return B.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(B,se,ce){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var fe=V({},B.props),Ee=B.key;if(se!=null)for(De in se.key!==void 0&&(Ee=""+se.key),se)!R.call(se,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&se.ref===void 0||(fe[De]=se[De]);var De=arguments.length-2;if(De===1)fe.children=ce;else if(1<De){for(var He=Array(De),Ft=0;Ft<De;Ft++)He[Ft]=arguments[Ft+2];fe.children=He}return k(B.type,Ee,fe)},Ae.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ae.createElement=function(B,se,ce){var fe,Ee={},De=null;if(se!=null)for(fe in se.key!==void 0&&(De=""+se.key),se)R.call(se,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=se[fe]);var He=arguments.length-2;if(He===1)Ee.children=ce;else if(1<He){for(var Ft=Array(He),ut=0;ut<He;ut++)Ft[ut]=arguments[ut+2];Ee.children=Ft}if(B&&B.defaultProps)for(fe in He=B.defaultProps,He)Ee[fe]===void 0&&(Ee[fe]=He[fe]);return k(B,De,Ee)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(B){return{$$typeof:f,render:B}},Ae.isValidElement=U,Ae.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:de}},Ae.memo=function(B,se){return{$$typeof:p,type:B,compare:se===void 0?null:se}},Ae.startTransition=function(B){var se=N.T,ce={};N.T=ce;try{var fe=B(),Ee=N.S;Ee!==null&&Ee(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ae,Ie)}catch(De){Ie(De)}finally{se!==null&&ce.types!==null&&(se.types=ce.types),N.T=se}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(B){return N.H.use(B)},Ae.useActionState=function(B,se,ce){return N.H.useActionState(B,se,ce)},Ae.useCallback=function(B,se){return N.H.useCallback(B,se)},Ae.useContext=function(B){return N.H.useContext(B)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(B,se){return N.H.useDeferredValue(B,se)},Ae.useEffect=function(B,se){return N.H.useEffect(B,se)},Ae.useEffectEvent=function(B){return N.H.useEffectEvent(B)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(B,se,ce){return N.H.useImperativeHandle(B,se,ce)},Ae.useInsertionEffect=function(B,se){return N.H.useInsertionEffect(B,se)},Ae.useLayoutEffect=function(B,se){return N.H.useLayoutEffect(B,se)},Ae.useMemo=function(B,se){return N.H.useMemo(B,se)},Ae.useOptimistic=function(B,se){return N.H.useOptimistic(B,se)},Ae.useReducer=function(B,se,ce){return N.H.useReducer(B,se,ce)},Ae.useRef=function(B){return N.H.useRef(B)},Ae.useState=function(B){return N.H.useState(B)},Ae.useSyncExternalStore=function(B,se,ce){return N.H.useSyncExternalStore(B,se,ce)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.3",Ae}var px;function Q0(){return px||(px=1,lg.exports=_5()),lg.exports}var M=Q0();const X0=j2(M);var cg={exports:{}},Pc={},ug={exports:{}},hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function b5(){return gx||(gx=1,(function(t){function e(J,oe){var de=J.length;J.push(oe);e:for(;0<de;){var Ie=de-1>>>1,Oe=J[Ie];if(0<a(Oe,oe))J[Ie]=oe,J[de]=Oe,de=Ie;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var oe=J[0],de=J.pop();if(de!==oe){J[0]=de;e:for(var Ie=0,Oe=J.length,B=Oe>>>1;Ie<B;){var se=2*(Ie+1)-1,ce=J[se],fe=se+1,Ee=J[fe];if(0>a(ce,de))fe<Oe&&0>a(Ee,ce)?(J[Ie]=Ee,J[fe]=de,Ie=fe):(J[Ie]=ce,J[se]=de,Ie=se);else if(fe<Oe&&0>a(Ee,de))J[Ie]=Ee,J[fe]=de,Ie=fe;else break e}}return oe}function a(J,oe){var de=J.sortIndex-oe.sortIndex;return de!==0?de:J.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,_=null,x=3,E=!1,I=!1,V=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function W(J){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=J)s(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function te(J){if(V=!1,W(J),!I)if(n(m)!==null)I=!0,ae||(ae=!0,H());else{var oe=n(p);oe!==null&&gt(te,oe.startTime-J)}}var ae=!1,N=-1,R=5,k=-1;function L(){return C?!0:!(t.unstable_now()-k<R)}function U(){if(C=!1,ae){var J=t.unstable_now();k=J;var oe=!0;try{e:{I=!1,V&&(V=!1,q(N),N=-1),E=!0;var de=x;try{t:{for(W(J),_=n(m);_!==null&&!(_.expirationTime>J&&L());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,x=_.priorityLevel;var Oe=Ie(_.expirationTime<=J);if(J=t.unstable_now(),typeof Oe=="function"){_.callback=Oe,W(J),oe=!0;break t}_===n(m)&&s(m),W(J)}else s(m);_=n(m)}if(_!==null)oe=!0;else{var B=n(p);B!==null&&gt(te,B.startTime-J),oe=!1}}break e}finally{_=null,x=de,E=!1}oe=void 0}}finally{oe?H():ae=!1}}}var H;if(typeof D=="function")H=function(){D(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,st=O.port2;O.port1.onmessage=U,H=function(){st.postMessage(null)}}else H=function(){P(U,0)};function gt(J,oe){N=P(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var de=x;x=oe;try{return J()}finally{x=de}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=x;x=J;try{return oe()}finally{x=de}},t.unstable_scheduleCallback=function(J,oe,de){var Ie=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,J){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=de+Oe,J={id:v++,callback:oe,priorityLevel:J,startTime:de,expirationTime:Oe,sortIndex:-1},de>Ie?(J.sortIndex=de,e(p,J),n(m)===null&&J===n(p)&&(V?(q(N),N=-1):V=!0,gt(te,de-Ie))):(J.sortIndex=Oe,e(m,J),I||E||(I=!0,ae||(ae=!0,H()))),J},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(J){var oe=x;return function(){var de=x;x=oe;try{return J.apply(this,arguments)}finally{x=de}}}})(hg)),hg}var yx;function x5(){return yx||(yx=1,ug.exports=b5()),ug.exports}var fg={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function w5(){if(vx)return cn;vx=1;var t=Q0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},cn.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},cn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},cn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},cn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:E}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:x,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},cn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},cn.requestFormReset=function(m){s.d.r(m)},cn.unstable_batchedUpdates=function(m,p){return m(p)},cn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var _x;function T5(){if(_x)return fg.exports;_x=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=w5(),fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function E5(){if(bx)return Pc;bx=1;var t=x5(),e=Q0(),n=T5();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var w=!1,S=d.child;S;){if(S===o){w=!0,o=d,u=g;break}if(S===u){w=!0,u=d,o=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===o){w=!0,o=g,u=d;break}if(S===u){w=!0,u=g,o=d;break}S=S.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),D=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case te:return"Suspense";case ae:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case D:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:st(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return st(i(r))}catch{}}return null}var gt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],Oe=-1;function B(i){return{current:i}}function se(i){0>Oe||(i.current=Ie[Oe],Ie[Oe]=null,Oe--)}function ce(i,r){Oe++,Ie[Oe]=i.current,i.current=r}var fe=B(null),Ee=B(null),De=B(null),He=B(null);function Ft(i,r){switch(ce(De,r),ce(Ee,i),ce(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ob(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ob(r),i=jb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(fe),ce(fe,i)}function ut(){se(fe),se(Ee),se(De)}function Qr(i){i.memoizedState!==null&&ce(He,i);var r=fe.current,o=jb(r,i.type);r!==o&&(ce(Ee,i),ce(fe,o))}function eo(i){Ee.current===i&&(se(fe),se(Ee)),He.current===i&&(se(He),Mc._currentValue=de)}var to,no;function Ii(i){if(to===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);to=r&&r[1]||"",no=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+i+no}var Ml=!1;function Xr(i,r){if(!i||Ml)return"";Ml=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Y=X}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(X){Y=X}i.call(ie.prototype)}}else{try{throw Error()}catch(X){Y=X}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var j=w.split(`
`),K=S.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===K.length)for(u=j.length-1,d=K.length-1;1<=u&&0<=d&&j[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==K[d]){var Z=`
`+j[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Ml=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ii(o):""}function kl(i,r){switch(i.tag){case 26:case 27:case 5:return Ii(i.type);case 16:return Ii("Lazy");case 13:return i.child!==r&&r!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Xr(i.type,!1);case 11:return Xr(i.type.render,!1);case 1:return Xr(i.type,!0);case 31:return Ii("Activity");default:return""}}function Vl(i){try{var r="",o=null;do r+=kl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Nt=Object.prototype.hasOwnProperty,Ht=t.unstable_scheduleCallback,qs=t.unstable_cancelCallback,cm=t.unstable_shouldYield,Fu=t.unstable_requestPaint,mn=t.unstable_now,Wr=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,jl=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,um=t.unstable_LowPriority,Hu=t.unstable_IdlePriority,qu=t.log,Gu=t.unstable_setDisableYieldValue,ci=null,Jt=null;function Hn(i){if(typeof qu=="function"&&Gu(i),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ci,i)}catch{}}var Et=Math.clz32?Math.clz32:Ku,$u=Math.log,io=Math.LN2;function Ku(i){return i>>>=0,i===0?32:31-($u(i)/io|0)|0}var Di=256,Zr=262144,It=4194304;function Mi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ki(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Mi(u):(w&=S,w!==0?d=Mi(w):o||(o=S&~i,o!==0&&(d=Mi(o))))):(S=u&~g,S!==0?d=Mi(S):w!==0?d=Mi(w):o||(o=u&~i,o!==0&&(d=Mi(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function hm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yu(){var i=It;return It<<=1,(It&62914560)===0&&(It=4194304),i}function Vi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Jr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fm(i,r,o,u,d,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,j=i.expirationTimes,K=i.hiddenUpdates;for(o=w&~o;0<o;){var Z=31-Et(o),ie=1<<Z;S[Z]=0,j[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~ie}u!==0&&ea(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~r))}function ea(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Et(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Pl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Et(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Ll(i,r){var o=r&-r;return o=(o&42)!==0?1:ta(o),(o&(i.suspendedLanes|r))!==0?0:o}function ta(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Qu(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:rx(i.type))}function hi(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var fi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+fi,Kt="__reactProps$"+fi,Oi="__reactContainer$"+fi,so="__reactEvents$"+fi,dm="__reactListeners$"+fi,Xu="__reactHandles$"+fi,Wu="__reactResources$"+fi,ji="__reactMarker$"+fi;function ro(i){delete i[Dt],delete i[Kt],delete i[so],delete i[dm],delete i[Xu]}function Pi(i){var r=i[Dt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Oi]||o[Dt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Hb(i);i!==null;){if(o=i[Dt])return o;i=Hb(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[Dt]||i[Oi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Dn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Li(i){var r=i[Wu];return r||(r=i[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Mt(i){i[ji]=!0}var Ul=new Set,zl={};function Ui(i,r){zi(i,r),zi(i+"Capture",r)}function zi(i,r){for(zl[i]=r,i=0;i<r.length;i++)Ul.add(r[i])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Hl={};function Zu(i){return Nt.call(Hl,i)?!0:Nt.call(Fl,i)?!1:Bl.test(i)?Hl[i]=!0:(Fl[i]=!0,!1)}function ao(i,r,o){if(Zu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Mn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function kt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Yt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $s(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ql(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function We(i){if(!i._valueTracker){var r=$s(i)?"checked":"value";i._valueTracker=ql(i,r,""+i[r])}}function na(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=$s(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ia=/[\n"\\]/g;function _n(i){return i.replace(ia,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function oo(i,r,o,u,d,g,w,S){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Yt(r)):i.value!==""+Yt(r)&&(i.value=""+Yt(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?Gl(i,w,Yt(r)):o!=null?Gl(i,w,Yt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Yt(S):i.removeAttribute("name")}function Ju(i,r,o,u,d,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){We(i);return}o=o!=null?""+Yt(o):"",r=r!=null?""+Yt(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),We(i)}function Gl(i,r,o){r==="number"&&Bi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ks(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Yt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function eh(i,r,o){if(r!=null&&(r=""+Yt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Yt(o):""}function Ys(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(gt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Yt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),We(i)}function bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||th.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Kl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&$l(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&$l(i,g,r[g])}function lo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(i){return Qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Yl=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,Fi=null;function sa(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[Kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(oo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Kt]||null;if(!d)throw Error(s(90));oo(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&na(u)}break e;case"textarea":eh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ks(i,!!o.multiple,r,!1)}}}var uo=!1;function Ws(i,r,o){if(uo)return i(r,o);uo=!0;try{var u=i(r);return u}finally{if(uo=!1,(Xs!==null||Fi!==null)&&(Qh(),Xs&&(r=Xs,i=Fi,Fi=Xs=null,sa(r),i)))for(r=0;r<i.length;r++)sa(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Kt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if($n)try{var et={};Object.defineProperty(et,"passive",{get:function(){ra=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{ra=!1}var Hi=null,Ql=null,aa=null;function Xl(){if(aa)return aa;var i,r=Ql,o=r.length,u,d="value"in Hi?Hi.value:Hi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var w=o-i;for(u=1;u<=w&&r[o-u]===d[g-u];u++);return aa=d.slice(i,1<u?1-u:void 0)}function oa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ds(){return!0}function pi(){return!1}function en(i){function r(o,u,d,g,w){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ds:pi,this.isPropagationStopped=pi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),r}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=en(ms),Zs=_({},ms,{view:0,detail:0}),Wl=en(Zs),Js,ho,Gi,fo=_({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(Js=i.screenX-Gi.screenX,ho=i.screenY-Gi.screenY):ho=Js=0,Gi=i),Js)},movementY:function(i){return"movementY"in i?i.movementY:ho}}),Zl=en(fo),la=_({},fo,{dataTransfer:0}),ih=en(la),sh=_({},Zs,{relatedTarget:0}),ca=en(sh),Jl=_({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=en(Jl),mo=_({},ms,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ah=en(mo),oh=_({},ms,{data:0}),$i=en(oh),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=uh[i])?!!r[i]:!1}function er(){return hh}var pn=_({},Zs,{key:function(i){if(i.key){var r=lh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fh=en(pn),dh=_({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ps=en(dh),h=_({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),b=en(h),T=_({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=en(T),G=_({},fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=en(G),le=_({},ms,{newState:0,oldState:0}),Ce=en(le),St=[9,13,27,32],Ke=$n&&"CompositionEvent"in window,ht=null;$n&&"documentMode"in document&&(ht=document.documentMode);var Kn=$n&&"TextEvent"in window&&!ht,Ki=$n&&(!Ke||ht&&8<ht&&11>=ht),gi=" ",yi=!1;function ua(i,r){switch(i){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var go=!1;function BC(i,r){switch(i){case"compositionend":return po(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function FC(i,r){if(go)return i==="compositionend"||!Ke&&ua(i,r)?(i=Xl(),aa=Ql=Hi=null,go=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ki&&r.locale!=="ko"?null:r.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!HC[i.type]:r==="textarea"}function Kv(i,r,o,u){Xs?Fi?Fi.push(u):Fi=[u]:Xs=u,r=nf(r,"onChange"),0<r.length&&(o=new qi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ec=null,tc=null;function qC(i){Nb(i,0)}function mh(i){var r=Dn(i);if(na(r))return i}function Yv(i,r){if(i==="change")return r}var Qv=!1;if($n){var mm;if($n){var pm="oninput"in document;if(!pm){var Xv=document.createElement("div");Xv.setAttribute("oninput","return;"),pm=typeof Xv.oninput=="function"}mm=pm}else mm=!1;Qv=mm&&(!document.documentMode||9<document.documentMode)}function Wv(){ec&&(ec.detachEvent("onpropertychange",Zv),tc=ec=null)}function Zv(i){if(i.propertyName==="value"&&mh(tc)){var r=[];Kv(r,tc,i,Gn(i)),Ws(qC,r)}}function GC(i,r,o){i==="focusin"?(Wv(),ec=r,tc=o,ec.attachEvent("onpropertychange",Zv)):i==="focusout"&&Wv()}function $C(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mh(tc)}function KC(i,r){if(i==="click")return mh(r)}function YC(i,r){if(i==="input"||i==="change")return mh(r)}function QC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:QC;function nc(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Nt.call(r,d)||!kn(i[d],r[d]))return!1}return!0}function Jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function e1(i,r){var o=Jv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jv(o)}}function t1(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?t1(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function n1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Bi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Bi(i.document)}return r}function gm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var XC=$n&&"documentMode"in document&&11>=document.documentMode,yo=null,ym=null,ic=null,vm=!1;function i1(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vm||yo==null||yo!==Bi(u)||(u=yo,"selectionStart"in u&&gm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ic&&nc(ic,u)||(ic=u,u=nf(ym,"onSelect"),0<u.length&&(r=new qi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=yo)))}function ha(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var vo={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},_m={},s1={};$n&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function fa(i){if(_m[i])return _m[i];if(!vo[i])return i;var r=vo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in s1)return _m[i]=r[o];return i}var r1=fa("animationend"),a1=fa("animationiteration"),o1=fa("animationstart"),WC=fa("transitionrun"),ZC=fa("transitionstart"),JC=fa("transitioncancel"),l1=fa("transitionend"),c1=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function vi(i,r){c1.set(i,r),Ui(r,[i])}var ph=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yn=[],_o=0,xm=0;function gh(){for(var i=_o,r=xm=_o=0;r<i;){var o=Yn[r];Yn[r++]=null;var u=Yn[r];Yn[r++]=null;var d=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,u!==null&&d!==null){var w=u.pending;w===null?d.next=d:(d.next=w.next,w.next=d),u.pending=d}g!==0&&u1(o,d,g)}}function yh(i,r,o,u){Yn[_o++]=i,Yn[_o++]=r,Yn[_o++]=o,Yn[_o++]=u,xm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function wm(i,r,o,u){return yh(i,r,o,u),vh(i)}function da(i,r){return yh(i,null,null,r),vh(i)}function u1(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Et(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function vh(i){if(50<Sc)throw Sc=0,Dp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var bo={};function eN(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,r,o,u){return new eN(i,r,o,u)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gs(i,r){var o=i.alternate;return o===null?(o=Vn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function h1(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _h(i,r,o,u,d,g){var w=0;if(u=i,typeof i=="function")Tm(i)&&(w=1);else if(typeof i=="string")w=r5(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Vn(31,o,r,d),i.elementType=k,i.lanes=g,i;case V:return ma(o.children,d,g,r);case C:w=8,d|=24;break;case P:return i=Vn(12,o,r,d|2),i.elementType=P,i.lanes=g,i;case te:return i=Vn(13,o,r,d),i.elementType=te,i.lanes=g,i;case ae:return i=Vn(19,o,r,d),i.elementType=ae,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:w=10;break e;case q:w=9;break e;case W:w=11;break e;case N:w=14;break e;case R:w=16,u=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Vn(w,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ma(i,r,o,u){return i=Vn(7,i,u,r),i.lanes=o,i}function Em(i,r,o){return i=Vn(6,i,null,r),i.lanes=o,i}function f1(i){var r=Vn(18,null,null,0);return r.stateNode=i,r}function Sm(i,r,o){return r=Vn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var d1=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=d1.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Vl(r)},d1.set(i,r),r)}return{value:i,source:r,stack:Vl(r)}}var xo=[],wo=0,bh=null,sc=0,Xn=[],Wn=0,tr=null,Yi=1,Qi="";function ys(i,r){xo[wo++]=sc,xo[wo++]=bh,bh=i,sc=r}function m1(i,r,o){Xn[Wn++]=Yi,Xn[Wn++]=Qi,Xn[Wn++]=tr,tr=i;var u=Yi;i=Qi;var d=32-Et(u)-1;u&=~(1<<d),o+=1;var g=32-Et(r)+d;if(30<g){var w=d-d%5;g=(u&(1<<w)-1).toString(32),u>>=w,d-=w,Yi=1<<32-Et(r)+d|o<<d|u,Qi=g+i}else Yi=1<<g|o<<d|u,Qi=i}function Am(i){i.return!==null&&(ys(i,1),m1(i,1,0))}function Rm(i){for(;i===bh;)bh=xo[--wo],xo[wo]=null,sc=xo[--wo],xo[wo]=null;for(;i===tr;)tr=Xn[--Wn],Xn[Wn]=null,Qi=Xn[--Wn],Xn[Wn]=null,Yi=Xn[--Wn],Xn[Wn]=null}function p1(i,r){Xn[Wn++]=Yi,Xn[Wn++]=Qi,Xn[Wn++]=tr,Yi=r.id,Qi=r.overflow,tr=i}var tn=null,ot=null,Be=!1,nr=null,Zn=!1,Cm=Error(s(519));function ir(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rc(Qn(r,i)),Cm}function g1(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Dt]=i,r[Kt]=u,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<Rc.length;o++)Ve(Rc[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),Ju(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Ys(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||kb(r.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),u.onScroll!=null&&Ve("scroll",r),u.onScrollEnd!=null&&Ve("scrollend",r),u.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||ir(i,!0)}function y1(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:tn=tn.return}}function To(i){if(i!==tn)return!1;if(!Be)return y1(i),Be=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||$p(i.type,i.memoizedProps)),o=!o),o&&ot&&ir(i),y1(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Fb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Fb(i)}else r===27?(r=ot,yr(i.type)?(i=Wp,Wp=null,ot=i):ot=r):ot=tn?ei(i.stateNode.nextSibling):null;return!0}function pa(){ot=tn=null,Be=!1}function Nm(){var i=nr;return i!==null&&(En===null?En=i:En.push.apply(En,i),nr=null),i}function rc(i){nr===null?nr=[i]:nr.push(i)}var Im=B(null),ga=null,vs=null;function sr(i,r,o){ce(Im,r._currentValue),r._currentValue=o}function _s(i){i._currentValue=Im.current,se(Im)}function Dm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Mm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var j=0;j<r.length;j++)if(S.context===r[j]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Dm(g.return,o,i),u||(w=null);break e}g=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Dm(w,o,i),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===i){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Eo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var S=d.type;kn(d.pendingProps.value,w.value)||(i!==null?i.push(S):i=[S])}}else if(d===He.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Mc):i=[Mc])}d=d.return}i!==null&&Mm(r,i,o,u),r.flags|=262144}function xh(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ya(i){ga=i,vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return v1(ga,i)}function wh(i,r){return ga===null&&ya(i),v1(i,r)}function v1(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},vs===null){if(i===null)throw Error(s(308));vs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else vs=vs.next=r;return o}var tN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},nN=t.unstable_scheduleCallback,iN=t.unstable_NormalPriority,Vt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new tN,data:new Map,refCount:0}}function ac(i){i.refCount--,i.refCount===0&&nN(iN,function(){i.controller.abort()})}var oc=null,Vm=0,So=0,Ao=null;function sN(i,r){if(oc===null){var o=oc=[];Vm=0,So=Pp(),Ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Vm++,r.then(_1,_1),r}function _1(){if(--Vm===0&&oc!==null){Ao!==null&&(Ao.status="fulfilled");var i=oc;oc=null,So=0,Ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function rN(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var b1=J.S;J.S=function(i,r){ib=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&sN(i,r),b1!==null&&b1(i,r)};var va=B(null);function Om(){var i=va.current;return i!==null?i:rt.pooledCache}function Th(i,r){r===null?ce(va,va.current):ce(va,r.pool)}function x1(){var i=Om();return i===null?null:{parent:Vt._currentValue,pool:i}}var Ro=Error(s(460)),jm=Error(s(474)),Eh=Error(s(542)),Sh={then:function(){}};function w1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function T1(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,S1(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,S1(i),i}throw ba=r,Ro}}function _a(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ba=o,Ro):o}}var ba=null;function E1(){if(ba===null)throw Error(s(459));var i=ba;return ba=null,i}function S1(i){if(i===Ro||i===Eh)throw Error(s(483))}var Co=null,lc=0;function Ah(i){var r=lc;return lc+=1,Co===null&&(Co=[]),T1(Co,i,r)}function cc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Rh(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function A1(i){function r(F,z){if(i){var $=F.deletions;$===null?(F.deletions=[z],F.flags|=16):$.push(z)}}function o(F,z){if(!i)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function d(F,z){return F=gs(F,z),F.index=0,F.sibling=null,F}function g(F,z,$){return F.index=$,i?($=F.alternate,$!==null?($=$.index,$<z?(F.flags|=67108866,z):$):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function w(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function S(F,z,$,ee){return z===null||z.tag!==6?(z=Em($,F.mode,ee),z.return=F,z):(z=d(z,$),z.return=F,z)}function j(F,z,$,ee){var ve=$.type;return ve===V?Z(F,z,$.props.children,ee,$.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&_a(ve)===z.type)?(z=d(z,$.props),cc(z,$),z.return=F,z):(z=_h($.type,$.key,$.props,null,F.mode,ee),cc(z,$),z.return=F,z)}function K(F,z,$,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Sm($,F.mode,ee),z.return=F,z):(z=d(z,$.children||[]),z.return=F,z)}function Z(F,z,$,ee,ve){return z===null||z.tag!==7?(z=ma($,F.mode,ee,ve),z.return=F,z):(z=d(z,$),z.return=F,z)}function ie(F,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Em(""+z,F.mode,$),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return $=_h(z.type,z.key,z.props,null,F.mode,$),cc($,z),$.return=F,$;case I:return z=Sm(z,F.mode,$),z.return=F,z;case R:return z=_a(z),ie(F,z,$)}if(gt(z)||H(z))return z=ma(z,F.mode,$,null),z.return=F,z;if(typeof z.then=="function")return ie(F,Ah(z),$);if(z.$$typeof===D)return ie(F,wh(F,z),$);Rh(F,z)}return null}function Y(F,z,$,ee){var ve=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:S(F,z,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return $.key===ve?j(F,z,$,ee):null;case I:return $.key===ve?K(F,z,$,ee):null;case R:return $=_a($),Y(F,z,$,ee)}if(gt($)||H($))return ve!==null?null:Z(F,z,$,ee,null);if(typeof $.then=="function")return Y(F,z,Ah($),ee);if($.$$typeof===D)return Y(F,z,wh(F,$),ee);Rh(F,$)}return null}function X(F,z,$,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get($)||null,S(z,F,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return F=F.get(ee.key===null?$:ee.key)||null,j(z,F,ee,ve);case I:return F=F.get(ee.key===null?$:ee.key)||null,K(z,F,ee,ve);case R:return ee=_a(ee),X(F,z,$,ee,ve)}if(gt(ee)||H(ee))return F=F.get($)||null,Z(z,F,ee,ve,null);if(typeof ee.then=="function")return X(F,z,$,Ah(ee),ve);if(ee.$$typeof===D)return X(F,z,$,wh(z,ee),ve);Rh(z,ee)}return null}function me(F,z,$,ee){for(var ve=null,Ge=null,pe=z,Me=z=0,Pe=null;pe!==null&&Me<$.length;Me++){pe.index>Me?(Pe=pe,pe=null):Pe=pe.sibling;var $e=Y(F,pe,$[Me],ee);if($e===null){pe===null&&(pe=Pe);break}i&&pe&&$e.alternate===null&&r(F,pe),z=g($e,z,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e,pe=Pe}if(Me===$.length)return o(F,pe),Be&&ys(F,Me),ve;if(pe===null){for(;Me<$.length;Me++)pe=ie(F,$[Me],ee),pe!==null&&(z=g(pe,z,Me),Ge===null?ve=pe:Ge.sibling=pe,Ge=pe);return Be&&ys(F,Me),ve}for(pe=u(pe);Me<$.length;Me++)Pe=X(pe,F,Me,$[Me],ee),Pe!==null&&(i&&Pe.alternate!==null&&pe.delete(Pe.key===null?Me:Pe.key),z=g(Pe,z,Me),Ge===null?ve=Pe:Ge.sibling=Pe,Ge=Pe);return i&&pe.forEach(function(wr){return r(F,wr)}),Be&&ys(F,Me),ve}function be(F,z,$,ee){if($==null)throw Error(s(151));for(var ve=null,Ge=null,pe=z,Me=z=0,Pe=null,$e=$.next();pe!==null&&!$e.done;Me++,$e=$.next()){pe.index>Me?(Pe=pe,pe=null):Pe=pe.sibling;var wr=Y(F,pe,$e.value,ee);if(wr===null){pe===null&&(pe=Pe);break}i&&pe&&wr.alternate===null&&r(F,pe),z=g(wr,z,Me),Ge===null?ve=wr:Ge.sibling=wr,Ge=wr,pe=Pe}if($e.done)return o(F,pe),Be&&ys(F,Me),ve;if(pe===null){for(;!$e.done;Me++,$e=$.next())$e=ie(F,$e.value,ee),$e!==null&&(z=g($e,z,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return Be&&ys(F,Me),ve}for(pe=u(pe);!$e.done;Me++,$e=$.next())$e=X(pe,F,Me,$e.value,ee),$e!==null&&(i&&$e.alternate!==null&&pe.delete($e.key===null?Me:$e.key),z=g($e,z,Me),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return i&&pe.forEach(function(g5){return r(F,g5)}),Be&&ys(F,Me),ve}function it(F,z,$,ee){if(typeof $=="object"&&$!==null&&$.type===V&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case E:e:{for(var ve=$.key;z!==null;){if(z.key===ve){if(ve=$.type,ve===V){if(z.tag===7){o(F,z.sibling),ee=d(z,$.props.children),ee.return=F,F=ee;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&_a(ve)===z.type){o(F,z.sibling),ee=d(z,$.props),cc(ee,$),ee.return=F,F=ee;break e}o(F,z);break}else r(F,z);z=z.sibling}$.type===V?(ee=ma($.props.children,F.mode,ee,$.key),ee.return=F,F=ee):(ee=_h($.type,$.key,$.props,null,F.mode,ee),cc(ee,$),ee.return=F,F=ee)}return w(F);case I:e:{for(ve=$.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(F,z.sibling),ee=d(z,$.children||[]),ee.return=F,F=ee;break e}else{o(F,z);break}else r(F,z);z=z.sibling}ee=Sm($,F.mode,ee),ee.return=F,F=ee}return w(F);case R:return $=_a($),it(F,z,$,ee)}if(gt($))return me(F,z,$,ee);if(H($)){if(ve=H($),typeof ve!="function")throw Error(s(150));return $=ve.call($),be(F,z,$,ee)}if(typeof $.then=="function")return it(F,z,Ah($),ee);if($.$$typeof===D)return it(F,z,wh(F,$),ee);Rh(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(F,z.sibling),ee=d(z,$),ee.return=F,F=ee):(o(F,z),ee=Em($,F.mode,ee),ee.return=F,F=ee),w(F)):o(F,z)}return function(F,z,$,ee){try{lc=0;var ve=it(F,z,$,ee);return Co=null,ve}catch(pe){if(pe===Ro||pe===Eh)throw pe;var Ge=Vn(29,pe,null,F.mode);return Ge.lanes=ee,Ge.return=F,Ge}finally{}}}var xa=A1(!0),R1=A1(!1),rr=!1;function Pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function or(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=vh(i),u1(i,null,o),r}return yh(i,u,r,o),vh(i)}function uc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Pl(i,o)}}function Um(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var zm=!1;function hc(){if(zm){var i=Ao;if(i!==null)throw i}}function fc(i,r,o,u){zm=!1;var d=i.updateQueue;rr=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var j=S,K=j.next;j.next=null,w===null?g=K:w.next=K,w=j;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==w&&(S===null?Z.firstBaseUpdate=K:S.next=K,Z.lastBaseUpdate=j))}if(g!==null){var ie=d.baseState;w=0,Z=K=j=null,S=g;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(je&Y)===Y:(u&Y)===Y){Y!==0&&Y===So&&(zm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,be=S;Y=r;var it=o;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){ie=me.call(it,ie,Y);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,Y=typeof me=="function"?me.call(it,ie,Y):me,Y==null)break e;ie=_({},ie,Y);break e;case 2:rr=!0}}Y=S.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(K=Z=X,j=ie):Z=Z.next=X,w|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;X=S,S=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(j=ie),d.baseState=j,d.firstBaseUpdate=K,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),fr|=w,i.lanes=w,i.memoizedState=ie}}function C1(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function N1(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)C1(o[i],r)}var No=B(null),Ch=B(0);function I1(i,r){i=Cs,ce(Ch,i),ce(No,r),Cs=i|r.baseLanes}function Bm(){ce(Ch,Cs),ce(No,No.current)}function Fm(){Cs=Ch.current,se(No),se(Ch)}var On=B(null),Jn=null;function lr(i){var r=i.alternate;ce(At,At.current&1),ce(On,i),Jn===null&&(r===null||No.current!==null||r.memoizedState!==null)&&(Jn=i)}function Hm(i){ce(At,At.current),ce(On,i),Jn===null&&(Jn=i)}function D1(i){i.tag===22?(ce(At,At.current),ce(On,i),Jn===null&&(Jn=i)):cr()}function cr(){ce(At,At.current),ce(On,On.current)}function jn(i){se(On),Jn===i&&(Jn=null),se(At)}var At=B(0);function Nh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Qp(o)||Xp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var bs=0,Ne=null,tt=null,Ot=null,Ih=!1,Io=!1,wa=!1,Dh=0,dc=0,Do=null,aN=0;function yt(){throw Error(s(321))}function qm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function Gm(i,r,o,u,d,g){return bs=g,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?m_:ap,wa=!1,g=o(u,d),wa=!1,Io&&(g=k1(r,o,u,d)),M1(i),g}function M1(i){J.H=gc;var r=tt!==null&&tt.next!==null;if(bs=0,Ot=tt=Ne=null,Ih=!1,dc=0,Do=null,r)throw Error(s(300));i===null||jt||(i=i.dependencies,i!==null&&xh(i)&&(jt=!0))}function k1(i,r,o,u){Ne=i;var d=0;do{if(Io&&(Do=null),dc=0,Io=!1,25<=d)throw Error(s(301));if(d+=1,Ot=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=p_,g=r(o,u)}while(Io);return g}function oN(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?mc(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Ne.flags|=1024),r}function $m(){var i=Dh!==0;return Dh=0,i}function Km(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Ym(i){if(Ih){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ih=!1}bs=0,Ot=tt=Ne=null,Io=!1,dc=Dh=0,Do=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Rt(){if(tt===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=Ot===null?Ne.memoizedState:Ot.next;if(r!==null)Ot=r,tt=i;else{if(i===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Ne.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mc(i){var r=dc;return dc+=1,Do===null&&(Do=[]),i=T1(Do,i,r),r=Ne,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?m_:ap),i}function kh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return mc(i);if(i.$$typeof===D)return nn(i)}throw Error(s(438,String(i)))}function Qm(i){var r=null,o=Ne.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Mh(),Ne.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function xs(i,r){return typeof r=="function"?r(i):r}function Vh(i){var r=Rt();return Xm(r,tt,i)}function Xm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var S=w=null,j=null,K=r,Z=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(je&ie)===ie:(bs&ie)===ie){var Y=K.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===So&&(Z=!0);else if((bs&Y)===Y){K=K.next,Y===So&&(Z=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(S=j=ie,w=g):j=j.next=ie,Ne.lanes|=Y,fr|=Y;ie=K.action,wa&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else Y={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(S=j=Y,w=g):j=j.next=Y,Ne.lanes|=ie,fr|=ie;K=K.next}while(K!==null&&K!==r);if(j===null?w=g:j.next=S,!kn(g,i.memoizedState)&&(jt=!0,Z&&(o=Ao,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=j,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Wm(i){var r=Rt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do g=i(g,w.action),w=w.next;while(w!==d);kn(g,r.memoizedState)||(jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function V1(i,r,o){var u=Ne,d=Rt(),g=Be;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!kn((tt||d).memoizedState,o);if(w&&(d.memoizedState=o,jt=!0),d=d.queue,ep(P1.bind(null,u,d,i),[i]),d.getSnapshot!==r||w||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Mo(9,{destroy:void 0},j1.bind(null,u,d,o,r),null),rt===null)throw Error(s(349));g||(bs&127)!==0||O1(u,r,o)}return o}function O1(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ne.updateQueue,r===null?(r=Mh(),Ne.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function j1(i,r,o,u){r.value=o,r.getSnapshot=u,L1(r)&&U1(i)}function P1(i,r,o){return o(function(){L1(r)&&U1(i)})}function L1(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function U1(i){var r=da(i,2);r!==null&&Sn(r,i,2)}function Zm(i){var r=gn();if(typeof i=="function"){var o=i;if(i=o(),wa){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:i},r}function z1(i,r,o,u){return i.baseState=o,Xm(i,tt,typeof u=="function"?u:xs)}function lN(i,r,o,u,d){if(Ph(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,B1(r,g)):(g.next=o.next,r.pending=o.next=g)}}function B1(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=J.T,w={};J.T=w;try{var S=o(d,u),j=J.S;j!==null&&j(w,S),F1(i,r,S)}catch(K){Jm(i,r,K)}finally{g!==null&&w.types!==null&&(g.types=w.types),J.T=g}}else try{g=o(d,u),F1(i,r,g)}catch(K){Jm(i,r,K)}}function F1(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){H1(i,r,u)},function(u){return Jm(i,r,u)}):H1(i,r,o)}function H1(i,r,o){r.status="fulfilled",r.value=o,q1(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,B1(i,o)))}function Jm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,q1(r),r=r.next;while(r!==u)}i.action=null}function q1(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function G1(i,r){return r}function $1(i,r){if(Be){var o=rt.formState;if(o!==null){e:{var u=Ne;if(Be){if(ot){t:{for(var d=ot,g=Zn;d.nodeType!==8;){if(!g){d=null;break t}if(d=ei(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ot=ei(d.nextSibling),u=d.data==="F!";break e}}ir(u)}u=!1}u&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G1,lastRenderedState:r},o.queue=u,o=h_.bind(null,Ne,u),u.dispatch=o,u=Zm(!1),g=rp.bind(null,Ne,!1,u.queue),u=gn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=lN.bind(null,Ne,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function K1(i){var r=Rt();return Y1(r,tt,i)}function Y1(i,r,o){if(r=Xm(i,r,G1)[0],i=Vh(xs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=mc(r)}catch(w){throw w===Ro?Eh:w}else u=r;r=Rt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ne.flags|=2048,Mo(9,{destroy:void 0},cN.bind(null,d,o),null)),[u,g,i]}function cN(i,r){i.action=r}function Q1(i){var r=Rt(),o=tt;if(o!==null)return Y1(r,o,i);Rt(),r=r.memoizedState,o=Rt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Mo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Mh(),Ne.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function X1(){return Rt().memoizedState}function Oh(i,r,o,u){var d=gn();Ne.flags|=i,d.memoizedState=Mo(1|r,{destroy:void 0},o,u===void 0?null:u)}function jh(i,r,o,u){var d=Rt();u=u===void 0?null:u;var g=d.memoizedState.inst;tt!==null&&u!==null&&qm(u,tt.memoizedState.deps)?d.memoizedState=Mo(r,g,o,u):(Ne.flags|=i,d.memoizedState=Mo(1|r,g,o,u))}function W1(i,r){Oh(8390656,8,i,r)}function ep(i,r){jh(2048,8,i,r)}function uN(i){Ne.flags|=4;var r=Ne.updateQueue;if(r===null)r=Mh(),Ne.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Z1(i){var r=Rt().memoizedState;return uN({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function J1(i,r){return jh(4,2,i,r)}function e_(i,r){return jh(4,4,i,r)}function t_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function n_(i,r,o){o=o!=null?o.concat([i]):null,jh(4,4,t_.bind(null,r,i),o)}function tp(){}function i_(i,r){var o=Rt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&qm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function s_(i,r){var o=Rt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&qm(r,u[1]))return u[0];if(u=i(),wa){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u}function np(i,r,o){return o===void 0||(bs&1073741824)!==0&&(je&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=rb(),Ne.lanes|=i,fr|=i,o)}function r_(i,r,o,u){return kn(o,r)?o:No.current!==null?(i=np(i,o,u),kn(i,r)||(jt=!0),i):(bs&42)===0||(bs&1073741824)!==0&&(je&261930)===0?(jt=!0,i.memoizedState=o):(i=rb(),Ne.lanes|=i,fr|=i,r)}function a_(i,r,o,u,d){var g=oe.p;oe.p=g!==0&&8>g?g:8;var w=J.T,S={};J.T=S,rp(i,!1,r,o);try{var j=d(),K=J.S;if(K!==null&&K(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=rN(j,u);pc(i,r,Z,Un(i))}else pc(i,r,u,Un(i))}catch(ie){pc(i,r,{then:function(){},status:"rejected",reason:ie},Un())}finally{oe.p=g,w!==null&&S.types!==null&&(w.types=S.types),J.T=w}}function hN(){}function ip(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=o_(i).queue;a_(i,d,r,de,o===null?hN:function(){return l_(i),o(u)})}function o_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function l_(i){var r=o_(i);r.next===null&&(r=i.alternate.memoizedState),pc(i,r.next.queue,{},Un())}function sp(){return nn(Mc)}function c_(){return Rt().memoizedState}function u_(){return Rt().memoizedState}function fN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Un();i=ar(o);var u=or(r,i,o);u!==null&&(Sn(u,r,o),uc(u,r,o)),r={cache:km()},i.payload=r;return}r=r.return}}function dN(i,r,o){var u=Un();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ph(i)?f_(r,o):(o=wm(i,r,o,u),o!==null&&(Sn(o,i,u),d_(o,r,u)))}function h_(i,r,o){var u=Un();pc(i,r,o,u)}function pc(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ph(i))f_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,S=g(w,o);if(d.hasEagerState=!0,d.eagerState=S,kn(S,w))return yh(i,r,d,0),rt===null&&gh(),!1}catch{}finally{}if(o=wm(i,r,d,u),o!==null)return Sn(o,i,u),d_(o,r,u),!0}return!1}function rp(i,r,o,u){if(u={lane:2,revertLane:Pp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ph(i)){if(r)throw Error(s(479))}else r=wm(i,o,u,2),r!==null&&Sn(r,i,2)}function Ph(i){var r=i.alternate;return i===Ne||r!==null&&r===Ne}function f_(i,r){Io=Ih=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function d_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Pl(i,o)}}var gc={readContext:nn,use:kh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};gc.useEffectEvent=yt;var m_={readContext:nn,use:kh,useCallback:function(i,r){return gn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:W1,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Oh(4194308,4,t_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Oh(4194308,4,i,r)},useInsertionEffect:function(i,r){Oh(4,2,i,r)},useMemo:function(i,r){var o=gn();r=r===void 0?null:r;var u=i();if(wa){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=gn();if(o!==void 0){var d=o(r);if(wa){Hn(!0);try{o(r)}finally{Hn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=dN.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var r=gn();return i={current:i},r.memoizedState=i},useState:function(i){i=Zm(i);var r=i.queue,o=h_.bind(null,Ne,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:tp,useDeferredValue:function(i,r){var o=gn();return np(o,i,r)},useTransition:function(){var i=Zm(!1);return i=a_.bind(null,Ne,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ne,d=gn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),rt===null)throw Error(s(349));(je&127)!==0||O1(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,W1(P1.bind(null,u,g,i),[i]),u.flags|=2048,Mo(9,{destroy:void 0},j1.bind(null,u,g,o,r),null),o},useId:function(){var i=gn(),r=rt.identifierPrefix;if(Be){var o=Qi,u=Yi;o=(u&~(1<<32-Et(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Dh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=aN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:sp,useFormState:$1,useActionState:$1,useOptimistic:function(i){var r=gn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=rp.bind(null,Ne,!0,o),o.dispatch=r,[i,r]},useMemoCache:Qm,useCacheRefresh:function(){return gn().memoizedState=fN.bind(null,Ne)},useEffectEvent:function(i){var r=gn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},ap={readContext:nn,use:kh,useCallback:i_,useContext:nn,useEffect:ep,useImperativeHandle:n_,useInsertionEffect:J1,useLayoutEffect:e_,useMemo:s_,useReducer:Vh,useRef:X1,useState:function(){return Vh(xs)},useDebugValue:tp,useDeferredValue:function(i,r){var o=Rt();return r_(o,tt.memoizedState,i,r)},useTransition:function(){var i=Vh(xs)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:mc(i),r]},useSyncExternalStore:V1,useId:c_,useHostTransitionStatus:sp,useFormState:K1,useActionState:K1,useOptimistic:function(i,r){var o=Rt();return z1(o,tt,i,r)},useMemoCache:Qm,useCacheRefresh:u_};ap.useEffectEvent=Z1;var p_={readContext:nn,use:kh,useCallback:i_,useContext:nn,useEffect:ep,useImperativeHandle:n_,useInsertionEffect:J1,useLayoutEffect:e_,useMemo:s_,useReducer:Wm,useRef:X1,useState:function(){return Wm(xs)},useDebugValue:tp,useDeferredValue:function(i,r){var o=Rt();return tt===null?np(o,i,r):r_(o,tt.memoizedState,i,r)},useTransition:function(){var i=Wm(xs)[0],r=Rt().memoizedState;return[typeof i=="boolean"?i:mc(i),r]},useSyncExternalStore:V1,useId:c_,useHostTransitionStatus:sp,useFormState:Q1,useActionState:Q1,useOptimistic:function(i,r){var o=Rt();return tt!==null?z1(o,tt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Qm,useCacheRefresh:u_};p_.useEffectEvent=Z1;function op(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var lp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Un(),d=ar(u);d.payload=r,o!=null&&(d.callback=o),r=or(i,d,u),r!==null&&(Sn(r,i,u),uc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Un(),d=ar(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=or(i,d,u),r!==null&&(Sn(r,i,u),uc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Un(),u=ar(o);u.tag=2,r!=null&&(u.callback=r),r=or(i,u,o),r!==null&&(Sn(r,i,o),uc(r,i,o))}};function g_(i,r,o,u,d,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,w):r.prototype&&r.prototype.isPureReactComponent?!nc(o,u)||!nc(d,g):!0}function y_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&lp.enqueueReplaceState(r,r.state,null)}function Ta(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function v_(i){ph(i)}function __(i){console.error(i)}function b_(i){ph(i)}function Lh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function x_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function cp(i,r,o){return o=ar(o),o.tag=3,o.payload={element:null},o.callback=function(){Lh(i,r)},o}function w_(i){return i=ar(i),i.tag=3,i}function T_(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){x_(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){x_(r,o,u),typeof d!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function mN(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Eo(r,o,d,!0),o=On.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?Xh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Sh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Vp(i,u,d)),!1;case 22:return o.flags|=65536,u===Sh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Vp(i,u,d)),!1}throw Error(s(435,o.tag))}return Vp(i,u,d),Xh(),!1}if(Be)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Cm&&(i=Error(s(422),{cause:u}),rc(Qn(i,o)))):(u!==Cm&&(r=Error(s(423),{cause:u}),rc(Qn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Qn(u,o),d=cp(i.stateNode,u,d),Um(i,d),vt!==4&&(vt=2)),!1;var g=Error(s(520),{cause:u});if(g=Qn(g,o),Ec===null?Ec=[g]:Ec.push(g),vt!==4&&(vt=2),r===null)return!0;u=Qn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=cp(o.stateNode,u,i),Um(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=w_(d),T_(d,i,o,u),Um(o,d),!1}o=o.return}while(o!==null);return!1}var up=Error(s(461)),jt=!1;function sn(i,r,o,u){r.child=i===null?R1(r,null,o,u):xa(r,i.child,o,u)}function E_(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return ya(r),u=Gm(i,r,o,w,g,d),S=$m(),i!==null&&!jt?(Km(i,r,d),ws(i,r,d)):(Be&&S&&Am(r),r.flags|=1,sn(i,r,u,d),r.child)}function S_(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,A_(i,r,g,u,d)):(i=_h(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!vp(i,d)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:nc,o(w,u)&&i.ref===r.ref)return ws(i,r,d)}return r.flags|=1,i=gs(g,u),i.ref=r.ref,i.return=r,r.child=i}function A_(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(nc(g,u)&&i.ref===r.ref)if(jt=!1,r.pendingProps=u=g,vp(i,d))(i.flags&131072)!==0&&(jt=!0);else return r.lanes=i.lanes,ws(i,r,d)}return hp(i,r,o,u,d)}function R_(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return C_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Th(r,g!==null?g.cachePool:null),g!==null?I1(r,g):Bm(),D1(r);else return u=r.lanes=536870912,C_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Th(r,g.cachePool),I1(r,g),cr(),r.memoizedState=null):(i!==null&&Th(r,null),Bm(),cr());return sn(i,r,d,o),r.child}function yc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function C_(i,r,o,u,d){var g=Om();return g=g===null?null:{parent:Vt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Th(r,null),Bm(),D1(r),i!==null&&Eo(i,r,u,!0),r.childLanes=d,null}function Uh(i,r){return r=Bh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function N_(i,r,o){return xa(r,i.child,null,o),i=Uh(r,r.pendingProps),i.flags|=2,jn(r),r.memoizedState=null,i}function pN(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=Uh(r,u),r.lanes=536870912,yc(null,i);if(Hm(r),(i=ot)?(i=Bb(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=f1(i),o.return=r,r.child=o,tn=r,ot=null)):i=null,i===null)throw ir(r);return r.lanes=536870912,null}return Uh(r,u)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(Hm(r),d)if(r.flags&256)r.flags&=-257,r=N_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||Eo(i,r,o,!1),d=(o&i.childLanes)!==0,jt||d){if(u=rt,u!==null&&(w=Ll(u,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,da(i,w),Sn(u,i,w),up;Xh(),r=N_(i,r,o)}else i=g.treeContext,ot=ei(w.nextSibling),tn=r,Be=!0,nr=null,Zn=!1,i!==null&&p1(r,i),r=Uh(r,u),r.flags|=4096;return r}return i=gs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function zh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function hp(i,r,o,u,d){return ya(r),o=Gm(i,r,o,u,void 0,d),u=$m(),i!==null&&!jt?(Km(i,r,d),ws(i,r,d)):(Be&&u&&Am(r),r.flags|=1,sn(i,r,o,d),r.child)}function I_(i,r,o,u,d,g){return ya(r),r.updateQueue=null,o=k1(r,u,o,d),M1(i),u=$m(),i!==null&&!jt?(Km(i,r,g),ws(i,r,g)):(Be&&u&&Am(r),r.flags|=1,sn(i,r,o,g),r.child)}function D_(i,r,o,u,d){if(ya(r),r.stateNode===null){var g=bo,w=o.contextType;typeof w=="object"&&w!==null&&(g=nn(w)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=lp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Pm(r),w=o.contextType,g.context=typeof w=="object"&&w!==null?nn(w):bo,g.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(op(r,o,w,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&lp.enqueueReplaceState(g,g.state,null),fc(r,u,g,d),hc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,j=Ta(o,S);g.props=j;var K=g.context,Z=o.contextType;w=bo,typeof Z=="object"&&Z!==null&&(w=nn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==w)&&y_(r,g,u,w),rr=!1;var Y=r.memoizedState;g.state=Y,fc(r,u,g,d),hc(),K=r.memoizedState,S||Y!==K||rr?(typeof ie=="function"&&(op(r,o,ie,u),K=r.memoizedState),(j=rr||g_(r,o,j,u,Y,K,w))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=w,u=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Lm(i,r),w=r.memoizedProps,Z=Ta(o,w),g.props=Z,ie=r.pendingProps,Y=g.context,K=o.contextType,j=bo,typeof K=="object"&&K!==null&&(j=nn(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ie||Y!==j)&&y_(r,g,u,j),rr=!1,Y=r.memoizedState,g.state=Y,fc(r,u,g,d),hc();var X=r.memoizedState;w!==ie||Y!==X||rr||i!==null&&i.dependencies!==null&&xh(i.dependencies)?(typeof S=="function"&&(op(r,o,S,u),X=r.memoizedState),(Z=rr||g_(r,o,Z,u,Y,X,j)||i!==null&&i.dependencies!==null&&xh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=j,u=Z):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,zh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=xa(r,i.child,null,d),r.child=xa(r,null,o,d)):sn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ws(i,r,d),i}function M_(i,r,o,u){return pa(),r.flags|=256,sn(i,r,o,u),r.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(i){return{baseLanes:i,cachePool:x1()}}function mp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Ln),i}function k_(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(At.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Be){if(d?lr(r):cr(),(i=ot)?(i=Bb(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=f1(i),o.return=r,r.child=o,tn=r,ot=null)):i=null,i===null)throw ir(r);return Xp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(cr(),d=r.mode,S=Bh({mode:"hidden",children:S},d),u=ma(u,d,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=dp(o),u.childLanes=mp(i,w,o),r.memoizedState=fp,yc(null,u)):(lr(r),pp(r,S))}var j=i.memoizedState;if(j!==null&&(S=j.dehydrated,S!==null)){if(g)r.flags&256?(lr(r),r.flags&=-257,r=gp(i,r,o)):r.memoizedState!==null?(cr(),r.child=i.child,r.flags|=128,r=null):(cr(),S=u.fallback,d=r.mode,u=Bh({mode:"visible",children:u.children},d),S=ma(S,d,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,xa(r,i.child,null,o),u=r.child,u.memoizedState=dp(o),u.childLanes=mp(i,w,o),r.memoizedState=fp,r=yc(null,u));else if(lr(r),Xp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var K=w.dgst;w=K,u=Error(s(419)),u.stack="",u.digest=w,rc({value:u,source:null,stack:null}),r=gp(i,r,o)}else if(jt||Eo(i,r,o,!1),w=(o&i.childLanes)!==0,jt||w){if(w=rt,w!==null&&(u=Ll(w,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,da(i,u),Sn(w,i,u),up;Qp(S)||Xh(),r=gp(i,r,o)}else Qp(S)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,ot=ei(S.nextSibling),tn=r,Be=!0,nr=null,Zn=!1,i!==null&&p1(r,i),r=pp(r,u.children),r.flags|=4096);return r}return d?(cr(),S=u.fallback,d=r.mode,j=i.child,K=j.sibling,u=gs(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,K!==null?S=gs(K,S):(S=ma(S,d,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,yc(null,u),u=r.child,S=i.child.memoizedState,S===null?S=dp(o):(d=S.cachePool,d!==null?(j=Vt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=x1(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=mp(i,w,o),r.memoizedState=fp,yc(i.child,u)):(lr(r),o=i.child,i=o.sibling,o=gs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function pp(i,r){return r=Bh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Bh(i,r){return i=Vn(22,i,null,r),i.lanes=0,i}function gp(i,r,o){return xa(r,i.child,null,o),i=pp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function V_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Dm(i.return,r,o)}function yp(i,r,o,u,d,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=d,w.treeForkCount=g)}function O_(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var w=At.current,S=(w&2)!==0;if(S?(w=w&1|2,r.flags|=128):w&=1,ce(At,w),sn(i,r,u,o),u=Be?sc:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&V_(i,o,r);else if(i.tag===19)V_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Nh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),yp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Nh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}yp(r,!0,o,null,g,u);break;case"together":yp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ws(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),fr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Eo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=gs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=gs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function vp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&xh(i)))}function gN(i,r,o){switch(r.tag){case 3:Ft(r,r.stateNode.containerInfo),sr(r,Vt,i.memoizedState.cache),pa();break;case 27:case 5:Qr(r);break;case 4:Ft(r,r.stateNode.containerInfo);break;case 10:sr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Hm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(lr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?k_(i,r,o):(lr(r),i=ws(i,r,o),i!==null?i.sibling:null);lr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Eo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return O_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(At,At.current),u)break;return null;case 22:return r.lanes=0,R_(i,r,o,r.pendingProps);case 24:sr(r,Vt,i.memoizedState.cache)}return ws(i,r,o)}function j_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)jt=!0;else{if(!vp(i,o)&&(r.flags&128)===0)return jt=!1,gN(i,r,o);jt=(i.flags&131072)!==0}else jt=!1,Be&&(r.flags&1048576)!==0&&m1(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=_a(r.elementType),r.type=i,typeof i=="function")Tm(i)?(u=Ta(i,u),r.tag=1,r=D_(null,r,i,u,o)):(r.tag=0,r=hp(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===W){r.tag=11,r=E_(null,r,i,u,o);break e}else if(d===N){r.tag=14,r=S_(null,r,i,u,o);break e}}throw r=st(i)||i,Error(s(306,r,""))}}return r;case 0:return hp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Ta(u,r.pendingProps),D_(i,r,u,d,o);case 3:e:{if(Ft(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Lm(i,r),fc(r,u,null,o);var w=r.memoizedState;if(u=w.cache,sr(r,Vt,u),u!==g.cache&&Mm(r,[Vt],o,!0),hc(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=M_(i,r,u,o);break e}else if(u!==d){d=Qn(Error(s(424)),r),rc(d),r=M_(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=ei(i.firstChild),tn=r,Be=!0,nr=null,Zn=!0,o=R1(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(pa(),u===d){r=ws(i,r,o);break e}sn(i,r,u,o)}r=r.child}return r;case 26:return zh(i,r),i===null?(o=Kb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,i=r.pendingProps,u=sf(De.current).createElement(o),u[Dt]=r,u[Kt]=i,rn(u,o,i),Mt(u),r.stateNode=u):r.memoizedState=Kb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Qr(r),i===null&&Be&&(u=r.stateNode=qb(r.type,r.pendingProps,De.current),tn=r,Zn=!0,d=ot,yr(r.type)?(Wp=d,ot=ei(u.firstChild)):ot=d),sn(i,r,r.pendingProps.children,o),zh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Be&&((d=u=ot)&&(u=$N(u,r.type,r.pendingProps,Zn),u!==null?(r.stateNode=u,tn=r,ot=ei(u.firstChild),Zn=!1,d=!0):d=!1),d||ir(r)),Qr(r),d=r.type,g=r.pendingProps,w=i!==null?i.memoizedProps:null,u=g.children,$p(d,g)?u=null:w!==null&&$p(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=Gm(i,r,oN,null,null,o),Mc._currentValue=d),zh(i,r),sn(i,r,u,o),r.child;case 6:return i===null&&Be&&((i=o=ot)&&(o=KN(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,tn=r,ot=null,i=!0):i=!1),i||ir(r)),null;case 13:return k_(i,r,o);case 4:return Ft(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=xa(r,null,u,o):sn(i,r,u,o),r.child;case 11:return E_(i,r,r.type,r.pendingProps,o);case 7:return sn(i,r,r.pendingProps,o),r.child;case 8:return sn(i,r,r.pendingProps.children,o),r.child;case 12:return sn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,sr(r,r.type,u.value),sn(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ya(r),d=nn(d),u=u(d),r.flags|=1,sn(i,r,u,o),r.child;case 14:return S_(i,r,r.type,r.pendingProps,o);case 15:return A_(i,r,r.type,r.pendingProps,o);case 19:return O_(i,r,o);case 31:return pN(i,r,o);case 22:return R_(i,r,o,r.pendingProps);case 24:return ya(r),u=nn(Vt),i===null?(d=Om(),d===null&&(d=rt,g=km(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Pm(r),sr(r,Vt,d)):((i.lanes&o)!==0&&(Lm(i,r),fc(r,null,null,o),hc()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),sr(r,Vt,u)):(u=g.cache,sr(r,Vt,u),u!==d.cache&&Mm(r,[Vt],o,!0))),sn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ts(i){i.flags|=4}function _p(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(cb())i.flags|=8192;else throw ba=Sh,jm}else i.flags&=-16777217}function P_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Zb(r))if(cb())i.flags|=8192;else throw ba=Sh,jm}function Fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Yu():536870912,i.lanes|=r,jo|=r)}function vc(i,r){if(!Be)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function yN(i,r,o){var u=r.pendingProps;switch(Rm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),_s(Vt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(To(r)?Ts(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nm())),lt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Ts(r),g!==null?(lt(r),P_(r,g)):(lt(r),_p(r,d,null,u,o))):g?g!==i.memoizedState?(Ts(r),lt(r),P_(r,g)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ts(r),lt(r),_p(r,d,i,u,o)),null;case 27:if(eo(r),o=De.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ts(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=fe.current,To(r)?g1(r):(i=qb(d,u,o),r.stateNode=i,Ts(r))}return lt(r),null;case 5:if(eo(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ts(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(g=fe.current,To(r))g1(r);else{var w=sf(De.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?w.createElement(d,{is:u.is}):w.createElement(d)}}g[Dt]=r,g[Kt]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=g;e:switch(rn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ts(r)}}return lt(r),_p(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ts(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=De.current,To(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=tn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Dt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||kb(i.nodeValue,o)),i||ir(r,!0)}else i=sf(i).createTextNode(u),i[Dt]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=To(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Dt]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Nm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(jn(r),r):(jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=To(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Dt]=r}else pa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),d=!1}else d=Nm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(jn(r),r):(jn(r),null)}return jn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Fh(r,r.updateQueue),lt(r),null);case 4:return ut(),i===null&&Bp(r.stateNode.containerInfo),lt(r),null;case 10:return _s(r.type),lt(r),null;case 19:if(se(At),u=r.memoizedState,u===null)return lt(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)vc(u,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Nh(i),g!==null){for(r.flags|=128,vc(u,!1),i=g.updateQueue,r.updateQueue=i,Fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)h1(o,i),o=o.sibling;return ce(At,At.current&1|2),Be&&ys(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&mn()>Kh&&(r.flags|=128,d=!0,vc(u,!1),r.lanes=4194304)}else{if(!d)if(i=Nh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Fh(r,i),vc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Be)return lt(r),null}else 2*mn()-u.renderingStartTime>Kh&&o!==536870912&&(r.flags|=128,d=!0,vc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=mn(),i.sibling=null,o=At.current,ce(At,d?o&1|2:o&1),Be&&ys(r,u.treeForkCount),i):(lt(r),null);case 22:case 23:return jn(r),Fm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&Fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&se(va),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),_s(Vt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function vN(i,r){switch(Rm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return _s(Vt),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return eo(r),null;case 31:if(r.memoizedState!==null){if(jn(r),r.alternate===null)throw Error(s(340));pa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(jn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));pa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return se(At),null;case 4:return ut(),null;case 10:return _s(r.type),null;case 22:case 23:return jn(r),Fm(),i!==null&&se(va),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return _s(Vt),null;case 25:return null;default:return null}}function L_(i,r){switch(Rm(r),r.tag){case 3:_s(Vt),ut();break;case 26:case 27:case 5:eo(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&jn(r);break;case 13:jn(r);break;case 19:se(At);break;case 10:_s(r.type);break;case 22:case 23:jn(r),Fm(),i!==null&&se(va);break;case 24:_s(Vt)}}function _c(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==d)}}catch(S){Je(r,r.return,S)}}function ur(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=r;var j=o,K=S;try{K()}catch(Z){Je(d,j,Z)}}}u=u.next}while(u!==g)}}catch(Z){Je(r,r.return,Z)}}function U_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{N1(r,o)}catch(u){Je(i,i.return,u)}}}function z_(i,r,o){o.props=Ta(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,r,u)}}function bc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Je(i,r,d)}}function Xi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Je(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Je(i,r,d)}else o.current=null}function B_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Je(i,i.return,d)}}function bp(i,r,o){try{var u=i.stateNode;zN(u,i.type,o,r),u[Kt]=r}catch(d){Je(i,i.return,d)}}function F_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yr(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||F_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(u!==4&&(u===27&&yr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(wp(i,r,o),i=i.sibling;i!==null;)wp(i,r,o),i=i.sibling}function Hh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&yr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Hh(i,r,o),i=i.sibling;i!==null;)Hh(i,r,o),i=i.sibling}function H_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);rn(r,u,o),r[Dt]=i,r[Kt]=o}catch(g){Je(i,i.return,g)}}var Es=!1,Pt=!1,Tp=!1,q_=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function _N(i,r){if(i=i.containerInfo,qp=hf,i=n1(i),gm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,S=-1,j=-1,K=0,Z=0,ie=i,Y=null;t:for(;;){for(var X;ie!==o||d!==0&&ie.nodeType!==3||(S=w+d),ie!==g||u!==0&&ie.nodeType!==3||(j=w+u),ie.nodeType===3&&(w+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Y=ie,ie=X;for(;;){if(ie===i)break t;if(Y===o&&++K===d&&(S=w),Y===g&&++Z===u&&(j=w),(X=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=X}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gp={focusedElem:i,selectionRange:o},hf=!1,Qt=r;Qt!==null;)if(r=Qt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Qt=i;else for(;Qt!==null;){switch(r=Qt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=Ta(o.type,d);i=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(be){Je(o,o.return,be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Yp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Yp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Qt=i;break}Qt=r.return}}function G_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:As(i,o),u&4&&_c(5,o);break;case 1:if(As(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){Je(o,o.return,w)}else{var d=Ta(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Je(o,o.return,w)}}u&64&&U_(o),u&512&&bc(o,o.return);break;case 3:if(As(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{N1(i,r)}catch(w){Je(o,o.return,w)}}break;case 27:r===null&&u&4&&H_(o);case 26:case 5:As(i,o),r===null&&u&4&&B_(o),u&512&&bc(o,o.return);break;case 12:As(i,o);break;case 31:As(i,o),u&4&&Y_(i,o);break;case 13:As(i,o),u&4&&Q_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=CN.bind(null,o),YN(i,o))));break;case 22:if(u=o.memoizedState!==null||Es,!u){r=r!==null&&r.memoizedState!==null||Pt,d=Es;var g=Pt;Es=u,(Pt=r)&&!g?Rs(i,o,(o.subtreeFlags&8772)!==0):As(i,o),Es=d,Pt=g}break;case 30:break;default:As(i,o)}}function $_(i){var r=i.alternate;r!==null&&(i.alternate=null,$_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ro(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,xn=!1;function Ss(i,r,o){for(o=o.child;o!==null;)K_(i,r,o),o=o.sibling}function K_(i,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 26:Pt||Xi(o,r),Ss(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Xi(o,r);var u=ft,d=xn;yr(o.type)&&(ft=o.stateNode,xn=!1),Ss(i,r,o),Nc(o.stateNode),ft=u,xn=d;break;case 5:Pt||Xi(o,r);case 6:if(u=ft,d=xn,ft=null,Ss(i,r,o),ft=u,xn=d,ft!==null)if(xn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ft.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ft!==null&&(xn?(i=ft,Ub(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),qo(i)):Ub(ft,o.stateNode));break;case 4:u=ft,d=xn,ft=o.stateNode.containerInfo,xn=!0,Ss(i,r,o),ft=u,xn=d;break;case 0:case 11:case 14:case 15:ur(2,o,r),Pt||ur(4,o,r),Ss(i,r,o);break;case 1:Pt||(Xi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&z_(o,r,u)),Ss(i,r,o);break;case 21:Ss(i,r,o);break;case 22:Pt=(u=Pt)||o.memoizedState!==null,Ss(i,r,o),Pt=u;break;default:Ss(i,r,o)}}function Y_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qo(i)}catch(o){Je(r,r.return,o)}}}function Q_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qo(i)}catch(o){Je(r,r.return,o)}}function bN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new q_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new q_),r;default:throw Error(s(435,i.tag))}}function qh(i,r){var o=bN(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=NN.bind(null,i,u);u.then(d,d)}})}function wn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,w=r,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(yr(S.type)){ft=S.stateNode,xn=!1;break e}break;case 5:ft=S.stateNode,xn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(ft===null)throw Error(s(160));K_(g,w,d),ft=null,xn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)X_(r,i),r=r.sibling}var _i=null;function X_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),Tn(i),u&4&&(ur(3,i,i.return),_c(3,i),ur(5,i,i.return));break;case 1:wn(r,i),Tn(i),u&512&&(Pt||o===null||Xi(o,o.return)),u&64&&Es&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=_i;if(wn(r,i),Tn(i),u&512&&(Pt||o===null||Xi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ji]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),rn(g,u,o),g[Dt]=i,Mt(g),u=g;break e;case"link":var w=Xb("link","href",d).get(u+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}g=d.createElement(u),rn(g,u,o),d.head.appendChild(g);break;case"meta":if(w=Xb("meta","content",d).get(u+(o.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}g=d.createElement(u),rn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Dt]=i,Mt(g),u=g}i.stateNode=u}else Wb(d,i.type,i.stateNode);else i.stateNode=Qb(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Wb(d,i.type,i.stateNode):Qb(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&bp(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(r,i),Tn(i),u&512&&(Pt||o===null||Xi(o,o.return)),o!==null&&u&4&&bp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,i),Tn(i),u&512&&(Pt||o===null||Xi(o,o.return)),i.flags&32){d=i.stateNode;try{bn(d,"")}catch(me){Je(i,i.return,me)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,bp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Tp=!0);break;case 6:if(wn(r,i),Tn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){Je(i,i.return,me)}}break;case 3:if(of=null,d=_i,_i=rf(r.containerInfo),wn(r,i),_i=d,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{qo(r.containerInfo)}catch(me){Je(i,i.return,me)}Tp&&(Tp=!1,W_(i));break;case 4:u=_i,_i=rf(i.stateNode.containerInfo),wn(r,i),Tn(i),_i=u;break;case 12:wn(r,i),Tn(i);break;case 31:wn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 13:wn(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($h=mn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 22:d=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,K=Es,Z=Pt;if(Es=K||d,Pt=Z||j,wn(r,i),Pt=Z,Es=K,Tn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||j||Es||Pt||Ea(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=j.stateNode;var ie=j.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Je(j,j.return,me)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(me){Je(j,j.return,me)}}}else if(r.tag===18){if(o===null){j=r;try{var X=j.stateNode;d?zb(X,!0):zb(j.stateNode,!1)}catch(me){Je(j,j.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qh(i,o))));break;case 19:wn(r,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 30:break;case 21:break;default:wn(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(F_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=xp(i);Hh(i,g,d);break;case 5:var w=o.stateNode;o.flags&32&&(bn(w,""),o.flags&=-33);var S=xp(i);Hh(i,S,w);break;case 3:case 4:var j=o.stateNode.containerInfo,K=xp(i);wp(i,K,j);break;default:throw Error(s(161))}}catch(Z){Je(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function W_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;W_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function As(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)G_(i,r.alternate,r),r=r.sibling}function Ea(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),Ea(r);break;case 1:Xi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&z_(r,r.return,o),Ea(r);break;case 27:Nc(r.stateNode);case 26:case 5:Xi(r,r.return),Ea(r);break;case 22:r.memoizedState===null&&Ea(r);break;case 30:Ea(r);break;default:Ea(r)}i=i.sibling}}function Rs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,w=g.flags;switch(g.tag){case 0:case 11:case 15:Rs(d,g,o),_c(4,g);break;case 1:if(Rs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Je(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)C1(j[d],S)}catch(K){Je(u,u.return,K)}}o&&w&64&&U_(g),bc(g,g.return);break;case 27:H_(g);case 26:case 5:Rs(d,g,o),o&&u===null&&w&4&&B_(g),bc(g,g.return);break;case 12:Rs(d,g,o);break;case 31:Rs(d,g,o),o&&w&4&&Y_(d,g);break;case 13:Rs(d,g,o),o&&w&4&&Q_(d,g);break;case 22:g.memoizedState===null&&Rs(d,g,o),bc(g,g.return);break;case 30:break;default:Rs(d,g,o)}r=r.sibling}}function Ep(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ac(o))}function Sp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ac(i))}function bi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(i,r,o,u),r=r.sibling}function Z_(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:bi(i,r,o,u),d&2048&&_c(9,r);break;case 1:bi(i,r,o,u);break;case 3:bi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ac(i)));break;case 12:if(d&2048){bi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){Je(r,r.return,j)}}else bi(i,r,o,u);break;case 31:bi(i,r,o,u);break;case 13:bi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,w=r.alternate,r.memoizedState!==null?g._visibility&2?bi(i,r,o,u):xc(i,r):g._visibility&2?bi(i,r,o,u):(g._visibility|=2,ko(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Ep(w,r);break;case 24:bi(i,r,o,u),d&2048&&Sp(r.alternate,r);break;default:bi(i,r,o,u)}}function ko(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,w=r,S=o,j=u,K=w.flags;switch(w.tag){case 0:case 11:case 15:ko(g,w,S,j,d),_c(8,w);break;case 23:break;case 22:var Z=w.stateNode;w.memoizedState!==null?Z._visibility&2?ko(g,w,S,j,d):xc(g,w):(Z._visibility|=2,ko(g,w,S,j,d)),d&&K&2048&&Ep(w.alternate,w);break;case 24:ko(g,w,S,j,d),d&&K&2048&&Sp(w.alternate,w);break;default:ko(g,w,S,j,d)}r=r.sibling}}function xc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:xc(o,u),d&2048&&Ep(u.alternate,u);break;case 24:xc(o,u),d&2048&&Sp(u.alternate,u);break;default:xc(o,u)}r=r.sibling}}var wc=8192;function Vo(i,r,o){if(i.subtreeFlags&wc)for(i=i.child;i!==null;)J_(i,r,o),i=i.sibling}function J_(i,r,o){switch(i.tag){case 26:Vo(i,r,o),i.flags&wc&&i.memoizedState!==null&&a5(o,_i,i.memoizedState,i.memoizedProps);break;case 5:Vo(i,r,o);break;case 3:case 4:var u=_i;_i=rf(i.stateNode.containerInfo),Vo(i,r,o),_i=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=wc,wc=16777216,Vo(i,r,o),wc=u):Vo(i,r,o));break;default:Vo(i,r,o)}}function eb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Tc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qt=u,nb(u,i)}eb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tb(i),i=i.sibling}function tb(i){switch(i.tag){case 0:case 11:case 15:Tc(i),i.flags&2048&&ur(9,i,i.return);break;case 3:Tc(i);break;case 12:Tc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Gh(i)):Tc(i);break;default:Tc(i)}}function Gh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qt=u,nb(u,i)}eb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),Gh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Gh(r));break;default:Gh(r)}i=i.sibling}}function nb(i,r){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ac(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qt=u;else e:for(o=i;Qt!==null;){u=Qt;var d=u.sibling,g=u.return;if($_(u),u===o){Qt=null;break e}if(d!==null){d.return=g,Qt=d;break e}Qt=g}}}var xN={getCacheForType:function(i){var r=nn(Vt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return nn(Vt).controller.signal}},wN=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,ke=null,je=0,Ze=0,Pn=null,hr=!1,Oo=!1,Ap=!1,Cs=0,vt=0,fr=0,Sa=0,Rp=0,Ln=0,jo=0,Ec=null,En=null,Cp=!1,$h=0,ib=0,Kh=1/0,Yh=null,dr=null,qt=0,mr=null,Po=null,Ns=0,Np=0,Ip=null,sb=null,Sc=0,Dp=null;function Un(){return(Ye&2)!==0&&je!==0?je&-je:J.T!==null?Pp():Qu()}function rb(){if(Ln===0)if((je&536870912)===0||Be){var i=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),Ln=i}else Ln=536870912;return i=On.current,i!==null&&(i.flags|=32),Ln}function Sn(i,r,o){(i===rt&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(Lo(i,0),pr(i,je,Ln,!1)),Jr(i,o),((Ye&2)===0||i!==rt)&&(i===rt&&((Ye&2)===0&&(Sa|=o),vt===4&&pr(i,je,Ln,!1)),Wi(i))}function ab(i,r,o){if((Ye&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ui(i,r),d=u?SN(i,r):kp(i,r,!0),g=u;do{if(d===0){Oo&&!u&&pr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!TN(o)){d=kp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var S=i;d=Ec;var j=S.current.memoizedState.isDehydrated;if(j&&(Lo(S,w).flags|=256),w=kp(S,w,!1),w!==2){if(Ap&&!j){S.errorRecoveryDisabledLanes|=g,Sa|=g,d=4;break e}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){Lo(i,0),pr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:pr(u,r,Ln,!hr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=$h+300-mn(),10<d)){if(pr(u,r,Ln,!hr),ki(u,0,!0)!==0)break e;Ns=r,u.timeoutHandle=Pb(ob.bind(null,u,o,En,Yh,Cp,r,Ln,Sa,jo,hr,g,"Throttled",-0,0),d);break e}ob(u,o,En,Yh,Cp,r,Ln,Sa,jo,hr,g,null,-0,0)}}break}while(!0);Wi(i)}function ob(i,r,o,u,d,g,w,S,j,K,Z,ie,Y,X){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},J_(r,g,ie);var me=(g&62914560)===g?$h-mn():(g&4194048)===g?ib-mn():0;if(me=o5(ie,me),me!==null){Ns=g,i.cancelPendingCommit=me(pb.bind(null,i,r,g,o,u,d,w,S,j,Z,ie,null,Y,X)),pr(i,g,w,!K);return}}pb(i,r,g,o,u,d,w,S,j)}function TN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!kn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pr(i,r,o,u){r&=~Rp,r&=~Sa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-Et(d),w=1<<g;u[g]=-1,d&=~w}o!==0&&ea(i,o,r)}function Qh(){return(Ye&6)===0?(Ac(0),!1):!0}function Mp(){if(ke!==null){if(Ze===0)var i=ke.return;else i=ke,vs=ga=null,Ym(i),Co=null,lc=0,i=ke;for(;i!==null;)L_(i.alternate,i),i=i.return;ke=null}}function Lo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,HN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ns=0,Mp(),rt=i,ke=o=gs(i.current,null),je=r,Ze=0,Pn=null,hr=!1,Oo=ui(i,r),Ap=!1,jo=Ln=Rp=Sa=fr=vt=0,En=Ec=null,Cp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-Et(u),g=1<<d;r|=i[d],u&=~g}return Cs=r,gh(),o}function lb(i,r){Ne=null,J.H=gc,r===Ro||r===Eh?(r=E1(),Ze=3):r===jm?(r=E1(),Ze=4):Ze=r===up?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,ke===null&&(vt=1,Lh(i,Qn(r,i.current)))}function cb(){var i=On.current;return i===null?!0:(je&4194048)===je?Jn===null:(je&62914560)===je||(je&536870912)!==0?i===Jn:!1}function ub(){var i=J.H;return J.H=gc,i===null?gc:i}function hb(){var i=J.A;return J.A=xN,i}function Xh(){vt=4,hr||(je&4194048)!==je&&On.current!==null||(Oo=!0),(fr&134217727)===0&&(Sa&134217727)===0||rt===null||pr(rt,je,Ln,!1)}function kp(i,r,o){var u=Ye;Ye|=2;var d=ub(),g=hb();(rt!==i||je!==r)&&(Yh=null,Lo(i,r)),r=!1;var w=vt;e:do try{if(Ze!==0&&ke!==null){var S=ke,j=Pn;switch(Ze){case 8:Mp(),w=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var K=Ze;if(Ze=0,Pn=null,Uo(i,S,j,K),o&&Oo){w=0;break e}break;default:K=Ze,Ze=0,Pn=null,Uo(i,S,j,K)}}EN(),w=vt;break}catch(Z){lb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,vs=ga=null,Ye=u,J.H=d,J.A=g,ke===null&&(rt=null,je=0,gh()),w}function EN(){for(;ke!==null;)fb(ke)}function SN(i,r){var o=Ye;Ye|=2;var u=ub(),d=hb();rt!==i||je!==r?(Yh=null,Kh=mn()+500,Lo(i,r)):Oo=ui(i,r);e:do try{if(Ze!==0&&ke!==null){r=ke;var g=Pn;t:switch(Ze){case 1:Ze=0,Pn=null,Uo(i,r,g,1);break;case 2:case 9:if(w1(g)){Ze=0,Pn=null,db(r);break}r=function(){Ze!==2&&Ze!==9||rt!==i||(Ze=7),Wi(i)},g.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:w1(g)?(Ze=0,Pn=null,db(r)):(Ze=0,Pn=null,Uo(i,r,g,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var S=ke;if(w?Zb(w):S.stateNode.complete){Ze=0,Pn=null;var j=S.sibling;if(j!==null)ke=j;else{var K=S.return;K!==null?(ke=K,Wh(K)):ke=null}break t}}Ze=0,Pn=null,Uo(i,r,g,5);break;case 6:Ze=0,Pn=null,Uo(i,r,g,6);break;case 8:Mp(),vt=6;break e;default:throw Error(s(462))}}AN();break}catch(Z){lb(i,Z)}while(!0);return vs=ga=null,J.H=u,J.A=d,Ye=o,ke!==null?0:(rt=null,je=0,gh(),vt)}function AN(){for(;ke!==null&&!cm();)fb(ke)}function fb(i){var r=j_(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,r===null?Wh(i):ke=r}function db(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=I_(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=I_(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Ym(r);default:L_(o,r),r=ke=h1(r,Cs),r=j_(o,r,Cs)}i.memoizedProps=i.pendingProps,r===null?Wh(i):ke=r}function Uo(i,r,o,u){vs=ga=null,Ym(r),Co=null,lc=0;var d=r.return;try{if(mN(i,d,r,o,je)){vt=1,Lh(i,Qn(o,i.current)),ke=null;return}}catch(g){if(d!==null)throw ke=d,g;vt=1,Lh(i,Qn(o,i.current)),ke=null;return}r.flags&32768?(Be||u===1?i=!0:Oo||(je&536870912)!==0?i=!1:(hr=i=!0,(u===2||u===9||u===3||u===6)&&(u=On.current,u!==null&&u.tag===13&&(u.flags|=16384))),mb(r,i)):Wh(r)}function Wh(i){var r=i;do{if((r.flags&32768)!==0){mb(r,hr);return}i=r.return;var o=yN(r.alternate,r,Cs);if(o!==null){ke=o;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=i}while(r!==null);vt===0&&(vt=5)}function mb(i,r){do{var o=vN(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);vt=6,ke=null}function pb(i,r,o,u,d,g,w,S,j){i.cancelPendingCommit=null;do Zh();while(qt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=xm,fm(i,o,g,w,S,j),i===rt&&(ke=rt=null,je=0),Po=r,mr=i,Ns=o,Np=g,Ip=d,sb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,IN(Gs,function(){return bb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=oe.p,oe.p=2,w=Ye,Ye|=4;try{_N(i,r,o)}finally{Ye=w,oe.p=d,J.T=u}}qt=1,gb(),yb(),vb()}}function gb(){if(qt===1){qt=0;var i=mr,r=Po,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var d=Ye;Ye|=4;try{X_(r,i);var g=Gp,w=n1(i.containerInfo),S=g.focusedElem,j=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&t1(S.ownerDocument.documentElement,S)){if(j!==null&&gm(S)){var K=j.start,Z=j.end;if(Z===void 0&&(Z=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=S.textContent.length,be=Math.min(j.start,me),it=j.end===void 0?be:Math.min(j.end,me);!X.extend&&be>it&&(w=it,it=be,be=w);var F=e1(S,be),z=e1(S,it);if(F&&z&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var $=ie.createRange();$.setStart(F.node,F.offset),X.removeAllRanges(),be>it?(X.addRange($),X.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),X.addRange($))}}}}for(ie=[],X=S;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ee=ie[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}hf=!!qp,Gp=qp=null}finally{Ye=d,oe.p=u,J.T=o}}i.current=r,qt=2}}function yb(){if(qt===2){qt=0;var i=mr,r=Po,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=oe.p;oe.p=2;var d=Ye;Ye|=4;try{G_(i,r.alternate,r)}finally{Ye=d,oe.p=u,J.T=o}}qt=3}}function vb(){if(qt===4||qt===3){qt=0,Fu();var i=mr,r=Po,o=Ns,u=sb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Po=mr=null,_b(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(dr=null),fs(o),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ci,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=oe.p,oe.p=2,J.T=null;try{for(var g=i.onRecoverableError,w=0;w<u.length;w++){var S=u[w];g(S.value,{componentStack:S.stack})}}finally{J.T=r,oe.p=d}}(Ns&3)!==0&&Zh(),Wi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Dp?Sc++:(Sc=0,Dp=i):Sc=0,Ac(0)}}function _b(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ac(r)))}function Zh(){return gb(),yb(),vb(),bb()}function bb(){if(qt!==5)return!1;var i=mr,r=Np;Np=0;var o=fs(Ns),u=J.T,d=oe.p;try{oe.p=32>o?32:o,J.T=null,o=Ip,Ip=null;var g=mr,w=Ns;if(qt=0,Po=mr=null,Ns=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,tb(g.current),Z_(g,g.current,w,o),Ye=S,Ac(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ci,g)}catch{}return!0}finally{oe.p=d,J.T=u,_b(i,r)}}function xb(i,r,o){r=Qn(o,r),r=cp(i.stateNode,r,2),i=or(i,r,2),i!==null&&(Jr(i,2),Wi(i))}function Je(i,r,o){if(i.tag===3)xb(i,i,o);else for(;r!==null;){if(r.tag===3){xb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(dr===null||!dr.has(u))){i=Qn(o,i),o=w_(2),u=or(r,o,2),u!==null&&(T_(o,u,r,i),Jr(u,2),Wi(u));break}}r=r.return}}function Vp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new wN;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(Ap=!0,d.add(o),i=RN.bind(null,i,r,o),r.then(i,i))}function RN(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(je&o)===o&&(vt===4||vt===3&&(je&62914560)===je&&300>mn()-$h?(Ye&2)===0&&Lo(i,0):Rp|=o,jo===je&&(jo=0)),Wi(i)}function wb(i,r){r===0&&(r=Yu()),i=da(i,r),i!==null&&(Jr(i,r),Wi(i))}function CN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),wb(i,o)}function NN(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),wb(i,o)}function IN(i,r){return Ht(i,r)}var Jh=null,zo=null,Op=!1,ef=!1,jp=!1,gr=0;function Wi(i){i!==zo&&i.next===null&&(zo===null?Jh=zo=i:zo=zo.next=i),ef=!0,Op||(Op=!0,MN())}function Ac(i,r){if(!jp&&ef){jp=!0;do for(var o=!1,u=Jh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var w=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Et(42|i)+1)-1,g&=d&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ab(u,g))}else g=je,g=ki(u,u===rt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ui(u,g)||(o=!0,Ab(u,g));u=u.next}while(o);jp=!1}}function DN(){Tb()}function Tb(){ef=Op=!1;var i=0;gr!==0&&FN()&&(i=gr);for(var r=mn(),o=null,u=Jh;u!==null;){var d=u.next,g=Eb(u,r);g===0?(u.next=null,o===null?Jh=d:o.next=d,d===null&&(zo=o)):(o=u,(i!==0||(g&3)!==0)&&(ef=!0)),u=d}qt!==0&&qt!==5||Ac(i),gr!==0&&(gr=0)}function Eb(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-Et(g),S=1<<w,j=d[w];j===-1?((S&o)===0||(S&u)!==0)&&(d[w]=hm(S,r)):j<=r&&(i.expiredLanes|=S),g&=~S}if(r=rt,o=je,o=ki(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&qs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&qs(u),fs(o)){case 2:case 8:o=jl;break;case 32:o=Gs;break;case 268435456:o=Hu;break;default:o=Gs}return u=Sb.bind(null,i),o=Ht(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&qs(u),i.callbackPriority=2,i.callbackNode=null,2}function Sb(i,r){if(qt!==0&&qt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zh()&&i.callbackNode!==o)return null;var u=je;return u=ki(i,i===rt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(ab(i,u,r),Eb(i,mn()),i.callbackNode!=null&&i.callbackNode===o?Sb.bind(null,i):null)}function Ab(i,r){if(Zh())return null;ab(i,r,!0)}function MN(){qN(function(){(Ye&6)!==0?Ht(Ol,DN):Tb()})}function Pp(){if(gr===0){var i=So;i===0&&(i=Di,Di<<=1,(Di&261888)===0&&(Di=256)),gr=i}return gr}function Rb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:co(""+i)}function Cb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function kN(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=Rb((d[Kt]||null).action),w=u.submitter;w&&(r=(r=w[Kt]||null)?Rb(r.formAction):w.getAttribute("formAction"),r!==null&&(g=r,w=null));var S=new qi("action","action",null,u,d);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(gr!==0){var j=w?Cb(d,w):new FormData(d);ip(o,{pending:!0,data:j,method:d.method,action:g},null,j)}}else typeof g=="function"&&(S.preventDefault(),j=w?Cb(d,w):new FormData(d),ip(o,{pending:!0,data:j,method:d.method,action:g},g,j))},currentTarget:d}]})}}for(var Lp=0;Lp<bm.length;Lp++){var Up=bm[Lp],VN=Up.toLowerCase(),ON=Up[0].toUpperCase()+Up.slice(1);vi(VN,"on"+ON)}vi(r1,"onAnimationEnd"),vi(a1,"onAnimationIteration"),vi(o1,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(WC,"onTransitionRun"),vi(ZC,"onTransitionStart"),vi(JC,"onTransitionCancel"),vi(l1,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function Nb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var w=u.length-1;0<=w;w--){var S=u[w],j=S.instance,K=S.currentTarget;if(S=S.listener,j!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=K;try{g(d)}catch(Z){ph(Z)}d.currentTarget=null,g=j}else for(w=0;w<u.length;w++){if(S=u[w],j=S.instance,K=S.currentTarget,S=S.listener,j!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=K;try{g(d)}catch(Z){ph(Z)}d.currentTarget=null,g=j}}}}function Ve(i,r){var o=r[so];o===void 0&&(o=r[so]=new Set);var u=i+"__bubble";o.has(u)||(Ib(r,i,2,!1),o.add(u))}function zp(i,r,o){var u=0;r&&(u|=4),Ib(o,i,u,r)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Bp(i){if(!i[tf]){i[tf]=!0,Ul.forEach(function(o){o!=="selectionchange"&&(jN.has(o)||zp(o,!1,i),zp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[tf]||(r[tf]=!0,zp("selectionchange",!1,r))}}function Ib(i,r,o,u){switch(rx(r)){case 2:var d=u5;break;case 8:d=h5;break;default:d=ng}o=d.bind(null,r,o,i),d=void 0,!ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Fp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=u.return;w!==null;){var j=w.tag;if((j===3||j===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=Pi(S),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){u=g=w;continue e}S=S.parentNode}}u=u.return}Ws(function(){var K=g,Z=Gn(o),ie=[];e:{var Y=c1.get(i);if(Y!==void 0){var X=qi,me=i;switch(i){case"keypress":if(oa(o)===0)break e;case"keydown":case"keyup":X=fh;break;case"focusin":me="focus",X=ca;break;case"focusout":me="blur",X=ca;break;case"beforeblur":case"afterblur":X=ca;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=b;break;case r1:case a1:case o1:X=rh;break;case l1:X=A;break;case"scroll":case"scrollend":X=Wl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ps;break;case"toggle":case"beforetoggle":X=Ce}var be=(r&4)!==0,it=!be&&(i==="scroll"||i==="scrollend"),F=be?Y!==null?Y+"Capture":null:Y;be=[];for(var z=K,$;z!==null;){var ee=z;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||F===null||(ee=mi(z,F),ee!=null&&be.push(Cc(z,ee,$))),it)break;z=z.return}0<be.length&&(Y=new X(Y,me,null,o,Z),ie.push({event:Y,listeners:be}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==Yl&&(me=o.relatedTarget||o.fromElement)&&(Pi(me)||me[Oi]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=K,me=me?Pi(me):null,me!==null&&(it=l(me),be=me.tag,me!==it||be!==5&&be!==27&&be!==6)&&(me=null)):(X=null,me=K),X!==me)){if(be=Zl,ee="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(be=ps,ee="onPointerLeave",F="onPointerEnter",z="pointer"),it=X==null?Y:Dn(X),$=me==null?Y:Dn(me),Y=new be(ee,z+"leave",X,o,Z),Y.target=it,Y.relatedTarget=$,ee=null,Pi(Z)===K&&(be=new be(F,z+"enter",me,o,Z),be.target=$,be.relatedTarget=it,ee=be),it=ee,X&&me)t:{for(be=PN,F=X,z=me,$=0,ee=F;ee;ee=be(ee))$++;ee=0;for(var ve=z;ve;ve=be(ve))ee++;for(;0<$-ee;)F=be(F),$--;for(;0<ee-$;)z=be(z),ee--;for(;$--;){if(F===z||z!==null&&F===z.alternate){be=F;break t}F=be(F),z=be(z)}be=null}else be=null;X!==null&&Db(ie,Y,X,be,!1),me!==null&&it!==null&&Db(ie,it,me,be,!0)}}e:{if(Y=K?Dn(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Ge=Yv;else if($v(Y))if(Qv)Ge=YC;else{Ge=$C;var pe=GC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&lo(K.elementType)&&(Ge=Yv):Ge=KC;if(Ge&&(Ge=Ge(i,K))){Kv(ie,Ge,o,Z);break e}pe&&pe(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Gl(Y,"number",Y.value)}switch(pe=K?Dn(K):window,i){case"focusin":($v(pe)||pe.contentEditable==="true")&&(yo=pe,ym=K,ic=null);break;case"focusout":ic=ym=yo=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,i1(ie,o,Z);break;case"selectionchange":if(XC)break;case"keydown":case"keyup":i1(ie,o,Z)}var Me;if(Ke)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else go?ua(i,o)&&(Pe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ki&&o.locale!=="ko"&&(go||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&go&&(Me=Xl()):(Hi=Z,Ql="value"in Hi?Hi.value:Hi.textContent,go=!0)),pe=nf(K,Pe),0<pe.length&&(Pe=new $i(Pe,i,null,o,Z),ie.push({event:Pe,listeners:pe}),Me?Pe.data=Me:(Me=po(o),Me!==null&&(Pe.data=Me)))),(Me=Kn?BC(i,o):FC(i,o))&&(Pe=nf(K,"onBeforeInput"),0<Pe.length&&(pe=new $i("onBeforeInput","beforeinput",null,o,Z),ie.push({event:pe,listeners:Pe}),pe.data=Me)),kN(ie,i,K,o,Z)}Nb(ie,r)})}function Cc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function nf(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=mi(i,o),d!=null&&u.unshift(Cc(i,d,g)),d=mi(i,r),d!=null&&u.push(Cc(i,d,g))),i.tag===3)return u;i=i.return}return[]}function PN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Db(i,r,o,u,d){for(var g=r._reactName,w=[];o!==null&&o!==u;){var S=o,j=S.alternate,K=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||K===null||(j=K,d?(K=mi(o,g),K!=null&&w.unshift(Cc(o,K,j))):d||(K=mi(o,g),K!=null&&w.push(Cc(o,K,j)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var LN=/\r\n?/g,UN=/\u0000|\uFFFD/g;function Mb(i){return(typeof i=="string"?i:""+i).replace(LN,`
`).replace(UN,"")}function kb(i,r){return r=Mb(r),Mb(i)===r}function nt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||bn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&bn(i,""+u);break;case"className":Mn(i,"class",u);break;case"tabIndex":Mn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(i,o,u);break;case"style":Kl(i,u,g);break;case"data":if(r!=="object"){Mn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=co(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&nt(i,r,"name",d.name,d,null),nt(i,r,"formEncType",d.formEncType,d,null),nt(i,r,"formMethod",d.formMethod,d,null),nt(i,r,"formTarget",d.formTarget,d,null)):(nt(i,r,"encType",d.encType,d,null),nt(i,r,"method",d.method,d,null),nt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=co(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=di);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=co(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),ao(i,"popover",u);break;case"xlinkActuate":kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":kt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":kt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":kt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":kt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ao(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nh.get(o)||o,ao(i,o,u))}}function Hp(i,r,o,u,d,g){switch(o){case"style":Kl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?bn(i,u):(typeof u=="number"||typeof u=="bigint")&&bn(i,""+u);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"onClick":u!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Kt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ao(i,o,u)}}}function rn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,g,w,o,null)}}d&&nt(i,r,"srcSet",o.srcSet,o,null),u&&nt(i,r,"src",o.src,o,null);return;case"input":Ve("invalid",i);var S=g=w=d=null,j=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":w=Z;break;case"checked":j=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:nt(i,r,u,Z,o,null)}}Ju(i,g,S,j,K,w,d,!1);return;case"select":Ve("invalid",i),u=w=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:nt(i,r,d,S,o,null)}r=g,o=w,i.multiple=!!u,r!=null?Ks(i,!!u,r,!1):o!=null&&Ks(i,!!u,o,!0);return;case"textarea":Ve("invalid",i),g=d=u=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:nt(i,r,w,S,o,null)}Ys(i,u,d,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(i,r,j,u,o,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(u=0;u<Rc.length;u++)Ve(Rc[u],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,K,u,o,null)}return;default:if(lo(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Hp(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&nt(i,r,S,u,o,null))}function zN(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,S=null,j=null,K=null,Z=null;for(X in o){var ie=o[X];if(o.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=ie;default:u.hasOwnProperty(X)||nt(i,r,X,null,u,ie)}}for(var Y in u){var X=u[Y];if(ie=o[Y],u.hasOwnProperty(Y)&&(X!=null||ie!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":w=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ie&&nt(i,r,Y,X,u,ie)}}oo(i,w,S,j,K,Z,g,d);return;case"select":X=w=S=Y=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":X=j;default:u.hasOwnProperty(g)||nt(i,r,g,null,u,j)}for(d in u)if(g=u[d],j=o[d],u.hasOwnProperty(d)&&(g!=null||j!=null))switch(d){case"value":Y=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==j&&nt(i,r,d,g,u,j)}r=S,o=w,u=X,Y!=null?Ks(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Ks(i,!!o,r,!0):Ks(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(i,r,S,null,u,d)}for(w in u)if(d=u[w],g=o[w],u.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&nt(i,r,w,d,u,g)}eh(i,Y,X);return;case"option":for(var me in o)if(Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:nt(i,r,me,null,u,Y)}for(j in u)if(Y=u[j],X=o[j],u.hasOwnProperty(j)&&Y!==X&&(Y!=null||X!=null))switch(j){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:nt(i,r,j,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)Y=o[be],o.hasOwnProperty(be)&&Y!=null&&!u.hasOwnProperty(be)&&nt(i,r,be,null,u,Y);for(K in u)if(Y=u[K],X=o[K],u.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:nt(i,r,K,Y,u,X)}return;default:if(lo(r)){for(var it in o)Y=o[it],o.hasOwnProperty(it)&&Y!==void 0&&!u.hasOwnProperty(it)&&Hp(i,r,it,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||Hp(i,r,Z,Y,u,X);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&nt(i,r,F,null,u,Y);for(ie in u)Y=u[ie],X=o[ie],!u.hasOwnProperty(ie)||Y===X||Y==null&&X==null||nt(i,r,ie,Y,u,X)}function Vb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,w=d.initiatorType,S=d.duration;if(g&&S&&Vb(w)){for(w=0,S=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],K=j.startTime;if(K>S)break;var Z=j.transferSize,ie=j.initiatorType;Z&&Vb(ie)&&(j=j.responseEnd,w+=Z*(j<S?1:(S-K)/(j-K)))}if(--u,r+=8*(g+w)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var qp=null,Gp=null;function sf(i){return i.nodeType===9?i:i.ownerDocument}function Ob(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function $p(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kp=null;function FN(){var i=window.event;return i&&i.type==="popstate"?i===Kp?!1:(Kp=i,!0):(Kp=null,!1)}var Pb=typeof setTimeout=="function"?setTimeout:void 0,HN=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,qN=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(i){return Lb.resolve(null).then(i).catch(GN)}:Pb;function GN(i){setTimeout(function(){throw i})}function yr(i){return i==="head"}function Ub(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),qo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Nc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Nc(o);for(var g=o.firstChild;g;){var w=g.nextSibling,S=g.nodeName;g[ji]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Nc(i.ownerDocument.body);o=d}while(o);qo(r)}function zb(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Yp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Yp(o),ro(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function $N(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ji])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function KN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function Bb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ei(i.nextSibling),i===null))return null;return i}function Qp(i){return i.data==="$?"||i.data==="$~"}function Xp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function YN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Wp=null;function Fb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ei(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Hb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function qb(i,r,o){switch(r=sf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Nc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ro(i)}var ti=new Map,Gb=new Set;function rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Is=oe.d;oe.d={f:QN,r:XN,D:WN,C:ZN,L:JN,m:e5,X:n5,S:t5,M:i5};function QN(){var i=Is.f(),r=Qh();return i||r}function XN(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?l_(r):Is.r(i)}var Bo=typeof document>"u"?null:document;function $b(i,r,o){var u=Bo;if(u&&typeof r=="string"&&r){var d=_n(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Gb.has(d)||(Gb.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),rn(r,"link",i),Mt(r),u.head.appendChild(r)))}}function WN(i){Is.D(i),$b("dns-prefetch",i,null)}function ZN(i,r){Is.C(i,r),$b("preconnect",i,r)}function JN(i,r,o){Is.L(i,r,o);var u=Bo;if(u&&i&&r){var d='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+_n(o.imageSizes)+'"]')):d+='[href="'+_n(i)+'"]';var g=d;switch(r){case"style":g=Fo(i);break;case"script":g=Ho(i)}ti.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(Ic(g))||r==="script"&&u.querySelector(Dc(g))||(r=u.createElement("link"),rn(r,"link",i),Mt(r),u.head.appendChild(r)))}}function e5(i,r){Is.m(i,r);var o=Bo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(i)}if(!ti.has(g)&&(i=_({rel:"modulepreload",href:i},r),ti.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Dc(g)))return}u=o.createElement("link"),rn(u,"link",i),Mt(u),o.head.appendChild(u)}}}function t5(i,r,o){Is.S(i,r,o);var u=Bo;if(u&&i){var d=Li(u).hoistableStyles,g=Fo(i);r=r||"default";var w=d.get(g);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(Ic(g)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(g))&&Zp(i,o);var j=w=u.createElement("link");Mt(j),rn(j,"link",i),j._p=new Promise(function(K,Z){j.onload=K,j.onerror=Z}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,af(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(g,w)}}}function n5(i,r){Is.X(i,r);var o=Bo;if(o&&i){var u=Li(o).hoistableScripts,d=Ho(i),g=u.get(d);g||(g=o.querySelector(Dc(d)),g||(i=_({src:i,async:!0},r),(r=ti.get(d))&&Jp(i,r),g=o.createElement("script"),Mt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function i5(i,r){Is.M(i,r);var o=Bo;if(o&&i){var u=Li(o).hoistableScripts,d=Ho(i),g=u.get(d);g||(g=o.querySelector(Dc(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=ti.get(d))&&Jp(i,r),g=o.createElement("script"),Mt(g),rn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Kb(i,r,o,u){var d=(d=De.current)?rf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Fo(o.href),o=Li(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Fo(o.href);var g=Li(d).hoistableStyles,w=g.get(i);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=d.querySelector(Ic(i)))&&!g._p&&(w.instance=g,w.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),g||s5(d,i,o,w.state))),r&&u===null)throw Error(s(528,""));return w}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ho(o),o=Li(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Fo(i){return'href="'+_n(i)+'"'}function Ic(i){return'link[rel="stylesheet"]['+i+"]"}function Yb(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function s5(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),rn(r,"link",o),Mt(r),i.head.appendChild(r))}function Ho(i){return'[src="'+_n(i)+'"]'}function Dc(i){return"script[async]"+i}function Qb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+_n(o.href)+'"]');if(u)return r.instance=u,Mt(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Mt(u),rn(u,"style",d),af(u,o.precedence,i),r.instance=u;case"stylesheet":d=Fo(o.href);var g=i.querySelector(Ic(d));if(g)return r.state.loading|=4,r.instance=g,Mt(g),g;u=Yb(o),(d=ti.get(d))&&Zp(u,d),g=(i.ownerDocument||i).createElement("link"),Mt(g);var w=g;return w._p=new Promise(function(S,j){w.onload=S,w.onerror=j}),rn(g,"link",u),r.state.loading|=4,af(g,o.precedence,i),r.instance=g;case"script":return g=Ho(o.src),(d=i.querySelector(Dc(g)))?(r.instance=d,Mt(d),d):(u=o,(d=ti.get(g))&&(u=_({},o),Jp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Mt(d),rn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,af(u,o.precedence,i));return r.instance}function af(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Zp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Jp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var of=null;function Xb(i,r,o){if(of===null){var u=new Map,d=of=new Map;d.set(o,u)}else d=of,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[ji]||g[Dt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(r)||"";w=i+w;var S=u.get(w);S?S.push(g):u.set(w,[g])}}return u}function Wb(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function r5(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function a5(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Fo(u.href),g=r.querySelector(Ic(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=lf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Mt(g);return}g=r.ownerDocument||r,u=Yb(u),(d=ti.get(d))&&Zp(u,d),g=g.createElement("link"),Mt(g);var w=g;w._p=new Promise(function(S,j){w.onload=S,w.onerror=j}),rn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=lf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var eg=0;function o5(i,r){return i.stylesheets&&i.count===0&&uf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&uf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&eg===0&&(eg=62500*BN());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&uf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>eg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cf=null;function uf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cf=new Map,r.forEach(l5,i),cf=null,lf.call(i))}function l5(i,r){if(!(r.state.loading&4)){var o=cf.get(i);if(o)var u=o.get(null);else{o=new Map,cf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}d=r.instance,w=d.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,d),o.set(w,d),this.count++,u=lf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Mc={$$typeof:D,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function c5(i,r,o,u,d,g,w,S,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Jb(i,r,o,u,d,g,w,S,j,K,Z,ie){return i=new c5(i,r,o,w,j,K,Z,ie,S),r=1,g===!0&&(r|=24),g=Vn(3,null,null,r),i.current=g,g.stateNode=i,r=km(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Pm(g),i}function ex(i){return i?(i=bo,i):bo}function tx(i,r,o,u,d,g){d=ex(d),u.context===null?u.context=d:u.pendingContext=d,u=ar(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=or(i,u,r),o!==null&&(Sn(o,i,r),uc(o,i,r))}function nx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function tg(i,r){nx(i,r),(i=i.alternate)&&nx(i,r)}function ix(i){if(i.tag===13||i.tag===31){var r=da(i,67108864);r!==null&&Sn(r,i,67108864),tg(i,67108864)}}function sx(i){if(i.tag===13||i.tag===31){var r=Un();r=ta(r);var o=da(i,r);o!==null&&Sn(o,i,r),tg(i,r)}}var hf=!0;function u5(i,r,o,u){var d=J.T;J.T=null;var g=oe.p;try{oe.p=2,ng(i,r,o,u)}finally{oe.p=g,J.T=d}}function h5(i,r,o,u){var d=J.T;J.T=null;var g=oe.p;try{oe.p=8,ng(i,r,o,u)}finally{oe.p=g,J.T=d}}function ng(i,r,o,u){if(hf){var d=ig(u);if(d===null)Fp(i,r,u,ff,o),ax(i,u);else if(d5(d,i,r,o,u))u.stopPropagation();else if(ax(i,u),r&4&&-1<f5.indexOf(i)){for(;d!==null;){var g=qn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Mi(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var j=1<<31-Et(w);S.entanglements[1]|=j,w&=~j}Wi(g),(Ye&6)===0&&(Kh=mn()+500,Ac(0))}}break;case 31:case 13:S=da(g,2),S!==null&&Sn(S,g,2),Qh(),tg(g,2)}if(g=ig(u),g===null&&Fp(i,r,u,ff,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Fp(i,r,u,null,o)}}function ig(i){return i=Gn(i),sg(i)}var ff=null;function sg(i){if(ff=null,i=Pi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ff=i,null}function rx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case Ol:return 2;case jl:return 8;case Gs:case um:return 32;case Hu:return 268435456;default:return 32}default:return 32}}var rg=!1,vr=null,_r=null,br=null,kc=new Map,Vc=new Map,xr=[],f5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(i,r){switch(i){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":kc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(r.pointerId)}}function Oc(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=qn(r),r!==null&&ix(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function d5(i,r,o,u,d){switch(r){case"focusin":return vr=Oc(vr,i,r,o,u,d),!0;case"dragenter":return _r=Oc(_r,i,r,o,u,d),!0;case"mouseover":return br=Oc(br,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return kc.set(g,Oc(kc.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Vc.set(g,Oc(Vc.get(g)||null,i,r,o,u,d)),!0}return!1}function ox(i){var r=Pi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,hi(i.priority,function(){sx(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,hi(i.priority,function(){sx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function df(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ig(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Yl=u,o.target.dispatchEvent(u),Yl=null}else return r=qn(o),r!==null&&ix(r),i.blockedOn=o,!1;r.shift()}return!0}function lx(i,r,o){df(i)&&o.delete(r)}function m5(){rg=!1,vr!==null&&df(vr)&&(vr=null),_r!==null&&df(_r)&&(_r=null),br!==null&&df(br)&&(br=null),kc.forEach(lx),Vc.forEach(lx)}function mf(i,r){i.blockedOn===r&&(i.blockedOn=null,rg||(rg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m5)))}var pf=null;function cx(i){pf!==i&&(pf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pf===i&&(pf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(sg(u||o)===null)continue;break}var g=qn(o);g!==null&&(i.splice(r,3),r-=3,ip(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function qo(i){function r(j){return mf(j,i)}vr!==null&&mf(vr,i),_r!==null&&mf(_r,i),br!==null&&mf(br,i),kc.forEach(r),Vc.forEach(r);for(var o=0;o<xr.length;o++){var u=xr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<xr.length&&(o=xr[0],o.blockedOn===null);)ox(o),o.blockedOn===null&&xr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],w=d[Kt]||null;if(typeof g=="function")w||cx(o);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[Kt]||null)S=w.formAction;else if(sg(d)!==null)continue}else S=w.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),cx(o)}}}function ux(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function ag(i){this._internalRoot=i}gf.prototype.render=ag.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Un();tx(o,u,i,r,null,null)},gf.prototype.unmount=ag.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;tx(i.current,2,null,i,null,null),Qh(),r[Oi]=null}};function gf(i){this._internalRoot=i}gf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Qu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<xr.length&&r!==0&&r<xr[o].priority;o++);xr.splice(o,0,i),o===0&&ox(i)}};var hx=e.version;if(hx!=="19.2.3")throw Error(s(527,hx,"19.2.3"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var p5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{ci=yf.inject(p5),Jt=yf}catch{}}return Pc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=v_,g=__,w=b_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=Jb(i,1,!1,null,null,o,u,null,d,g,w,ux),i[Oi]=r.current,Bp(i),new ag(r)},Pc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=v_,w=__,S=b_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=Jb(i,1,!0,r,o??null,u,d,j,g,w,S,ux),r.context=ex(null),o=r.current,u=Un(),u=ta(u),d=ar(u),d.callback=null,or(o,d,u),o=u,r.current.lanes=o,Jr(r,o),Wi(r),i[Oi]=r.current,Bp(i),new gf(r)},Pc.version="19.2.3",Pc}var xx;function S5(){if(xx)return cg.exports;xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cg.exports=E5(),cg.exports}var A5=S5();const R5=j2(A5);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wx="popstate";function C5(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Yg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:au(a)}return I5(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N5(){return Math.random().toString(36).substring(2,10)}function Tx(t,e){return{usr:t.state,key:t.key,idx:e}}function Yg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vl(e):e,state:n,key:e&&e.key||s||N5()}}function au({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function I5(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){f="POP";let C=v(),P=C==null?null:C-p;p=C,m&&m({action:f,location:V.location,delta:P})}function x(C,P){f="PUSH";let q=Yg(V.location,C,P);p=v()+1;let D=Tx(q,p),W=V.createHref(q);try{c.pushState(D,"",W)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(W)}l&&m&&m({action:f,location:V.location,delta:1})}function E(C,P){f="REPLACE";let q=Yg(V.location,C,P);p=v();let D=Tx(q,p),W=V.createHref(q);c.replaceState(D,"",W),l&&m&&m({action:f,location:V.location,delta:0})}function I(C){return D5(C)}let V={get action(){return f},get location(){return t(a,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(wx,_),m=C,()=>{a.removeEventListener(wx,_),m=null}},createHref(C){return e(a,C)},createURL:I,encodeLocation(C){let P=I(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:E,go(C){return c.go(C)}};return V}function D5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:au(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function P2(t,e,n="/"){return M5(t,e,n,!1)}function M5(t,e,n,s){let a=typeof e=="string"?vl(e):e,l=js(a.pathname||"/",n);if(l==null)return null;let c=L2(t);k5(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=q5(l);f=F5(c[m],p,s)}return f}function L2(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;dt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=Vs([s,v.relativePath]),x=n.concat(v);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),L2(c.children,e,x,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:z5(_,c.index),routesMeta:x})};return t.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of U2(c.path))l(c,f,!0,p)}),e}function U2(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=U2(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function k5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B5(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var V5=/^:[\w-]+$/,O5=3,j5=2,P5=1,L5=10,U5=-2,Ex=t=>t==="*";function z5(t,e){let n=t.split("/"),s=n.length;return n.some(Ex)&&(s+=U5),e&&(s+=j5),n.filter(a=>!Ex(a)).reduce((a,l)=>a+(V5.test(l)?O5:l===""?P5:L5),s)}function B5(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function F5(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Jf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),x=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Jf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Vs([l,_.pathname]),pathnameBase:Y5(Vs([l,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(l=Vs([l,_.pathnameBase]))}return c}function Jf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=H5(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:_},x)=>{if(v==="*"){let I=f[x]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const E=f[x];return _&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function H5(t,e=!1,n=!0){oi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function q5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G5=t=>z2.test(t);function $5(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?vl(t):t,l;if(n)if(G5(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Sx(n.substring(1),"/"):l=Sx(n,e)}else l=e;return{pathname:l,search:Q5(s),hash:X5(a)}}function Sx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W0(t){let e=K5(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Z0(t,e,n,s=!1){let a;typeof t=="string"?a=vl(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),dg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),dg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),dg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),_-=1;a.pathname=x.join("/")}f=_>=0?e[_]:"/"}let m=$5(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),Y5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,W5=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Z5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function J5(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var B2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function F2(t,e){let n=t;if(typeof n!="string"||!z2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(B2)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=js(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{oi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var H2=["POST","PUT","PATCH","DELETE"];new Set(H2);var e4=["GET",...H2];new Set(e4);var _l=M.createContext(null);_l.displayName="DataRouter";var Ad=M.createContext(null);Ad.displayName="DataRouterState";var t4=M.createContext(!1),q2=M.createContext({isTransitioning:!1});q2.displayName="ViewTransition";var n4=M.createContext(new Map);n4.displayName="Fetchers";var i4=M.createContext(null);i4.displayName="Await";var Fn=M.createContext(null);Fn.displayName="Navigation";var wu=M.createContext(null);wu.displayName="Location";var Ni=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var J0=M.createContext(null);J0.displayName="RouteError";var G2="REACT_ROUTER_ERROR",s4="REDIRECT",r4="ROUTE_ERROR_RESPONSE";function a4(t){if(t.startsWith(`${G2}:${s4}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function o4(t){if(t.startsWith(`${G2}:${r4}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W5(e.status,e.statusText,e.data)}catch{}}function l4(t,{relative:e}={}){dt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Fn),{hash:a,pathname:l,search:c}=Tu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Vs([n,l])),s.createHref({pathname:f,search:c,hash:a})}function bl(){return M.useContext(wu)!=null}function Hr(){return dt(bl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(wu).location}var $2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K2(t){M.useContext(Fn).static||M.useLayoutEffect(t)}function Y2(){let{isDataRoute:t}=M.useContext(Ni);return t?T4():c4()}function c4(){dt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(_l),{basename:e,navigator:n}=M.useContext(Fn),{matches:s}=M.useContext(Ni),{pathname:a}=Hr(),l=JSON.stringify(W0(s)),c=M.useRef(!1);return K2(()=>{c.current=!0}),M.useCallback((m,p={})=>{if(oi(c.current,$2),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=Z0(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Vs([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var u4=M.createContext(null);function h4(t){let e=M.useContext(Ni).outlet;return M.useMemo(()=>e&&M.createElement(u4.Provider,{value:t},e),[e,t])}function Tu(t,{relative:e}={}){let{matches:n}=M.useContext(Ni),{pathname:s}=Hr(),a=JSON.stringify(W0(n));return M.useMemo(()=>Z0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function f4(t,e){return Q2(t,e)}function Q2(t,e,n,s,a){var q;dt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Fn),{matches:c}=M.useContext(Ni),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let D=_&&_.path||"";W2(p,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=Hr(),E;if(e){let D=typeof e=="string"?vl(e):e;dt(v==="/"||((q=D.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),E=D}else E=x;let I=E.pathname||"/",V=I;if(v!=="/"){let D=v.replace(/^\//,"").split("/");V="/"+I.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=P2(t,{pathname:V});oi(_||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),oi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=y4(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:Vs([v,l.encodeLocation?l.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:Vs([v,l.encodeLocation?l.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,n,s,a);return e&&P?M.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function d4(){let t=w4(),e=Z5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,c)}var m4=M.createElement(d4,null),X2=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=o4(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Ni.Provider,{value:this.props.routeContext},M.createElement(J0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(p4,{error:t},e):e}};X2.contextType=t4;var mg=new WeakMap;function p4({children:t,error:e}){let{basename:n}=M.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=a4(e.digest);if(s){let a=mg.get(e);if(a)throw a;let l=F2(s.location,n);if(B2&&!mg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw mg.set(e,c),c}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function g4({routeContext:t,match:e,children:n}){let s=M.useContext(_l);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Ni.Provider,{value:t},n)}function y4(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);dt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:x,errors:E}=n,I=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||I){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(v,_)=>{var x,E;s(v,{location:n.location,params:((E=(x=n.matches)==null?void 0:x[0])==null?void 0:E.params)??{},unstable_pattern:J5(n.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,x)=>{let E,I=!1,V=null,C=null;n&&(E=c&&_.route.id?c[_.route.id]:void 0,V=_.route.errorElement||m4,f&&(m<0&&x===0?(W2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,C=null):m===x&&(I=!0,C=_.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,x+1)),q=()=>{let D;return E?D=V:I?D=C:_.route.Component?D=M.createElement(_.route.Component,null):_.route.element?D=_.route.element:D=v,M.createElement(g4,{match:_,routeContext:{outlet:v,matches:P,isDataRoute:n!=null},children:D})};return n&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?M.createElement(X2,{location:n.location,revalidation:n.revalidation,component:V,error:E,children:q(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:p}):q()},null)}function ey(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v4(t){let e=M.useContext(_l);return dt(e,ey(t)),e}function _4(t){let e=M.useContext(Ad);return dt(e,ey(t)),e}function b4(t){let e=M.useContext(Ni);return dt(e,ey(t)),e}function ty(t){let e=b4(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function x4(){return ty("useRouteId")}function w4(){var s;let t=M.useContext(J0),e=_4("useRouteError"),n=ty("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function T4(){let{router:t}=v4("useNavigate"),e=ty("useNavigate"),n=M.useRef(!1);return K2(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{oi(n.current,$2),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Ax={};function W2(t,e,n){!e&&!Ax[t]&&(Ax[t]=!0,oi(!1,n))}M.memo(E4);function E4({routes:t,future:e,state:n,onError:s}){return Q2(t,void 0,n,s,e)}function S4({to:t,replace:e,state:n,relative:s}){dt(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(Fn);oi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(Ni),{pathname:c}=Hr(),f=Y2(),m=Z0(t,W0(l),c,s==="path"),p=JSON.stringify(m);return M.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function A4(t){return h4(t.context)}function Ra(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R4({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){dt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=M.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=vl(n));let{pathname:p="/",search:v="",hash:_="",state:x=null,key:E="default"}=n,I=M.useMemo(()=>{let V=js(p,f);return V==null?null:{location:{pathname:V,search:v,hash:_,state:x,key:E},navigationType:s}},[f,p,v,_,x,E,s]);return oi(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:M.createElement(Fn.Provider,{value:m},M.createElement(wu.Provider,{children:e,value:I}))}function C4({children:t,location:e}){return f4(Qg(t),e)}function Qg(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let l=[...e,a];if(s.type===M.Fragment){n.push.apply(n,Qg(s.props.children,l));return}dt(s.type===Ra,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Qg(s.props.children,l)),n.push(c)}),n}var Of="get",jf="application/x-www-form-urlencoded";function Rd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function N4(t){return Rd(t)&&t.tagName.toLowerCase()==="button"}function I4(t){return Rd(t)&&t.tagName.toLowerCase()==="form"}function D4(t){return Rd(t)&&t.tagName.toLowerCase()==="input"}function M4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k4(t,e){return t.button===0&&(!e||e==="_self")&&!M4(t)}var vf=null;function V4(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch{vf=!0}return vf}var O4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pg(t){return t!=null&&!O4.has(t)?(oi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):t}function j4(t,e){let n,s,a,l,c;if(I4(t)){let f=t.getAttribute("action");s=f?js(f,e):null,n=t.getAttribute("method")||Of,a=pg(t.getAttribute("enctype"))||jf,l=new FormData(t)}else if(N4(t)||D4(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?js(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Of,a=pg(t.getAttribute("formenctype"))||pg(f.getAttribute("enctype"))||jf,l=new FormData(f,t),!V4()){let{name:p,type:v,value:_}=t;if(v==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,_)}}else{if(Rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Of,s=null,a=jf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ny(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P4(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&js(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function L4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z4(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await L4(l,n);return c.links?c.links():[]}return[]}));return q4(s.flat(1).filter(U4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Rx(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function B4(t,e,{includeHydrateFallback:n}={}){return F4(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function F4(t){return[...new Set(t)]}function H4(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function q4(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(H4(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Z2(){let t=M.useContext(_l);return ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G4(){let t=M.useContext(Ad);return ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iy=M.createContext(void 0);iy.displayName="FrameworkContext";function J2(){let t=M.useContext(iy);return ny(t,"You must render this element inside a <HydratedRouter> element"),t}function $4(t,e){let n=M.useContext(iy),[s,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,x=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=P=>{P.forEach(q=>{c(q.isIntersecting)})},C=new IntersectionObserver(V,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[t]),M.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let E=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Lc(f,E),onBlur:Lc(m,I),onMouseEnter:Lc(p,E),onMouseLeave:Lc(v,I),onTouchStart:Lc(_,E)}]:[!1,x,{}]}function Lc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function K4({page:t,...e}){let{router:n}=Z2(),s=M.useMemo(()=>P2(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(Q4,{page:t,matches:s,...e}):null}function Y4(t){let{manifest:e,routeModules:n}=J2(),[s,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return z4(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function Q4({page:t,matches:e,...n}){let s=Hr(),{future:a,manifest:l,routeModules:c}=J2(),{basename:f}=Z2(),{loaderData:m,matches:p}=G4(),v=M.useMemo(()=>Rx(t,e,p,l,s,"data"),[t,e,p,l,s]),_=M.useMemo(()=>Rx(t,e,p,l,s,"assets"),[t,e,p,l,s]),x=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let V=new Set,C=!1;if(e.forEach(q=>{var W;let D=l.routes[q.route.id];!D||!D.hasLoader||(!v.some(te=>te.route.id===q.route.id)&&q.route.id in m&&((W=c[q.route.id])!=null&&W.shouldRevalidate)||D.hasClientLoader?C=!0:V.add(q.route.id))}),V.size===0)return[];let P=P4(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return C&&V.size>0&&P.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[P.pathname+P.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,v,e,t,c]),E=M.useMemo(()=>B4(_,l),[_,l]),I=Y4(_);return M.createElement(M.Fragment,null,x.map(V=>M.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),E.map(V=>M.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),I.map(({key:V,link:C})=>M.createElement("link",{key:V,nonce:n.nonce,...C})))}function X4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W4&&(window.__reactRouterVersion="7.12.0")}catch{}function Z4({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=M.useRef();a.current==null&&(a.current=C5({window:s,v5Compat:!0}));let l=a.current,[c,f]=M.useState({action:l.action,location:l.location}),m=M.useCallback(p=>{n===!1?f(p):M.startTransition(()=>f(p))},[n]);return M.useLayoutEffect(()=>l.listen(m),[l,m]),M.createElement(R4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tE=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:x,...E},I){let{basename:V,unstable_useTransitions:C}=M.useContext(Fn),P=typeof p=="string"&&eE.test(p),q=F2(p,V);p=q.to;let D=l4(p,{relative:a}),[W,te,ae]=$4(s,E),N=tI(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function R(L){e&&e(L),L.defaultPrevented||N(L)}let k=M.createElement("a",{...E,...ae,href:q.absoluteURL||D,onClick:q.isExternal||l?e:R,ref:X4(I,te),target:m,"data-discover":!P&&n==="render"?"true":void 0});return W&&!P?M.createElement(M.Fragment,null,k,M.createElement(K4,{page:D})):k});tE.displayName="Link";var Kc=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},v){let _=Tu(c,{relative:p.relative}),x=Hr(),E=M.useContext(Ad),{navigator:I,basename:V}=M.useContext(Fn),C=E!=null&&aI(_)&&f===!0,P=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,q=x.pathname,D=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(q=q.toLowerCase(),D=D?D.toLowerCase():null,P=P.toLowerCase()),D&&V&&(D=js(D,V)||D);const W=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let te=q===P||!a&&q.startsWith(P)&&q.charAt(W)==="/",ae=D!=null&&(D===P||!a&&D.startsWith(P)&&D.charAt(P.length)==="/"),N={isActive:te,isPending:ae,isTransitioning:C},R=te?e:void 0,k;typeof s=="function"?k=s(N):k=[s,te?"active":null,ae?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return M.createElement(tE,{...p,"aria-current":R,className:k,ref:v,style:L,to:c,viewTransition:f},typeof m=="function"?m(N):m)});Kc.displayName="NavLink";var J4=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Of,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:x,...E},I)=>{let{unstable_useTransitions:V}=M.useContext(Fn),C=sI(),P=rI(f,{relative:p}),q=c.toLowerCase()==="get"?"get":"post",D=typeof f=="string"&&eE.test(f),W=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let ae=te.nativeEvent.submitter,N=(ae==null?void 0:ae.getAttribute("formmethod"))||c,R=()=>C(ae||te.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:x});V&&n!==!1?M.startTransition(()=>R()):R()};return M.createElement("form",{ref:I,method:q,action:P,onSubmit:s?m:W,...E,"data-discover":!D&&t==="render"?"true":void 0})});J4.displayName="Form";function eI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(t){let e=M.useContext(_l);return dt(e,eI(t)),e}function tI(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Y2(),v=Hr(),_=Tu(t,{relative:l});return M.useCallback(x=>{if(k4(x,e)){x.preventDefault();let E=n!==void 0?n:au(v)===au(_),I=()=>p(t,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?M.startTransition(()=>I()):I()}},[v,p,_,n,s,e,t,a,l,c,f,m])}var nI=0,iI=()=>`__${String(++nI)}__`;function sI(){let{router:t}=nE("useSubmit"),{basename:e}=M.useContext(Fn),n=x4(),s=t.fetch,a=t.navigate;return M.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:v,body:_}=j4(l,e);if(c.navigate===!1){let x=c.fetcherKey||iI();await s(x,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function rI(t,{relative:e}={}){let{basename:n}=M.useContext(Fn),s=M.useContext(Ni);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Tu(t||".",{relative:e})},c=Hr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Vs([n,l.pathname])),au(l)}function aI(t,{relative:e}={}){let n=M.useContext(q2);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nE("useViewTransitionState"),a=Tu(t,{relative:e});if(!n.isTransitioning)return!1;let l=js(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=js(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jf(a.pathname,c)!=null||Jf(a.pathname,l)!=null}const oI=()=>{};var Cx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},lI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let x=(f&15)<<2|p>>6,E=p&63;m||(E=64,c||(x=64)),s.push(n[v],n[_],n[x],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new cI;const x=l<<2|f>>4;if(s.push(x),p!==64){const E=f<<4&240|p>>2;if(s.push(E),_!==64){const I=p<<6&192|_;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(t){const e=iE(t);return sE.encodeByteArray(e,!0)},ed=function(t){return uI(t).replace(/\./g,"")},rE=function(t){try{return sE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>hI().__FIREBASE_DEFAULTS__,dI=()=>{if(typeof process>"u"||typeof Cx>"u")return;const t=Cx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rE(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return oI()||fI()||dI()||mI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aE=t=>{var e,n;return(n=(e=Cd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},oE=t=>{const e=aE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lE=()=>{var t;return(t=Cd())==null?void 0:t.config},cE=t=>{var e;return(e=Cd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ed(JSON.stringify(n)),ed(JSON.stringify(c)),""].join(".")}const Yc={};function gI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yc))Yc[e]?t.emulator.push(e):t.prod.push(e);return t}function yI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Nx=!1;function ry(t,e){if(typeof window>"u"||typeof document>"u"||!qr(window.location.host)||Yc[t]===e||Yc[t]||Nx)return;Yc[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=gI().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Nx=!0,c()},x}function v(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function _(){const x=yI(s),E=n("text"),I=document.getElementById(E)||document.createElement("span"),V=n("learnmore"),C=document.getElementById(V)||document.createElement("a"),P=n("preprendIcon"),q=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const D=x.element;f(D),v(C,V);const W=p();m(q,P),D.append(q,I,C,W),document.body.appendChild(D)}l?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function _I(){var e;const t=(e=Cd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TI(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EI(){return!_I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SI(){try{return typeof indexedDB=="object"}catch{return!1}}function AI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="FirebaseError";class hs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=RI,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?CI(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new hs(a,f,s)}}function CI(t,e){return t.replace(NI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const NI=/\{\$([^}]+)}/g;function II(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ha(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Ix(l)&&Ix(c)){if(!Ha(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function DI(t,e){const n=new MI(t,e);return n.subscribe.bind(n)}class MI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=gg),a.error===void 0&&(a.error=gg),a.complete===void 0&&(a.complete=gg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(t){return t===Ca?void 0:t}function jI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const LI={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},UI=Le.INFO,zI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},BI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=zI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ay{constructor(e){this.name=e,this._logLevel=UI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const FI=(t,e)=>e.some(n=>t instanceof n);let Dx,Mx;function HI(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,Xg=new WeakMap,fE=new WeakMap,yg=new WeakMap,oy=new WeakMap;function GI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Dr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&hE.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function $I(t){if(Xg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Xg.set(t,e)}let Wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KI(t){Wg=t(Wg)}function YI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(vg(this),e,...n);return fE.set(s,e.sort?e.sort():[e]),Dr(s)}:qI().includes(t)?function(...e){return t.apply(vg(this),e),Dr(hE.get(this))}:function(...e){return Dr(t.apply(vg(this),e))}}function QI(t){return typeof t=="function"?YI(t):(t instanceof IDBTransaction&&$I(t),FI(t,HI())?new Proxy(t,Wg):t)}function Dr(t){if(t instanceof IDBRequest)return GI(t);if(yg.has(t))return yg.get(t);const e=QI(t);return e!==t&&(yg.set(t,e),oy.set(e,t)),e}const vg=t=>oy.get(t);function XI(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Dr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Dr(c.result),m.oldVersion,m.newVersion,Dr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const WI=["get","getKey","getAll","getAllKeys","count"],ZI=["put","add","delete","clear"],_g=new Map;function kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ZI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||WI.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return _g.set(e,l),l}KI(t=>({...t,get:(e,n,s)=>kx(e,n)||t.get(e,n,s),has:(e,n)=>!!kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function e3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",Vx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new ay("@firebase/app"),t3="@firebase/app-compat",n3="@firebase/analytics-compat",i3="@firebase/analytics",s3="@firebase/app-check-compat",r3="@firebase/app-check",a3="@firebase/auth",o3="@firebase/auth-compat",l3="@firebase/database",c3="@firebase/data-connect",u3="@firebase/database-compat",h3="@firebase/functions",f3="@firebase/functions-compat",d3="@firebase/installations",m3="@firebase/installations-compat",p3="@firebase/messaging",g3="@firebase/messaging-compat",y3="@firebase/performance",v3="@firebase/performance-compat",_3="@firebase/remote-config",b3="@firebase/remote-config-compat",x3="@firebase/storage",w3="@firebase/storage-compat",T3="@firebase/firestore",E3="@firebase/ai",S3="@firebase/firestore-compat",A3="firebase",R3="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="[DEFAULT]",C3={[Zg]:"fire-core",[t3]:"fire-core-compat",[i3]:"fire-analytics",[n3]:"fire-analytics-compat",[r3]:"fire-app-check",[s3]:"fire-app-check-compat",[a3]:"fire-auth",[o3]:"fire-auth-compat",[l3]:"fire-rtdb",[c3]:"fire-data-connect",[u3]:"fire-rtdb-compat",[h3]:"fire-fn",[f3]:"fire-fn-compat",[d3]:"fire-iid",[m3]:"fire-iid-compat",[p3]:"fire-fcm",[g3]:"fire-fcm-compat",[y3]:"fire-perf",[v3]:"fire-perf-compat",[_3]:"fire-rc",[b3]:"fire-rc-compat",[x3]:"fire-gcs",[w3]:"fire-gcs-compat",[T3]:"fire-fst",[S3]:"fire-fst-compat",[E3]:"fire-vertex","fire-js":"fire-js",[A3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,N3=new Map,e0=new Map;function Ox(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(e0.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;e0.set(e,t);for(const n of td.values())Ox(n,t);for(const n of N3.values())Ox(n,t);return!0}function Nd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Eu("app","Firebase",I3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=R3;function dE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Jg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Mr.create("bad-app-name",{appName:String(a)});if(n||(n=lE()),!n)throw Mr.create("no-options");const l=td.get(a);if(l){if(Ha(n,l.options)&&Ha(s,l.config))return l;throw Mr.create("duplicate-app",{appName:a})}const c=new PI(a);for(const m of e0.values())c.addComponent(m);const f=new D3(n,s,c);return td.set(a,f),f}function ly(t=Jg){const e=td.get(t);if(!e&&t===Jg&&lE())return dE();if(!e)throw Mr.create("no-app",{appName:t});return e}function es(t,e,n){let s=C3[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(c.join(" "));return}qa(new Or(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="firebase-heartbeat-database",k3=1,ou="firebase-heartbeat-store";let bg=null;function mE(){return bg||(bg=XI(M3,k3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),bg}async function V3(t){try{const n=(await mE()).transaction(ou),s=await n.objectStore(ou).get(pE(t));return await n.done,s}catch(e){if(e instanceof hs)Ps.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function jx(t,e){try{const s=(await mE()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,pE(t)),await s.done}catch(n){if(n instanceof hs)Ps.warn(n.message);else{const s=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(s.message)}}}function pE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1024,j3=30;class P3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Px();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>j3){const c=z3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ps.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Px(),{heartbeatsToSend:s,unsentEntries:a}=L3(this._heartbeatsCache.heartbeats),l=ed(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ps.warn(n),""}}}function Px(){return new Date().toISOString().substring(0,10)}function L3(t,e=O3){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Lx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Lx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class U3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SI()?AI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lx(t){return ed(JSON.stringify({version:2,heartbeats:t})).length}function z3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){qa(new Or("platform-logger",e=>new JI(e),"PRIVATE")),qa(new Or("heartbeat",e=>new P3(e),"PRIVATE")),es(Zg,Vx,t),es(Zg,Vx,"esm2020"),es("fire-js","")}B3("");function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F3=gE,yE=new Eu("auth","Firebase",gE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new ay("@firebase/auth");function H3(t,...e){nd.logLevel<=Le.WARN&&nd.warn(`Auth (${Xa}): ${t}`,...e)}function Pf(t,...e){nd.logLevel<=Le.ERROR&&nd.error(`Auth (${Xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,...e){throw uy(t,...e)}function Ai(t,...e){return uy(t,...e)}function cy(t,e,n){const s={...F3(),[e]:n};return new Eu("auth","Firebase",s).create(e,{appName:t.name})}function ja(t){return cy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q3(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ls(t,"argument-error"),cy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return yE.create(t,...e)}function Te(t,e,...n){if(!t)throw uy(e,...n)}function Ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pf(e),new Error(e)}function Ls(t,e){t||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function G3(){return Ux()==="http:"||Ux()==="https:"}function Ux(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G3()||xI()||"connection"in navigator)?navigator.onLine:!0}function K3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=vI()||wI()}get(){return $3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X3=new Au(3e4,6e4);function fy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xl(t,e,n,s,a={}){return _E(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Su({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return bI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&qr(t.emulatorConfig.host)&&(p.credentials="include"),vE.fetch()(await bE(t,t.config.apiHost,n,f),p)})}async function _E(t,e,n){t._canInitEmulator=!1;const s={...Y3,...e};try{const a=new Z3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw _f(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw _f(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw _f(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw cy(t,v,p);ls(t,v)}}catch(a){if(a instanceof hs)throw a;ls(t,"network-request-failed",{message:String(a)})}}async function W3(t,e,n,s,a={}){const l=await xl(t,e,n,s,a);return"mfaPendingCredential"in l&&ls(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function bE(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?hy(t.config,a):`${t.config.apiScheme}://${a}`;return Q3.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Z3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),X3.get())})}}function _f(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ai(t,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){return xl(t,"POST","/v1/accounts:delete",e)}async function id(t,e){return xl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eD(t,e=!1){const n=xt(t),s=await n.getIdToken(e),a=dy(s);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Qc(xg(a.auth_time)),issuedAtTime:Qc(xg(a.iat)),expirationTime:Qc(xg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xg(t){return Number(t)*1e3}function dy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Pf("JWT malformed, contained fewer than 3 sections"),null;try{const a=rE(n);return a?JSON.parse(a):(Pf("Failed to decode base64 JWT payload"),null)}catch(a){return Pf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function zx(t){const e=dy(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hs&&tD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function tD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t){var _;const e=t.auth,n=await t.getIdToken(),s=await lu(t,id(e,{idToken:n}));Te(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?xE(a.providerUserInfo):[],c=sD(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new n0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function iD(t){const e=xt(t);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sD(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function xE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){const n=await _E(t,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await bE(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&qr(t.emulatorConfig.host)&&(m.credentials="include"),vE.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aD(t,e){return xl(t,"POST","/v2/accounts:revokeToken",fy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=zx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await rD(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new tl;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new n0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eD(this,e)}reload(){return iD(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await lu(this,J3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:x,isAnonymous:E,providerData:I,stsTokenManager:V}=n;Te(_&&V,e,"internal-error");const C=tl.fromJSON(this.name,V);Te(typeof _=="string",e,"internal-error"),Tr(s,e.name),Tr(a,e.name),Te(typeof x=="boolean",e,"internal-error"),Te(typeof E=="boolean",e,"internal-error"),Tr(l,e.name),Tr(c,e.name),Tr(f,e.name),Tr(m,e.name),Tr(p,e.name),Tr(v,e.name);const P=new Ei({uid:_,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:E,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:C,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(P.providerData=I.map(q=>({...q}))),m&&(P._redirectEventId=m),P}static async _fromIdTokenResponse(e,n,s=!1){const a=new tl;a.updateFromServerResponse(n);const l=new Ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await sd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?xE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new tl;f.updateFromIdToken(s);const m=new Ei({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new n0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;function ks(t){Ls(t instanceof Function,"Expected a class definition");let e=Bx.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wE.type="NONE";const Fx=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Lf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Lf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await id(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new nl(ks(Fx),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ks(Fx);const c=Lf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const x=await id(e,{idToken:v}).catch(()=>{});if(!x)break;_=await Ei._fromGetAccountInfoResponse(e,x,v)}else _=Ei._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new nl(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new nl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(NE(e))return"Webos";if(EE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function TE(t=dn()){return/firefox\//i.test(t)}function EE(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(t=dn()){return/crios\//i.test(t)}function AE(t=dn()){return/iemobile/i.test(t)}function RE(t=dn()){return/android/i.test(t)}function CE(t=dn()){return/blackberry/i.test(t)}function NE(t=dn()){return/webos/i.test(t)}function my(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oD(t=dn()){var e;return my(t)&&!!((e=window.navigator)!=null&&e.standalone)}function lD(){return TI()&&document.documentMode===10}function IE(t=dn()){return my(t)||RE(t)||NE(t)||CE(t)||/windows phone/i.test(t)||AE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e=[]){let n;switch(t){case"Browser":n=Hx(dn());break;case"Worker":n=`${Hx(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e={}){return xl(t,"GET","/v2/passwordPolicy",fy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=6;class fD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qx(this),this.idTokenSubscription=new qx(this),this.beforeStateQueue=new cD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await id(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(ja(this));const n=e?xt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uD(this),n=new fD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&H3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Id(t){return xt(t)}class qx{constructor(e){this.auth=e,this.observer=null,this.addObserver=DI(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let py={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(t){py=t}function pD(t){return py.loadJS(t)}function gD(){return py.gapiScript}function yD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){const n=Nd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ha(l,e??{}))return a;ls(a,"already-initialized")}return n.initialize({options:e})}function _D(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function bD(t,e,n){const s=Id(t);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=ME(e),{host:c,port:f}=xD(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ha(p,s.config.emulator)&&Ha(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,qr(c)?(sy(`${l}//${c}${m}`),ry("Auth",!0)):wD()}function ME(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xD(t){const e=ME(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Gx(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Gx(c)}}}function Gx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t,e){return W3(t,"POST","/v1/accounts:signInWithIdp",fy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="http://localhost";class Ga extends kE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ga(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,il(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:TD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends gy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Ru{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ds.credential(n,s)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ru{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ei._fromIdTokenResponse(e,s,a),c=$x(s);return new ol({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=$x(s);return new ol({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function $x(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends hs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new rd(e,n,s,a)}}function VE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,l,e,s):l})}async function ED(t,e,n=!1){const s=await lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ol._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e,n=!1){const{auth:s}=t;if(ii(s.app))return Promise.reject(ja(s));const a="reauthenticate";try{const l=await lu(t,VE(s,a,e,t),n);Te(l.idToken,s,"internal-error");const c=dy(l.idToken);Te(c,s,"internal-error");const{sub:f}=c;return Te(t.uid===f,s,"user-mismatch"),ol._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ls(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e,n=!1){if(ii(t.app))return Promise.reject(ja(t));const s="signIn",a=await VE(t,s,e),l=await ol._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function RD(t,e,n,s){return xt(t).onIdTokenChanged(e,n,s)}function CD(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function ND(t,e,n,s){return xt(t).onAuthStateChanged(e,n,s)}function ID(t){return xt(t).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=1e3,MD=10;class jE extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);lD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,MD):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jE.type="LOCAL";const kD=jE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PE.type="SESSION";const LE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Dd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await VD(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=yy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const x=_;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function jD(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function PD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function UD(){return UE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",zD=1,od="firebaseLocalStorage",BE="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function BD(){const t=indexedDB.deleteDatabase(zE);return new Cu(t).toPromise()}function i0(){const t=indexedDB.open(zE,zD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(od,{keyPath:BE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(od)?e(s):(s.close(),await BD(),e(await i0()))})})}async function Kx(t,e,n){const s=Md(t,!0).put({[BE]:e,value:n});return new Cu(s).toPromise()}async function FD(t,e){const n=Md(t,!1).get(e),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function Yx(t,e){const n=Md(t,!0).delete(e);return new Cu(n).toPromise()}const HD=800,qD=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await i0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(UD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await PD(),!this.activeServiceWorker)return;this.sender=new OD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await i0();return await Kx(e,ad,"1"),await Yx(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>FD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Md(a,!1).getAll();return new Cu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const GD=FE;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t,e){return e?ks(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends kE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $D(t){return AD(t.auth,new vy(t),t.bypassAuthState)}function KD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),SD(n,new vy(t),t.bypassAuthState)}async function YD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),ED(n,new vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $D;case"linkViaPopup":case"linkViaRedirect":return YD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:ls(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Au(2e3,1e4);async function XD(t,e,n){if(ii(t.app))return Promise.reject(Ai(t,"operation-not-supported-in-this-environment"));const s=Id(t);q3(t,e,gy);const a=HE(s,n);return new Da(s,"signInViaPopup",e,a).executeNotNull()}class Da extends qE{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QD.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="pendingRedirect",Uf=new Map;class ZD extends qE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Uf.get(this.auth._key());if(!e){try{const s=await JD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(t,e){const n=nM(e),s=tM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function eM(t,e){Uf.set(t._key(),e)}function tM(t){return ks(t._redirectPersistence)}function nM(t){return Lf(WD,t.config.apiKey,t.name)}async function iM(t,e,n=!1){if(ii(t.app))return Promise.reject(ja(t));const s=Id(t),a=HE(s,e),c=await new ZD(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=600*1e3;class rM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!GE(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qx(e))}saveEventToCache(e){this.cachedEventUids.add(Qx(e)),this.lastProcessedEventTime=Date.now()}}function Qx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return xl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cM=/^https?/;async function uM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oM(t);for(const n of e)try{if(hM(n))return}catch{}ls(t,"unauthorized-domain")}function hM(t){const e=t0(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!cM.test(n))return!1;if(lM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Au(3e4,6e4);function Xx(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dM(t){return new Promise((e,n)=>{var a,l,c;function s(){Xx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xx(),n(Ai(t,"network-request-failed"))},timeout:fM.get()})}if((l=(a=ts().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=ts().gapi)!=null&&c.load)s();else{const f=yD("iframefcb");return ts()[f]=()=>{gapi.load?s():n(Ai(t,"network-request-failed"))},pD(`${gD()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw zf=null,e})}let zf=null;function mM(t){return zf=zf||dM(t),zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Au(5e3,15e3),gM="__/auth/iframe",yM="emulator/auth/iframe",vM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_M=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bM(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hy(e,yM):`https://${t.config.authDomain}/${gM}`,s={apiKey:e.apiKey,appName:t.name,v:Xa},a=_M.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Su(s).slice(1)}`}async function xM(t){const e=await mM(t),n=ts().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:bM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ai(t,"network-request-failed"),f=ts().setTimeout(()=>{l(c)},pM.get());function m(){ts().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TM=500,EM=600,SM="_blank",AM="http://localhost";class Wx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RM(t,e,n,s=TM,a=EM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...wM,width:s.toString(),height:a.toString(),top:l,left:c},p=dn().toLowerCase();n&&(f=SE(p)?SM:n),TE(p)&&(e=e||AM,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[E,I])=>`${x}${E}=${I},`,"");if(oD(p)&&f!=="_self")return CM(e||"",f),new Wx(null);const _=window.open(e||"",f,v);Te(_,t,"popup-blocked");try{_.focus()}catch{}return new Wx(_)}function CM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="__/auth/handler",IM="emulator/auth/handler",DM=encodeURIComponent("fac");async function Zx(t,e,n,s,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Xa,eventId:a};if(e instanceof gy){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",II(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Ru){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${DM}=${encodeURIComponent(m)}`:"";return`${MM(t)}?${Su(f).slice(1)}${p}`}function MM({config:t}){return t.emulator?hy(t,IM):`https://${t.authDomain}/${NM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="webStorageSupport";class kM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=iM,this._overrideRedirectResult=eM}async _openPopup(e,n,s,a){var c;Ls((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Zx(e,n,s,t0(),a);return RM(e,l,yy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Zx(e,n,s,t0(),a);return jD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ls(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xM(e),s=new rM(e);return n.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wg,{type:wg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[wg];l!==void 0&&n(!!l),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IE()||EE()||my()}}const VM=kM;var Jx="@firebase/auth",ew="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PM(t){qa(new Or("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DE(t)},p=new dD(s,a,l,m);return _D(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qa(new Or("auth-internal",e=>{const n=Id(e.getProvider("auth").getImmediate());return(s=>new OM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Jx,ew,jM(t)),es(Jx,ew,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=300,UM=cE("authIdTokenMaxAge")||LM;let tw=null;const zM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UM)return;const a=n==null?void 0:n.token;tw!==a&&(tw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BM(t=ly()){const e=Nd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vD(t,{popupRedirectResolver:VM,persistence:[GD,kD,LE]}),s=cE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=zM(l.toString());CD(n,c,()=>c(n.currentUser)),RD(n,f=>c(f))}}const a=aE("auth");return a&&bD(n,`http://${a}`),n}function FM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}mD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ai("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",FM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PM("Browser");var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,$E;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function k(){}k.prototype=R.prototype,N.F=R.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(L,U,H){for(var O=Array(arguments.length-2),st=2;st<arguments.length;st++)O[st-2]=arguments[st];return R.prototype[U].apply(L,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,k){k||(k=0);const L=Array(16);if(typeof R=="string")for(var U=0;U<16;++U)L[U]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(U=0;U<16;++U)L[U]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=N.g[0],k=N.g[1],U=N.g[2];let H=N.g[3],O;O=R+(H^k&(U^H))+L[0]+3614090360&4294967295,R=k+(O<<7&4294967295|O>>>25),O=H+(U^R&(k^U))+L[1]+3905402710&4294967295,H=R+(O<<12&4294967295|O>>>20),O=U+(k^H&(R^k))+L[2]+606105819&4294967295,U=H+(O<<17&4294967295|O>>>15),O=k+(R^U&(H^R))+L[3]+3250441966&4294967295,k=U+(O<<22&4294967295|O>>>10),O=R+(H^k&(U^H))+L[4]+4118548399&4294967295,R=k+(O<<7&4294967295|O>>>25),O=H+(U^R&(k^U))+L[5]+1200080426&4294967295,H=R+(O<<12&4294967295|O>>>20),O=U+(k^H&(R^k))+L[6]+2821735955&4294967295,U=H+(O<<17&4294967295|O>>>15),O=k+(R^U&(H^R))+L[7]+4249261313&4294967295,k=U+(O<<22&4294967295|O>>>10),O=R+(H^k&(U^H))+L[8]+1770035416&4294967295,R=k+(O<<7&4294967295|O>>>25),O=H+(U^R&(k^U))+L[9]+2336552879&4294967295,H=R+(O<<12&4294967295|O>>>20),O=U+(k^H&(R^k))+L[10]+4294925233&4294967295,U=H+(O<<17&4294967295|O>>>15),O=k+(R^U&(H^R))+L[11]+2304563134&4294967295,k=U+(O<<22&4294967295|O>>>10),O=R+(H^k&(U^H))+L[12]+1804603682&4294967295,R=k+(O<<7&4294967295|O>>>25),O=H+(U^R&(k^U))+L[13]+4254626195&4294967295,H=R+(O<<12&4294967295|O>>>20),O=U+(k^H&(R^k))+L[14]+2792965006&4294967295,U=H+(O<<17&4294967295|O>>>15),O=k+(R^U&(H^R))+L[15]+1236535329&4294967295,k=U+(O<<22&4294967295|O>>>10),O=R+(U^H&(k^U))+L[1]+4129170786&4294967295,R=k+(O<<5&4294967295|O>>>27),O=H+(k^U&(R^k))+L[6]+3225465664&4294967295,H=R+(O<<9&4294967295|O>>>23),O=U+(R^k&(H^R))+L[11]+643717713&4294967295,U=H+(O<<14&4294967295|O>>>18),O=k+(H^R&(U^H))+L[0]+3921069994&4294967295,k=U+(O<<20&4294967295|O>>>12),O=R+(U^H&(k^U))+L[5]+3593408605&4294967295,R=k+(O<<5&4294967295|O>>>27),O=H+(k^U&(R^k))+L[10]+38016083&4294967295,H=R+(O<<9&4294967295|O>>>23),O=U+(R^k&(H^R))+L[15]+3634488961&4294967295,U=H+(O<<14&4294967295|O>>>18),O=k+(H^R&(U^H))+L[4]+3889429448&4294967295,k=U+(O<<20&4294967295|O>>>12),O=R+(U^H&(k^U))+L[9]+568446438&4294967295,R=k+(O<<5&4294967295|O>>>27),O=H+(k^U&(R^k))+L[14]+3275163606&4294967295,H=R+(O<<9&4294967295|O>>>23),O=U+(R^k&(H^R))+L[3]+4107603335&4294967295,U=H+(O<<14&4294967295|O>>>18),O=k+(H^R&(U^H))+L[8]+1163531501&4294967295,k=U+(O<<20&4294967295|O>>>12),O=R+(U^H&(k^U))+L[13]+2850285829&4294967295,R=k+(O<<5&4294967295|O>>>27),O=H+(k^U&(R^k))+L[2]+4243563512&4294967295,H=R+(O<<9&4294967295|O>>>23),O=U+(R^k&(H^R))+L[7]+1735328473&4294967295,U=H+(O<<14&4294967295|O>>>18),O=k+(H^R&(U^H))+L[12]+2368359562&4294967295,k=U+(O<<20&4294967295|O>>>12),O=R+(k^U^H)+L[5]+4294588738&4294967295,R=k+(O<<4&4294967295|O>>>28),O=H+(R^k^U)+L[8]+2272392833&4294967295,H=R+(O<<11&4294967295|O>>>21),O=U+(H^R^k)+L[11]+1839030562&4294967295,U=H+(O<<16&4294967295|O>>>16),O=k+(U^H^R)+L[14]+4259657740&4294967295,k=U+(O<<23&4294967295|O>>>9),O=R+(k^U^H)+L[1]+2763975236&4294967295,R=k+(O<<4&4294967295|O>>>28),O=H+(R^k^U)+L[4]+1272893353&4294967295,H=R+(O<<11&4294967295|O>>>21),O=U+(H^R^k)+L[7]+4139469664&4294967295,U=H+(O<<16&4294967295|O>>>16),O=k+(U^H^R)+L[10]+3200236656&4294967295,k=U+(O<<23&4294967295|O>>>9),O=R+(k^U^H)+L[13]+681279174&4294967295,R=k+(O<<4&4294967295|O>>>28),O=H+(R^k^U)+L[0]+3936430074&4294967295,H=R+(O<<11&4294967295|O>>>21),O=U+(H^R^k)+L[3]+3572445317&4294967295,U=H+(O<<16&4294967295|O>>>16),O=k+(U^H^R)+L[6]+76029189&4294967295,k=U+(O<<23&4294967295|O>>>9),O=R+(k^U^H)+L[9]+3654602809&4294967295,R=k+(O<<4&4294967295|O>>>28),O=H+(R^k^U)+L[12]+3873151461&4294967295,H=R+(O<<11&4294967295|O>>>21),O=U+(H^R^k)+L[15]+530742520&4294967295,U=H+(O<<16&4294967295|O>>>16),O=k+(U^H^R)+L[2]+3299628645&4294967295,k=U+(O<<23&4294967295|O>>>9),O=R+(U^(k|~H))+L[0]+4096336452&4294967295,R=k+(O<<6&4294967295|O>>>26),O=H+(k^(R|~U))+L[7]+1126891415&4294967295,H=R+(O<<10&4294967295|O>>>22),O=U+(R^(H|~k))+L[14]+2878612391&4294967295,U=H+(O<<15&4294967295|O>>>17),O=k+(H^(U|~R))+L[5]+4237533241&4294967295,k=U+(O<<21&4294967295|O>>>11),O=R+(U^(k|~H))+L[12]+1700485571&4294967295,R=k+(O<<6&4294967295|O>>>26),O=H+(k^(R|~U))+L[3]+2399980690&4294967295,H=R+(O<<10&4294967295|O>>>22),O=U+(R^(H|~k))+L[10]+4293915773&4294967295,U=H+(O<<15&4294967295|O>>>17),O=k+(H^(U|~R))+L[1]+2240044497&4294967295,k=U+(O<<21&4294967295|O>>>11),O=R+(U^(k|~H))+L[8]+1873313359&4294967295,R=k+(O<<6&4294967295|O>>>26),O=H+(k^(R|~U))+L[15]+4264355552&4294967295,H=R+(O<<10&4294967295|O>>>22),O=U+(R^(H|~k))+L[6]+2734768916&4294967295,U=H+(O<<15&4294967295|O>>>17),O=k+(H^(U|~R))+L[13]+1309151649&4294967295,k=U+(O<<21&4294967295|O>>>11),O=R+(U^(k|~H))+L[4]+4149444226&4294967295,R=k+(O<<6&4294967295|O>>>26),O=H+(k^(R|~U))+L[11]+3174756917&4294967295,H=R+(O<<10&4294967295|O>>>22),O=U+(R^(H|~k))+L[2]+718787259&4294967295,U=H+(O<<15&4294967295|O>>>17),O=k+(H^(U|~R))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+H&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const k=R-this.blockSize,L=this.C;let U=this.h,H=0;for(;H<R;){if(U==0)for(;H<=k;)a(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<R;)if(L[U++]=N.charCodeAt(H++),U==this.blockSize){a(this,L),U=0;break}}else for(;H<R;)if(L[U++]=N[H++],U==this.blockSize){a(this,L),U=0;break}}this.h=U,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,k=0;k<4;++k)for(let L=0;L<32;L+=8)N[R++]=this.g[k]>>>L&255;return N};function l(N,R){var k=f;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=R(N)}function c(N,R){this.h=R;const k=[];let L=!0;for(let U=N.length-1;U>=0;U--){const H=N[U]|0;L&&H==R||(k[U]=H,L=!1)}this.g=k}var f={};function m(N){return-128<=N&&N<128?l(N,function(R){return new c([R|0],R<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return C(p(-N));const R=[];let k=1;for(let L=0;N>=k;L++)R[L]=N/k|0,k*=4294967296;return new c(R,0)}function v(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return C(v(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=p(Math.pow(R,8));let L=_;for(let H=0;H<N.length;H+=8){var U=Math.min(8,N.length-H);const O=parseInt(N.substring(H,H+U),R);U<8?(U=p(Math.pow(R,U)),L=L.j(U).add(p(O))):(L=L.j(k),L=L.add(p(O)))}return L}var _=m(0),x=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(V(this))return-C(this).m();let N=0,R=1;for(let k=0;k<this.g.length;k++){const L=this.i(k);N+=(L>=0?L:4294967296+L)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(V(this))return"-"+C(this).toString(N);const R=p(Math.pow(N,6));var k=this;let L="";for(;;){const U=W(k,R).g;k=P(k,U.j(R));let H=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=U,I(k))return H+L;for(;H.length<6;)H="0"+H;L=H+L}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function V(N){return N.h==-1}t.l=function(N){return N=P(this,N),V(N)?-1:I(N)?0:1};function C(N){const R=N.g.length,k=[];for(let L=0;L<R;L++)k[L]=~N.g[L];return new c(k,~N.h).add(x)}t.abs=function(){return V(this)?C(this):this},t.add=function(N){const R=Math.max(this.g.length,N.g.length),k=[];let L=0;for(let U=0;U<=R;U++){let H=L+(this.i(U)&65535)+(N.i(U)&65535),O=(H>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);L=O>>>16,H&=65535,O&=65535,k[U]=O<<16|H}return new c(k,k[k.length-1]&-2147483648?-1:0)};function P(N,R){return N.add(C(R))}t.j=function(N){if(I(this)||I(N))return _;if(V(this))return V(N)?C(this).j(C(N)):C(C(this).j(N));if(V(N))return C(this.j(C(N)));if(this.l(E)<0&&N.l(E)<0)return p(this.m()*N.m());const R=this.g.length+N.g.length,k=[];for(var L=0;L<2*R;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(let U=0;U<N.g.length;U++){const H=this.i(L)>>>16,O=this.i(L)&65535,st=N.i(U)>>>16,gt=N.i(U)&65535;k[2*L+2*U]+=O*gt,q(k,2*L+2*U),k[2*L+2*U+1]+=H*gt,q(k,2*L+2*U+1),k[2*L+2*U+1]+=O*st,q(k,2*L+2*U+1),k[2*L+2*U+2]+=H*st,q(k,2*L+2*U+2)}for(N=0;N<R;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=R;N<2*R;N++)k[N]=0;return new c(k,0)};function q(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function D(N,R){this.g=N,this.h=R}function W(N,R){if(I(R))throw Error("division by zero");if(I(N))return new D(_,_);if(V(N))return R=W(C(N),R),new D(C(R.g),C(R.h));if(V(R))return R=W(N,C(R)),new D(C(R.g),R.h);if(N.g.length>30){if(V(N)||V(R))throw Error("slowDivide_ only works with positive integers.");for(var k=x,L=R;L.l(N)<=0;)k=te(k),L=te(L);var U=ae(k,1),H=ae(L,1);for(L=ae(L,2),k=ae(k,2);!I(L);){var O=H.add(L);O.l(N)<=0&&(U=U.add(k),H=O),L=ae(L,1),k=ae(k,1)}return R=P(N,U.j(R)),new D(U,R)}for(U=_;N.l(R)>=0;){for(k=Math.max(1,Math.floor(N.m()/R.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),H=p(k),O=H.j(R);V(O)||O.l(N)>0;)k-=L,H=p(k),O=H.j(R);I(H)&&(H=x),U=U.add(H),N=P(N,O)}return new D(U,N)}t.B=function(N){return W(this,N).h},t.and=function(N){const R=Math.max(this.g.length,N.g.length),k=[];for(let L=0;L<R;L++)k[L]=this.i(L)&N.i(L);return new c(k,this.h&N.h)},t.or=function(N){const R=Math.max(this.g.length,N.g.length),k=[];for(let L=0;L<R;L++)k[L]=this.i(L)|N.i(L);return new c(k,this.h|N.h)},t.xor=function(N){const R=Math.max(this.g.length,N.g.length),k=[];for(let L=0;L<R;L++)k[L]=this.i(L)^N.i(L);return new c(k,this.h^N.h)};function te(N){const R=N.g.length+1,k=[];for(let L=0;L<R;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(k,N.h)}function ae(N,R){const k=R>>5;R%=32;const L=N.g.length-k,U=[];for(let H=0;H<L;H++)U[H]=R>0?N.i(H+k)>>>R|N.i(H+k+1)<<32-R:N.i(H+k);return new c(U,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$E=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,kr=c}).apply(typeof nw<"u"?nw:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,Fc,YE,Bf,s0,QE,XE,WE;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,b){if(b)e:{var T=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break e;T=T[G]}h=h[h.length-1],A=T[h],b=b(A),b!=A&&b!=null&&e(T,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var T=[],A;for(A in b)Object.prototype.hasOwnProperty.call(b,A)&&T.push([A,b[A]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,T){return h.call.apply(h.bind,arguments)}function p(h,b,T){return p=m,p.apply(null,arguments)}function v(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(A,G,Q){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return b.prototype[G].apply(A,le)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function E(h){const b=h.length;if(b>0){const T=Array(b);for(let A=0;A<b;A++)T[A]=h[A];return T}return[]}function I(h,b){for(let A=1;A<arguments.length;A++){const G=arguments[A];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=h.length||0;const Q=G.length||0;h.length=T+Q;for(let le=0;le<Q;le++)h[T+le]=G[le]}else h.push(G)}}class V{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function C(h){c.setTimeout(()=>{throw h},0)}function P(){var h=N;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class q{constructor(){this.h=this.g=null}add(b,T){const A=D.get();A.set(b,T),this.h?this.h.next=A:this.g=A,this.h=A}}var D=new V(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ae=!1,N=new q,R=()=>{const h=Promise.resolve(void 0);te=()=>{h.then(k)}};function k(){for(var h;h=P();){try{h.h.call(h.g)}catch(T){C(T)}var b=D;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ae=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function st(h,b){U.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}_(st,U),st.prototype.init=function(h,b){const T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(h,b,T,A,G){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!A,this.ha=G,this.key=++J,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,b,T){for(const A in h)b.call(T,h[A],A,h)}function Oe(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function B(h){const b={};for(const T in h)b[T]=h[T];return b}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,b){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let Q=0;Q<se.length;Q++)T=se[Q],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,b,T,A,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=De(h,b,A,G);return le>-1?(b=h[le],T||(b.fa=!1)):(b=new oe(b,this.src,Q,!!A,G),b.fa=T,h.push(b)),b};function Ee(h,b){const T=b.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,b,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(A,G,1),Q&&(de(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function De(h,b,T,A){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==b&&Q.capture==!!T&&Q.ha==A)return G}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Ft={};function ut(h,b,T,A,G){if(Array.isArray(b)){for(let Q=0;Q<b.length;Q++)ut(h,b[Q],T,A,G);return null}return T=Vl(T),h&&h[gt]?h.J(b,T,f(A)?!!A.capture:!1,G):Qr(h,b,T,!1,A,G)}function Qr(h,b,T,A,G,Q){if(!b)throw Error("Invalid event type");const le=f(G)?!!G.capture:!!G;let Ce=Xr(h);if(Ce||(h[He]=Ce=new fe(h)),T=Ce.add(b,T,A,le,Q),T.proxy)return T;if(A=eo(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)H||(G=le),G===void 0&&(G=!1),h.addEventListener(b.toString(),A,G);else if(h.attachEvent)h.attachEvent(Ii(b.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function eo(){function h(T){return b.call(h.src,h.listener,T)}const b=Ml;return h}function to(h,b,T,A,G){if(Array.isArray(b))for(var Q=0;Q<b.length;Q++)to(h,b[Q],T,A,G);else A=f(A)?!!A.capture:!!A,T=Vl(T),h&&h[gt]?(h=h.i,Q=String(b).toString(),Q in h.g&&(b=h.g[Q],T=De(b,T,A,G),T>-1&&(de(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Xr(h))&&(b=h.g[b.toString()],h=-1,b&&(h=De(b,T,A,G)),(T=h>-1?b[h]:null)&&no(T))}function no(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[gt])Ee(b.i,h);else{var T=h.type,A=h.proxy;b.removeEventListener?b.removeEventListener(T,A,h.capture):b.detachEvent?b.detachEvent(Ii(T),A):b.addListener&&b.removeListener&&b.removeListener(A),(T=Xr(b))?(Ee(T,h),T.h==0&&(T.src=null,b[He]=null)):de(h)}}}function Ii(h){return h in Ft?Ft[h]:Ft[h]="on"+h}function Ml(h,b){if(h.da)h=!0;else{b=new st(b,this);const T=h.listener,A=h.ha||h.src;h.fa&&no(h),h=T.call(A,b)}return h}function Xr(h){return h=h[He],h instanceof fe?h:null}var kl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vl(h){return typeof h=="function"?h:(h[kl]||(h[kl]=function(b){return h.handleEvent(b)}),h[kl])}function Nt(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}_(Nt,L),Nt.prototype[gt]=!0,Nt.prototype.removeEventListener=function(h,b,T,A){to(this,h,b,T,A)};function Ht(h,b){var T,A=h.G;if(A)for(T=[];A;A=A.G)T.push(A);if(h=h.M,A=b.type||b,typeof b=="string")b=new U(b,h);else if(b instanceof U)b.target=b.target||h;else{var G=b;b=new U(A,h),ce(b,G)}G=!0;let Q,le;if(T)for(le=T.length-1;le>=0;le--)Q=b.g=T[le],G=qs(Q,A,!0,b)&&G;if(Q=b.g=h,G=qs(Q,A,!0,b)&&G,G=qs(Q,A,!1,b)&&G,T)for(le=0;le<T.length;le++)Q=b.g=T[le],G=qs(Q,A,!1,b)&&G}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let A=0;A<T.length;A++)de(T[A]);delete h.g[b],h.h--}}this.G=null},Nt.prototype.J=function(h,b,T,A){return this.i.add(String(h),b,!1,T,A)},Nt.prototype.K=function(h,b,T,A){return this.i.add(String(h),b,!0,T,A)};function qs(h,b,T,A){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let G=!0;for(let Q=0;Q<b.length;++Q){const le=b[Q];if(le&&!le.da&&le.capture==T){const Ce=le.listener,St=le.ha||le.src;le.fa&&Ee(h.i,le),G=Ce.call(St,A)!==!1&&G}}return G&&!A.defaultPrevented}function cm(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function Fu(h){h.g=cm(()=>{h.g=null,h.i&&(h.i=!1,Fu(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class mn extends L{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(h){L.call(this),this.h=h,this.g={}}_(Wr,L);var Ol=[];function jl(h){Ie(h.g,function(b,T){this.g.hasOwnProperty(T)&&no(b)},h),h.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),jl(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=c.JSON.stringify,um=c.JSON.parse,Hu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function qu(){}function Gu(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){U.call(this,"d")}_(Jt,U);function Hn(){U.call(this,"c")}_(Hn,U);var Et={},$u=null;function io(){return $u=$u||new Nt}Et.Ia="serverreachability";function Ku(h){U.call(this,Et.Ia,h)}_(Ku,U);function Di(h){const b=io();Ht(b,new Ku(b))}Et.STAT_EVENT="statevent";function Zr(h,b){U.call(this,Et.STAT_EVENT,h),this.stat=b}_(Zr,U);function It(h){const b=io();Ht(b,new Zr(b,h))}Et.Ja="timingevent";function Mi(h,b){U.call(this,Et.Ja,h),this.size=b}_(Mi,U);function ki(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function hm(h,b,T,A,G,Q){h.info(function(){if(h.g)if(Q){var le="",Ce=Q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var St=Ce[Ke].split("=");if(St.length>1){const ht=St[0];St=St[1];const Kn=ht.split("_");le=Kn.length>=2&&Kn[1]=="type"?le+(ht+"="+St+"&"):le+(ht+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+b+`
`+T+`
`+le})}function Yu(h,b,T,A,G,Q,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+b+`
`+T+`
`+Q+" "+le})}function Vi(h,b,T,A){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+fm(h,T)+(A?" "+A:"")})}function Jr(h,b){h.info(function(){return"TIMEOUT: "+b})}ui.prototype.info=function(){};function fm(h,b){if(!h.g)return b;if(!b)return null;try{const Q=JSON.parse(b);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var A=T[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Gs(Q)}catch{return b}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function ta(){}_(ta,qu),ta.prototype.g=function(){return new XMLHttpRequest},Ll=new ta;function fs(h){return encodeURIComponent(String(h))}function Qu(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function hi(h,b,T,A){this.j=h,this.i=b,this.l=T,this.S=A||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Dt={},Kt={};function Oi(h,b,T){h.M=1,h.A=na(kt(b)),h.u=T,h.R=!0,so(h,null)}function so(h,b){h.F=Date.now(),ji(h),h.B=kt(h.A);var T=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),lo(T.i,"t",A),h.C=0,T=h.j.L,h.h=new fi,h.g=uh(h.j,T?b:null,!h.u),h.P>0&&(h.O=new mn(p(h.Y,h,h.g),h.P)),b=h.V,T=h.g,A=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Ol[0]=G.toString()),G=Ol);for(let Q=0;Q<G.length;Q++){const le=ut(T,G[Q],A||b.handleEvent,!1,b.h||b);if(!le)break;b.g[le.key]=le}b=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Di(),hm(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const b=this.O;b&&pi(h)==3?b.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=pi(this.g),St=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ce!=4||St==7||(St==8||Ke<=0?Di(3):Di(2)),Pi(this);var b=this.g.ca();this.X=b;var T=dm(this);if(this.o=b==200,Yu(this.i,this.v,this.B,this.l,this.S,Ce,b),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(A)){var Q=A;break t}}Q=null}if(h=Q)Vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,h);else{this.o=!1,this.m=3,It(12),Dn(this),qn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<T.length;)if(ht=Wu(this,T),ht==Kt){Ce==4&&(this.m=4,It(14),h=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Dt){this.m=4,It(15),Vi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Vi(this.i,this.l,ht,null),Li(this,ht);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||T.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)Vi(this.i,this.l,T,"[Invalid Chunked Response]"),Dn(this),qn(this);else if(T.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Jl(le),le.P=!0,It(11))}}else Vi(this.i,this.l,T,null),Li(this,T);Ce==4&&Dn(this),this.o&&!this.K&&(Ce==4?ah(this.j,this):(this.o=!1,ji(this)))}else ms(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Dn(this),qn(this)}}}catch{}finally{}};function dm(h){if(!Xu(h))return h.g.la();const b=en(h.g);if(b==="")return"";let T="";const A=b.length,G=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),qn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,T+=h.h.i.decode(b[Q],{stream:!(G&&Q==A-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function Xu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Wu(h,b){var T=h.C,A=b.indexOf(`
`,T);return A==-1?Kt:(T=Number(b.substring(T,A)),isNaN(T)?Dt:(A+=1,A+T>b.length?Kt:(b=b.slice(A,A+T),h.C=A+T,b)))}hi.prototype.cancel=function(){this.K=!0,Dn(this)};function ji(h){h.T=Date.now()+h.H,ro(h,h.H)}function ro(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ki(p(h.aa,h),b)}function Pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Di(),It(17)),Dn(this),this.m=2,qn(this)):ro(this,this.T-h)};function qn(h){h.j.I==0||h.K||ah(h.j,h)}function Dn(h){Pi(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,jl(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Li(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||zi(T.h,h))){if(!h.L&&zi(T.h,h)&&T.I==3){try{var A=T.Ba.g.parse(b)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)mo(T),Js(T);else break e;ca(T),It(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ki(p(T.Va,T),6e3));Ui(T.h)<=1&&T.ta&&(T.ta=void 0)}else $i(T,11)}else if((h.L||T.g==h)&&mo(T),!O(b))for(G=T.Ba.g.parse(b),b=0;b<G.length;b++){let Ke=G[b];const ht=Ke[0];if(!(ht<=T.K))if(T.K=ht,Ke=Ke[1],T.I==2)if(Ke[0]=="c"){T.M=Ke[1],T.ba=Ke[2];const Kn=Ke[3];Kn!=null&&(T.ka=Kn,T.j.info("VER="+T.ka));const Ki=Ke[4];Ki!=null&&(T.za=Ki,T.j.info("SVER="+T.za));const gi=Ke[5];gi!=null&&typeof gi=="number"&&gi>0&&(A=1.5*gi,T.O=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const yi=h.g;if(yi){const ua=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var Q=A.h;Q.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Bl(Q,Q.h),Q.h=null))}if(A.G){const po=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(A.wa=po,We(A.J,A.G,po))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),A=T;var le=h;if(A.na=ch(A,A.L?A.ba:null,A.W),le.L){Fl(A.h,le);var Ce=le,St=A.O;St&&(Ce.H=St),Ce.D&&(Pi(Ce),ji(Ce)),A.g=le}else sh(A);T.i.length>0&&Gi(T)}else Ke[0]!="stop"&&Ke[0]!="close"||$i(T,7);else T.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?$i(T,7):Wl(T):Ke[0]!="noop"&&T.l&&T.l.qa(Ke),T.A=0)}}Di(4)}catch{}}var Mt=class{constructor(h,b){this.g=h,this.map=b}};function Ul(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ui(h){return h.h?1:h.g?h.g.size:0}function zi(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Bl(h,b){h.g?h.g.add(b):h.h=b}function Fl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Ul.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Hl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return E(h.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const A=h[T].indexOf("=");let G,Q=null;A>=0?(G=h[T].substring(0,A),Q=h[T].substring(A+1)):G=h[T],b(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Mn?(this.l=h.l,Yt(this,h.j),this.o=h.o,this.g=h.g,$s(this,h.u),this.h=h.h,ql(this,nh(h.i)),this.m=h.m):h&&(b=String(h).match(Zu))?(this.l=!1,Yt(this,b[1]||"",!0),this.o=Bi(b[2]||""),this.g=Bi(b[3]||"",!0),$s(this,b[4]),this.h=Bi(b[5]||"",!0),ql(this,b[6]||"",!0),this.m=Bi(b[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}Mn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(ia(b,oo,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ia(b,oo,!0),"@"),h.push(fs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ia(T,T.charAt(0)=="/"?Gl:Ju,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ia(T,eh)),h.join("")},Mn.prototype.resolve=function(h){const b=kt(this);let T=!!h.j;T?Yt(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var A=h.h;if(T)$s(b,h.u);else if(T=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=b.h.lastIndexOf("/");G!=-1&&(A=b.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let le=0;le<G.length;){const Ce=G[le++];Ce=="."?A&&le==G.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&le==G.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=G}return T?b.h=A:T=h.i.toString()!=="",T?ql(b,nh(h.i)):T=!!h.m,T&&(b.m=h.m),b};function kt(h){return new Mn(h)}function Yt(h,b,T){h.j=T?Bi(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function $s(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function ql(h,b,T){b instanceof Ys?(h.i=b,co(h.i,h.l)):(T||(b=ia(b,Ks)),h.i=new Ys(b,h.l))}function We(h,b,T){h.i.set(b,T)}function na(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bi(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ia(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,_n),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oo=/[#\/\?@]/g,Ju=/[#\?:]/g,Gl=/[#\?]/g,Ks=/[#\?@]/g,eh=/#/g;function Ys(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&ao(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=Ys.prototype,t.add=function(h,b){bn(this),this.i=null,h=Qs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function th(h,b){bn(h),b=Qs(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function $l(h,b){return bn(h),b=Qs(h,b),h.g.has(b)}t.forEach=function(h,b){bn(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(b,G,A,this)},this)},this)};function Kl(h,b){bn(h);let T=[];if(typeof b=="string")$l(h,b)&&(T=T.concat(h.g.get(Qs(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}t.set=function(h,b){return bn(this),this.i=null,h=Qs(this,h),$l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=Kl(this,h),h.length>0?String(h[0]):b):b};function lo(h,b,T){th(h,b),T.length>0&&(h.i=null,h.g.set(Qs(h,b),E(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let A=0;A<b.length;A++){var T=b[A];const G=fs(T);T=Kl(this,T);for(let Q=0;Q<T.length;Q++){let le=G;T[Q]!==""&&(le+="="+fs(T[Q])),h.push(le)}}return this.i=h.join("&")};function nh(h){const b=new Ys;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function Qs(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function co(h,b){b&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(T,A){const G=A.toLowerCase();A!=G&&(th(this,A),lo(this,G,T))},h)),h.j=b}function di(h,b){const T=new ui;if(c.Image){const A=new Image;A.onload=v(Gn,T,"TestLoadImage: loaded",!0,b,A),A.onerror=v(Gn,T,"TestLoadImage: error",!1,b,A),A.onabort=v(Gn,T,"TestLoadImage: abort",!1,b,A),A.ontimeout=v(Gn,T,"TestLoadImage: timeout",!1,b,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else b(!1)}function Yl(h,b){const T=new ui,A=new AbortController,G=setTimeout(()=>{A.abort(),Gn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(G),Q.ok?Gn(T,"TestPingServer: ok",!0,b):Gn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),Gn(T,"TestPingServer: error",!1,b)})}function Gn(h,b,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function Xs(){this.g=new Hu}function Fi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Fi,qu),Fi.prototype.g=function(){return new sa(this.i,this.h)};function sa(h,b){Nt.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(sa,Nt),t=sa.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,mi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Ws(this):mi(this),this.readyState==3&&uo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ws(this))},t.Na=function(h){this.g&&(this.response=h,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function $n(h){let b="";return Ie(h,function(T,A){b+=A,b+=":",b+=T,b+=`\r
`}),b}function ra(h,b,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=$n(T),typeof h=="string"?T!=null&&fs(T):We(h,b,T))}function et(h){Nt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(et,Nt);var Hi=/^https?$/i,Ql=["POST","PUT"];t=et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(Q){aa(this,Q);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ql,b,void 0)>=0)||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of T)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){aa(this,Q)}};function aa(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Xl(h),ds(h)}function Xl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},t.Xa=function(){oa(this)};function oa(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),pi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var A;if(A=Q===0){let le=String(h.D).match(Zu)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!Hi.test(le?le.toLowerCase():"")}T=A}if(T)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var G=pi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Xl(h)}}finally{ds(h)}}}}function ds(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||Ht(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),um(b)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ms(h){const b={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(O(h[A]))continue;var T=Qu(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=b[G]||[];b[G]=Q,Q.push(T)}Oe(b,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function Zs(h){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,h),this.Za=qi("retryDelaySeedMs",1e4,h),this.Ta=qi("forwardChannelMaxRetries",2,h),this.va=qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(h&&h.concurrentRequestLimit),this.Ba=new Xs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zs.prototype,t.ka=8,t.I=1,t.connect=function(h,b,T,A){It(0),this.W=h,this.H=b||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.J=ch(this,null,this.W),Gi(this)};function Wl(h){if(ho(h),h.I==3){var b=h.V++,T=kt(h.J);if(We(T,"SID",h.M),We(T,"RID",b),We(T,"TYPE","terminate"),la(h,T),b=new hi(h,h.j,b),b.M=2,b.A=na(kt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=uh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ji(b)}lh(h)}function Js(h){h.g&&(Jl(h),h.g.cancel(),h.g=null)}function ho(h){Js(h),h.v&&(c.clearTimeout(h.v),h.v=null),mo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Gi(h){if(!zl(h.h)&&!h.m){h.m=!0;var b=h.Ea;te||R(),ae||(te(),ae=!0),N.add(b,h),h.D=0}}function fo(h,b){return Ui(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ki(p(h.Ea,h,b),oh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new hi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=B(Q),ce(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(b+=A,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=ih(this,G,b),T=kt(this.J),We(T,"RID",h),We(T,"CVER",22),this.G&&We(T,"X-HTTP-Session-Id",this.G),la(this,T),Q&&(this.R?b="headers="+fs($n(Q))+"&"+b:this.u&&ra(T,this.u,Q)),Bl(this.h,G),this.Ra&&We(T,"TYPE","init"),this.S?(We(T,"$req",b),We(T,"SID","null"),G.U=!0,Oi(G,T,null)):Oi(G,T,b),this.I=2}}else this.I==3&&(h?Zl(this,h):this.i.length==0||zl(this.h)||Zl(this))};function Zl(h,b){var T;b?T=b.l:T=h.V++;const A=kt(h.J);We(A,"SID",h.M),We(A,"RID",T),We(A,"AID",h.K),la(h,A),h.u&&h.o&&ra(A,h.u,h.o),T=new hi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=ih(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bl(h.h,T),Oi(T,A,b)}function la(h,b){h.H&&Ie(h.H,function(T,A){We(b,A,T)}),h.l&&Ie({},function(T,A){We(b,A,T)})}function ih(h,b,T){T=Math.min(h.i.length,T);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ce=-1;for(;;){const St=["count="+T];Ce==-1?T>0?(Ce=G[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Ke=!0;for(let ht=0;ht<T;ht++){var Q=G[ht].g;const Kn=G[ht].map;if(Q-=Ce,Q<0)Ce=Math.max(0,G[ht].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var le=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Ki,gi]of le){let yi=gi;f(gi)&&(yi=Gs(gi)),St.push(Q+Ki+"="+encodeURIComponent(yi))}}catch(Ki){throw St.push(Q+"type="+encodeURIComponent("_badmap")),Ki}}catch{A&&A(Kn)}}if(Ke){le=St.join("&");break e}}le=void 0}return h=h.i.splice(0,T),b.G=h,le}function sh(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;te||R(),ae||(te(),ae=!0),N.add(b,h),h.A=0}}function ca(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ki(p(h.Da,h),oh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ki(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Js(this),rh(this))};function Jl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rh(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=kt(h.na);We(b,"RID","rpc"),We(b,"SID",h.M),We(b,"AID",h.K),We(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(b,"TO",h.ia),We(b,"TYPE","xmlhttp"),la(h,b),h.u&&h.o&&ra(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=na(kt(b)),T.u=null,T.R=!0,so(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Js(this),ca(this),It(19))};function mo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ah(h,b){var T=null;if(h.g==b){mo(h),Jl(h),h.g=null;var A=2}else if(zi(h.h,b))T=b.G,Fl(h.h,b),A=1;else return;if(h.I!=0){if(b.o)if(A==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var G=h.D;A=io(),Ht(A,new Mi(A,T)),Gi(h)}else sh(h);else if(G=b.m,G==3||G==0&&b.X>0||!(A==1&&fo(h,b)||A==2&&ca(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),G){case 1:$i(h,5);break;case 4:$i(h,10);break;case 3:$i(h,6);break;default:$i(h,2)}}}function oh(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function $i(h,b){if(h.j.info("Error code "+b),b==2){var T=p(h.bb,h),A=h.Ua;const G=!A;A=new Mn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yt(A,"https"),na(A),G?di(A.toString(),T):Yl(A.toString(),T)}else It(2);h.I=0,h.l&&h.l.pa(b),lh(h),ho(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function lh(h){if(h.I=0,h.ja=[],h.l){const b=Hl(h.h);(b.length!=0||h.i.length!=0)&&(I(h.ja,b),I(h.ja,h.i),h.h.i.length=0,E(h.i),h.i.length=0),h.l.oa()}}function ch(h,b,T){var A=T instanceof Mn?kt(T):new Mn(T);if(A.g!="")b&&(A.g=b+"."+A.g),$s(A,A.u);else{var G=c.location;A=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;const Q=new Mn(null);A&&Yt(Q,A),b&&(Q.g=b),G&&$s(Q,G),T&&(Q.h=T),A=Q}return T=h.G,b=h.wa,T&&b&&We(A,T,b),We(A,"VER",h.ka),la(h,A),A}function uh(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new et(new Fi({ab:T})):new et(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}t=hh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function er(){}er.prototype.g=function(h,b){return new pn(h,b)};function pn(h,b){Nt.call(this),this.g=new Zs(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!O(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new ps(this)}_(pn,Nt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Wl(this.g)},pn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Gs(h),h=T);b.i.push(new Mt(b.Ya++,h)),b.I==3&&Gi(b)},pn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,pn.Z.N.call(this)};function fh(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const T in b){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}_(fh,Jt);function dh(){Hn.call(this),this.status=1}_(dh,Hn);function ps(h){this.g=h}_(ps,hh),ps.prototype.ra=function(){Ht(this.g,"a")},ps.prototype.qa=function(h){Ht(this.g,new fh(h))},ps.prototype.pa=function(h){Ht(this.g,new dh)},ps.prototype.oa=function(){Ht(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,WE=function(){return new er},XE=function(){return io()},QE=Et,s0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Bf=ea,Pl.COMPLETE="complete",YE=Pl,Gu.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Fc=Gu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,KE=et}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const iw="@firebase/firestore",sw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new ay("@firebase/firestore");function Go(){return $a.logLevel}function he(t,...e){if($a.logLevel<=Le.DEBUG){const n=e.map(_y);$a.debug(`Firestore (${wl}): ${t}`,...n)}}function Us(t,...e){if($a.logLevel<=Le.ERROR){const n=e.map(_y);$a.error(`Firestore (${wl}): ${t}`,...n)}}function ll(t,...e){if($a.logLevel<=Le.WARN){const n=e.map(_y);$a.warn(`Firestore (${wl}): ${t}`,...n)}}function _y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ZE(t,s,n)}function ZE(t,e,n){let s=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Us(s),new Error(s)}function Xe(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||ZE(e,a,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class qM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new JE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class $M{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $M(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=QM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function r0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Tg(a)===Tg(l)?Ue(a,l):Tg(a)?1:-1}return Ue(t.length,e.length)}const XM=55296,WM=57343;function Tg(t){const e=t.charCodeAt(0);return e>=XM&&e<=WM}function cl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__name__";class Zi{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Zi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Zi.isNumericId(e),a=Zi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):r0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class at extends Zi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const ZM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Zi{construct(e,n,s){return new on(e,n,s)}static isValidIdentifier(e){return ZM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aw}static keyField(){return new on([aw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e,n){if(!n)throw new ue(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JM(t,e,n,s){if(e===!0&&s===!0)throw new ue(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ow(t){if(!_e.isDocumentKey(t))throw new ue(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lw(t){if(_e.isDocumentKey(t))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kd(t);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nu(t,e){if(!tS(t))throw new ue(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ue(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=-62135596800,uw=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uw);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cw)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Bt("string",ct._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ct(0,0))}static max(){return new Se(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function e6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new jr(a,_e.empty(),e)}function t6(t){return new jr(t.readTime,t.key,cu)}class jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new jr(Se.min(),_e.empty(),cu)}static max(){return new jr(Se.max(),_e.empty(),cu)}}function n6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==i6)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++f,f===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function r6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=-1;function Od(t){return t==null}function ld(t){return t===0&&1/t==-1/0}function a6(t){return typeof t=="number"&&Number.isInteger(t)&&!ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="";function o6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hw(e)),e=l6(t.get(n),e);return hw(e)}function l6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case nS:n+="";break;default:n+=l}}return n}function hw(t){return t+nS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new an(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dw(this.data.getIterator())}getIteratorFrom(e){return new dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new zn([])}unionWith(e){let n=new $t(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sS("Invalid base64 string: "+l):l}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const c6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=c6.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="server_timestamp",aS="__type__",oS="__previous_value__",lS="__local_write_time__";function wy(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aS])==null?void 0:s.stringValue)===rS}function jd(t){const e=t.mapValue.fields[oS];return wy(e)?jd(e):e}function uu(t){const e=Pr(t.mapValue.fields[lS].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,s,a,l,c,f,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const cd="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||cd}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="__type__",h6="__max__",wf={mapValue:{}},uS="__vector__",ud="value";function Ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wy(t)?4:d6(t)?9007199254740991:f6(t)?10:11:xe(28295,{value:t})}function cs(t,e){if(t===e)return!0;const n=Ur(t);if(n!==Ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Pr(a.timestampValue),f=Pr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Lr(a.bytesValue).isEqual(Lr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ct(a.doubleValue),f=Ct(l.doubleValue);return c===f?ld(c)===ld(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(fw(c)!==fw(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!cs(c[m],f[m])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function fu(t,e){return(t.values||[]).find((n=>cs(n,e)))!==void 0}function ul(t,e){if(t===e)return 0;const n=Ur(t),s=Ur(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return mw(t.timestampValue,e.timestampValue);case 4:return mw(uu(t),uu(e));case 5:return r0(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Lr(l),m=Lr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=Ue(f[p],m[p]);if(v!==0)return v}return Ue(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(Ct(l.latitude),Ct(c.latitude));return f!==0?f:Ue(Ct(l.longitude),Ct(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return pw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var x,E,I,V;const f=l.fields||{},m=c.fields||{},p=(x=f[ud])==null?void 0:x.arrayValue,v=(E=m[ud])==null?void 0:E.arrayValue,_=Ue(((I=p==null?void 0:p.values)==null?void 0:I.length)||0,((V=v==null?void 0:v.values)==null?void 0:V.length)||0);return _!==0?_:pw(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===wf.mapValue&&c===wf.mapValue)return 0;if(l===wf.mapValue)return 1;if(c===wf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const x=r0(m[_],v[_]);if(x!==0)return x;const E=ul(f[m[_]],p[v[_]]);if(E!==0)return E}return Ue(m.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function mw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Pr(t),s=Pr(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function pw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=ul(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function hl(t){return a0(t)}function a0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Pr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Lr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=a0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${a0(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function Ff(t){switch(Ur(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(t);return e?16+Ff(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Ff(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Gr(s.fields,((l,c)=>{a+=l.length+Ff(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function gw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function o0(t){return!!t&&"integerValue"in t}function Ty(t){return!!t&&"arrayValue"in t}function yw(t){return!!t&&"nullValue"in t}function vw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function f6(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cS])==null?void 0:s.stringValue)===uS}function Xc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return{...t}}function d6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=on.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Xc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Gr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Rn(Xc(this.value))}}function hS(t){const e=[];return Gr(t.fields,((n,s)=>{const a=new on([n]);if(Hf(s)){const l=hS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new fn(e,0,Se.min(),Se.min(),Se.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,a){return new fn(e,1,n,Se.min(),s,a,0)}static newNoDocument(e,n){return new fn(e,2,n,Se.min(),Se.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Se.min(),Se.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.position=e,this.inclusive=n}}function _w(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(c.referenceValue),n.key):s=ul(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function m6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{}class zt extends fS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new g6(e,n,s):n==="array-contains"?new _6(e,s):n==="in"?new b6(e,s):n==="not-in"?new x6(e,s):n==="array-contains-any"?new w6(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new y6(e,s):new v6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends fS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ri(e,n)}matches(e){return dS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dS(t){return t.op==="and"}function mS(t){return p6(t)&&dS(t)}function p6(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function l0(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(mS(t))return t.filters.map((e=>l0(e))).join(",");{const e=t.filters.map((n=>l0(n))).join(",");return`${t.op}(${e})`}}function pS(t,e){return t instanceof zt?(function(s,a){return a instanceof zt&&s.op===a.op&&s.field.isEqual(a.field)&&cs(s.value,a.value)})(t,e):t instanceof Ri?(function(s,a){return a instanceof Ri&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&pS(c,a.filters[f])),!0):!1})(t,e):void xe(19439)}function gS(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(t):t instanceof Ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(gS).join(" ,")+"}"})(t):"Filter"}class g6 extends zt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class y6 extends zt{constructor(e,n){super(e,"in",n),this.keys=yS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class v6 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=yS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>_e.fromName(s.referenceValue)))}class _6 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&fu(n.arrayValue,this.value)}}class b6 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class x6 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class w6 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>fu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function xw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new T6(t,e,n,s,a,l,c)}function Ey(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>l0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>hl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>hl(s))).join(",")),e.Te=n}return e.Te}function Sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bw(t.startAt,e.startAt)&&bw(t.endAt,e.endAt)}function c0(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function E6(t,e,n,s,a,l,c,f){return new Sl(t,e,n,s,a,l,c,f)}function Pd(t){return new Sl(t)}function ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vS(t){return t.collectionGroup!==null}function Wc(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new $t(on.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new du(l,s))})),n.has(on.keyField().canonicalString())||e.Ie.push(new du(on.keyField(),s))}return e.Ie}function ns(t){const e=Re(t);return e.Ee||(e.Ee=S6(e,Wc(t))),e.Ee}function S6(t,e){if(t.limitType==="F")return xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new du(a.field,l)}));const n=t.endAt?new hd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new hd(t.startAt.position,t.startAt.inclusive):null;return xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function u0(t,e){const n=t.filters.concat([e]);return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function h0(t,e,n){return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ld(t,e){return Sy(ns(t),ns(e))&&t.limitType===e.limitType}function _S(t){return`${Ey(ns(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>gS(a))).join(", ")}]`),Od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>hl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>hl(a))).join(",")),`Target(${s})`})(ns(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Wc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=_w(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Wc(s),a)||s.endAt&&!(function(c,f,m){const p=_w(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Wc(s),a))})(t,e)}function A6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bS(t){return(e,n)=>{let s=!1;for(const a of Wc(t)){const l=R6(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function R6(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?ul(m,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return iS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new pt(_e.comparator);function zs(){return C6}const xS=new pt(_e.comparator);function Hc(...t){let e=xS;for(const n of t)e=e.insert(n.key,n);return e}function wS(t){let e=xS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ma(){return Zc()}function TS(){return Zc()}function Zc(){return new Wa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const N6=new pt(_e.comparator),I6=new $t(_e.comparator);function ze(...t){let e=I6;for(const n of t)e=e.add(n);return e}const D6=new $t(Ue);function M6(){return D6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function ES(t){return{integerValue:""+t}}function k6(t,e){return a6(e)?ES(e):Ay(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function V6(t,e,n){return t instanceof fd?(function(a,l){const c={fields:{[aS]:{stringValue:rS},[lS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wy(l)&&(l=jd(l)),l&&(c.fields[oS]=l),{mapValue:c}})(n,e):t instanceof mu?AS(t,e):t instanceof pu?RS(t,e):(function(a,l){const c=SS(a,l),f=Tw(c)+Tw(a.Ae);return o0(c)&&o0(a.Ae)?ES(f):Ay(a.serializer,f)})(t,e)}function O6(t,e,n){return t instanceof mu?AS(t,e):t instanceof pu?RS(t,e):n}function SS(t,e){return t instanceof dd?(function(s){return o0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class fd extends zd{}class mu extends zd{constructor(e){super(),this.elements=e}}function AS(t,e){const n=CS(e);for(const s of t.elements)n.some((a=>cs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends zd{constructor(e){super(),this.elements=e}}function RS(t,e){let n=CS(e);for(const s of t.elements)n=n.filter((a=>!cs(a,s)));return{arrayValue:{values:n}}}class dd extends zd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tw(t){return Ct(t.integerValue||t.doubleValue)}function CS(t){return Ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j6(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof mu&&a instanceof mu||s instanceof pu&&a instanceof pu?cl(s.elements,a.elements,cs):s instanceof dd&&a instanceof dd?cs(s.Ae,a.Ae):s instanceof fd&&a instanceof fd})(t.transform,e.transform)}class P6{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function NS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ry(t.key,ai.none()):new Iu(t.key,t.data,ai.none());{const n=t.data,s=Rn.empty();let a=new $t(on.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new $r(t.key,s,new zn(a.toArray()),ai.none())}}function L6(t,e,n){t instanceof Iu?(function(a,l,c){const f=a.value.clone(),m=Sw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof $r?(function(a,l,c){if(!qf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Sw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(IS(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Jc(t,e,n,s){return t instanceof Iu?(function(l,c,f,m){if(!qf(l.precondition,c))return f;const p=l.value.clone(),v=Aw(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof $r?(function(l,c,f,m){if(!qf(l.precondition,c))return f;const p=Aw(l.fieldTransforms,m,c),v=c.data;return v.setAll(IS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return qf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function U6(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=SS(s.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,l))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&cl(s,a,((l,c)=>j6(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Iu extends Bd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $r extends Bd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Sw(t,e,n){const s=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,O6(c,f,n[a]))}return s}function Aw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,V6(l,c,e))}return s}class Ry extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z6 extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&L6(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=NS(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,s)=>Ew(n,s)))&&cl(this.baseMutations,e.baseMutations,((n,s)=>Ew(n,s)))}}class Cy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return N6})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Cy(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,qe;function q6(t){switch(t){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function DS(t){if(t===void 0)return Us("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Lt.OK:return ne.OK;case Lt.CANCELLED:return ne.CANCELLED;case Lt.UNKNOWN:return ne.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ne.INTERNAL;case Lt.UNAVAILABLE:return ne.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ne.NOT_FOUND;case Lt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Lt.ABORTED:return ne.ABORTED;case Lt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Lt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:t})}}(qe=Lt||(Lt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new kr([4294967295,4294967295],0);function Rw(t){const e=G6().encode(t),n=new $E;return n.update(e),new Uint8Array(n.digest())}function Cw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new kr([n,s],0),new kr([a,l],0)]}class Ny{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new qc(`Invalid padding: ${n}`);if(s<0)throw new qc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new qc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(kr.fromNumber(s)));return a.compare($6)===1&&(a=new kr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rw(e),[s,a]=Cw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ny(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=Rw(e),[s,a]=Cw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fd(Se.min(),a,new pt(Ue),zs(),ze())}}class Du{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Du(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class MS{constructor(e,n){this.targetId=e,this.Ce=n}}class kS{constructor(e,n,s=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Nw{constructor(){this.ve=0,this.Fe=Iw(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}})),new Du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Iw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K6{constructor(e){this.Ge=e,this.ze=new Map,this.je=zs(),this.Je=Tf(),this.He=Tf(),this.Ye=new pt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(c0(l))if(s===0){const c=new _e(l.path);this.et(n,c,fn.newNoDocument(c,Se.min()))}else Xe(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Lr(s).toUint8Array()}catch(m){if(m instanceof sS)return ll("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Ny(c,a,l)}catch(m){return ll(m instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&c0(f.target)){const m=new _e(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,fn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Fd(e,n,this.Ye,this.je,s);return this.je=zs(),this.Je=Tf(),this.He=Tf(),this.Ye=new pt(Ue),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Nw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tf(){return new pt(_e.comparator)}function Iw(){return new pt(_e.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},Q6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X6={and:"AND",or:"OR"};class W6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function f0(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z6(t,e){return md(t,e.toTimestamp())}function is(t){return Xe(!!t,49232),Se.fromTimestamp((function(n){const s=Pr(n);return new ct(s.seconds,s.nanos)})(t))}function Iy(t,e){return d0(t,e).canonicalString()}function d0(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function OS(t){const e=at.fromString(t);return Xe(zS(e),10190,{key:e.toString()}),e}function m0(t,e){return Iy(t.databaseId,e.path)}function Eg(t,e){const n=OS(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(PS(n))}function jS(t,e){return Iy(t.databaseId,e)}function J6(t){const e=OS(t);return e.length===4?at.emptyPath():PS(e)}function p0(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PS(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dw(t,e,n){return{name:m0(t,e),fields:n.value.mapValue.fields}}function ek(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ne.UNKNOWN:DS(p.code);return new ue(v,p.message||"")})(c);n=new kS(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Eg(t,s.document.name),l=is(s.document.updateTime),c=s.document.createTime?is(s.document.createTime):Se.min(),f=new Rn({mapValue:{fields:s.document.fields}}),m=fn.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Gf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Eg(t,s.document),l=s.readTime?is(s.readTime):Se.min(),c=fn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Gf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Eg(t,s.document),l=s.removedTargetIds||[];n=new Gf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new H6(a,l),f=s.targetId;n=new MS(f,c)}}return n}function tk(t,e){let n;if(e instanceof Iu)n={update:Dw(t,e.key,e.value)};else if(e instanceof Ry)n={delete:m0(t,e.key)};else if(e instanceof $r)n={update:Dw(t,e.key,e.data),updateMask:uk(e.fieldMask)};else{if(!(e instanceof z6))return xe(16599,{Vt:e.type});n={verify:m0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof fd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Z6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function nk(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?is(a.updateTime):is(l);return c.isEqual(Se.min())&&(c=is(l)),new P6(c,a.transformResults||[])})(n,e)))):[]}function ik(t,e){return{documents:[jS(t,e.path)]}}function sk(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jS(t,a);const l=(function(p){if(p.length!==0)return US(Ri.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(x){return{field:Ko(x.field),direction:ok(x.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=f0(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function rk(t){let e=J6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Xe(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const x=LS(_);return x instanceof Ri&&mS(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((x=>(function(I){return new du(Yo(I.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(x)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let x;return x=typeof _=="object"?_.value:_,Od(x)?null:x})(n.limit));let m=null;n.startAt&&(m=(function(_){const x=!!_.before,E=_.values||[];return new hd(E,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const x=!_.before,E=_.values||[];return new hd(E,x)})(n.endAt)),E6(e,a,c,l,f,"F",m,p)}function ak(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Yo(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(n.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(Yo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ri.create(n.compositeFilter.filters.map((s=>LS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function ok(t){return Y6[t]}function lk(t){return Q6[t]}function ck(t){return X6[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Yo(t){return on.fromServerFormat(t.fieldPath)}function US(t){return t instanceof zt?(function(n){if(n.op==="=="){if(vw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(yw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(yw(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:lk(n.op),value:n.value}}})(t):t instanceof Ri?(function(n){const s=n.getFilters().map((a=>US(a)));return s.length===1?s[0]:{compositeFilter:{op:ck(n.op),filters:s}}})(t):xe(54877,{filter:t})}function uk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,s,a,l=Se.min(),c=Se.min(),f=ln.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.yt=e}}function fk(t){const e=rk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.Cn=new mk}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(jr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BS=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(BS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fl(0)}static cr(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="LruGarbageCollector",pk=1048576;function Vw([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class gk{constructor(e){this.Ir=e,this.buffer=new $t(Vw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Vw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?he(kw,"Ignoring IndexedDB error during garbage collection: ",n):await Tl(n)}await this.Vr(3e5)}))}}class vk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Vd.ce);const s=new gk(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Mw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Go()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function _k(t,e){return new vk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.changes=new Wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Jc(s.mutation,a,zn.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const a=Ma();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Hc();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ma();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=zs();const c=Zc(),f=(function(){return Zc()})();return n.forEach(((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof $r)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Jc(v.mutation,p,v.mutation.getFieldMask(),ct.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new xk(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Zc();let a=new pt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||zn.empty();v=f.applyToLocalView(p,v),s.set(m,v);const _=(a.get(f.batchId)||ze()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,_=TS();v.forEach((x=>{if(!l.has(x)){const E=NS(n.get(x),s.get(x));E!==null&&_.set(x,E),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(Ma());let f=cu,m=l;return c.next((p=>re.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{m=m.insert(v,x)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,ze()))).next((v=>({batchId:f,changes:wS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=Hc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Hc();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const p=(function(_,x){return new Sl(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((_,x)=>{c=c.insert(_,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,fn.newInvalidDocument(v)))}));let f=Hc();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Jc(v.mutation,p,zn.empty(),ct.now()),Ud(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:is(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:fk(a.bundledQuery),readTime:is(a.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.overlays=new pt(_e.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ma();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=Ma(),l=n.length+1,c=new _e(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new pt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Ma(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ma(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return re.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new F6(n,s));let l=this.qr.get(n);l===void 0&&(l=ze(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Qr=new $t(Wt.$r),this.Ur=new $t(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new at([])),s=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new at([])),s=new Wt(n,e),a=new Wt(n,e+1);let l=ze();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Wt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new B6(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Wt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?xy:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(Ue);return n.forEach((a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{s=s.add(f.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new _e(l),0);let f=new $t(Ue);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.ri=e,this.docs=(function(){return new pt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=zs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=zs();const c=n.path,f=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||n6(t6(v),s)<=0||(a.has(v.key)||Ud(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){xe(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Ck(this)}getSize(e){return re.resolve(this.size)}}class Ck extends bk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.persistence=e,this.si=new Wa((n=>Ey(n)),Sy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Dy,this.targetCount=0,this.ai=fl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vd(0),this.li=!1,this.li=!0,this.hi=new Sk,this.referenceDelegate=e(this),this.Pi=new Nk(this),this.indexManager=new dk,this.remoteDocumentCache=(function(a){return new Rk(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new hk(n),this.Ii=new Tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ek,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Ak(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const a=new Ik(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Ik extends s6{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.Ri=new Dy,this.Vi=null}static mi(e){return new My(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=_e.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pd{constructor(e,n){this.persistence=e,this.pi=new Wa((s=>o6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=_k(this,n)}static mi(e,n){return new pd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Se.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ff(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ky(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EI()?8:r6(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Dk;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Go()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Go()<=Le.DEBUG&&he("QueryEngine","Query:",$o(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Go()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):re.resolve())}ys(e,n){if(ww(n))return re.resolve(null);let s=ns(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=h0(n,null,"F"),s=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,h0(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return ww(n)||a.isEqual(Se.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?re.resolve(null):(Go()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$o(n)),this.vs(e,c,n,e6(a,cu)).next((f=>f)))}))}Ds(e,n){let s=new $t(bS(e));return n.forEach(((a,l)=>{Ud(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Go()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",$o(n)),this.ps.getDocumentsMatchingQuery(e,n,jr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",kk=3e8;class Vk{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new pt(Ue),this.xs=new Wa((l=>Ey(l)),Sy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Ok(t,e,n,s){return new Vk(t,e,n,s)}async function HS(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function jk(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const _=p.batch,x=_.keys();let E=re.resolve();return x.forEach((I=>{E=E.next((()=>v.getEntry(m,I))).next((V=>{const C=p.docVersions.get(I);Xe(C!==null,48541),V.version.compareTo(C)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),v.addEntry(V)))}))})),E.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function qS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Pk(t,e){const n=Re(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,_)=>{const x=a.get(_);if(!x)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let E=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(ln.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,s)),a=a.insert(_,E),(function(V,C,P){return V.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=kk?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(x,E,v)&&f.push(n.Pi.updateTargetData(l,E))}));let m=zs(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(Lk(l,c,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return re.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function Lk(t,e,n){let s=ze(),a=ze();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=zs();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):he(Vy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function Uk(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=xy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zk(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Ir(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function g0(t,e,n){const s=Re(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!El(c))throw c;he(Vy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Ow(t,e,n){const s=Re(t);let a=Se.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const _=Re(m),x=_.xs.get(v);return x!==void 0?re.resolve(_.Ms.get(x)):_.Pi.getTargetData(p,v)})(s,c,ns(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Se.min(),n?l:ze()))).next((f=>(Bk(s,A6(e),f),{documents:f,Qs:l})))))}function Bk(t,e,n){let s=t.Os.get(e)||Se.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class jw{constructor(){this.activeTargetIds=M6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fk{constructor(){this.Mo=new jw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="ConnectivityMonitor";class Lw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Pw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=null;function y0(){return Ef===null?Ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ef++,"0x"+Ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="RestConnection",qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===cd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=y0(),f=this.zo(e,n.toUriEncodedString());he(Sg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),v=qr(p);return this.Jo(e,f,m,s,v).then((_=>(he(Sg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw ll(Sg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=qk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Kk extends Gk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=y0();return new Promise(((f,m)=>{const p=new KE;p.setWithCredentials(!0),p.listenOnce(YE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Bf.NO_ERROR:const _=p.getResponseJson();he(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Bf.TIMEOUT:he(un,`RPC '${e}' ${c} timed out`),m(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const x=p.getStatus();if(he(un,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const V=(function(P){const q=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(q)>=0?q:ne.UNKNOWN})(I.status);m(new ue(V,I.message))}else m(new ue(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(un,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);he(un,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=y0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=WE(),f=XE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");he(un,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=c.createWebChannel(v,m);this.I_(_);let x=!1,E=!1;const I=new $k({Yo:C=>{E?he(un,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(x||(he(un,`Opening RPC '${e}' stream ${a} transport.`),_.open(),x=!0),he(un,`RPC '${e}' stream ${a} sending:`,C),_.send(C))},Zo:()=>_.close()}),V=(C,P,q)=>{C.listen(P,(D=>{try{q(D)}catch(W){setTimeout((()=>{throw W}),0)}}))};return V(_,Fc.EventType.OPEN,(()=>{E||(he(un,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),V(_,Fc.EventType.CLOSE,(()=>{E||(E=!0,he(un,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(_))})),V(_,Fc.EventType.ERROR,(C=>{E||(E=!0,ll(un,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),I.a_(new ue(ne.UNAVAILABLE,"The operation could not be completed")))})),V(_,Fc.EventType.MESSAGE,(C=>{var P;if(!E){const q=C.data[0];Xe(!!q,16349);const D=q,W=(D==null?void 0:D.error)||((P=D[0])==null?void 0:P.error);if(W){he(un,`RPC '${e}' stream ${a} received error:`,W);const te=W.status;let ae=(function(k){const L=Lt[k];if(L!==void 0)return DS(L)})(te),N=W.message;ae===void 0&&(ae=ne.INTERNAL,N="Unknown error status: "+te+" with message "+W.message),E=!0,I.a_(new ue(ae,N)),_.close()}else he(un,`RPC '${e}' stream ${a} received:`,q),I.u_(q)}})),V(f,QE.STAT_EVENT,(C=>{C.stat===s0.PROXY?he(un,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===s0.NOPROXY&&he(un,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){return new W6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="PersistentStream";class $S{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ue(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Uw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(Uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yk extends $S{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ek(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?is(c.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=p0(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=c0(m)?{documents:ik(l,m)}:{query:sk(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=VS(l,c.resumeToken);const p=f0(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=md(l,c.snapshotVersion.toTimestamp());const p=f0(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=ak(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=p0(this.serializer),n.removeTarget=e,this.q_(n)}}class Qk extends $S{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nk(e.writeResults,e.commitTime),s=is(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=p0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>tk(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{}class Wk extends Xk{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,d0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,d0(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Zk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="RemoteStore";class Jk{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Za(this)&&(he(Ka,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await Mu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qd(p)})(this))}))})),this.Ra=new Zk(s,a)}}async function qd(t){if(Za(t))for(const e of t.da)await e(!0)}async function Mu(t){for(const e of t.da)await e(!1)}function KS(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ly(n)?Py(n):Al(n).O_()&&jy(n,e))}function Oy(t,e){const n=Re(t),s=Al(n);n.Ia.delete(e),s.O_()&&YS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Za(n)&&n.Ra.set("Unknown"))}function jy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).Y_(e)}function YS(t,e){t.Va.Ue(e),Al(t).Z_(e)}function Py(t){t.Va=new K6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.Ra.ua()}function Ly(t){return Za(t)&&!Al(t).x_()&&t.Ia.size>0}function Za(t){return Re(t).Ea.size===0}function QS(t){t.Va=void 0}async function eV(t){t.Ra.set("Online")}async function tV(t){t.Ia.forEach(((e,n)=>{jy(t,e)}))}async function nV(t,e){QS(t),Ly(t)?(t.Ra.ha(e),Py(t)):t.Ra.set("Unknown")}async function iV(t,e,n){if(t.Ra.set("Online"),e instanceof kS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){he(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gd(t,s)}else if(e instanceof Gf?t.Va.Ze(e):e instanceof MS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const s=await qS(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),YS(l,m);const _=new Ir(v.target,m,p,v.sequenceNumber);jy(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){he(Ka,"Failed to raise snapshot:",s),await gd(t,s)}}async function gd(t,e,n){if(!El(e))throw e;t.Ea.add(1),await Mu(t),t.Ra.set("Offline"),n||(n=()=>qS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ka,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qd(t)}))}function XS(t,e){return e().catch((n=>gd(t,n,e)))}async function Gd(t){const e=Re(t),n=zr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xy;for(;sV(e);)try{const a=await Uk(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,rV(e,a)}catch(a){await gd(e,a)}WS(e)&&ZS(e)}function sV(t){return Za(t)&&t.Ta.length<10}function rV(t,e){t.Ta.push(e);const n=zr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function WS(t){return Za(t)&&!zr(t).x_()&&t.Ta.length>0}function ZS(t){zr(t).start()}async function aV(t){zr(t).ra()}async function oV(t){const e=zr(t);for(const n of t.Ta)e.ea(n.mutations)}async function lV(t,e,n){const s=t.Ta.shift(),a=Cy.from(s,e,n);await XS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Gd(t)}async function cV(t,e){e&&zr(t).X_&&await(async function(s,a){if((function(c){return q6(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();zr(s).B_(),await XS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Gd(s)}})(t,e),WS(t)&&ZS(t)}async function zw(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),he(Ka,"RemoteStore received new credentials");const s=Za(n);n.Ea.add(3),await Mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qd(n)}async function uV(t,e){const n=Re(t);e?(n.Ea.delete(2),await qd(n)):e||(n.Ea.add(2),await Mu(n),n.Ra.set("Unknown"))}function Al(t){return t.ma||(t.ma=(function(n,s,a){const l=Re(n);return l.sa(),new Yk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:eV.bind(null,t),t_:tV.bind(null,t),r_:nV.bind(null,t),H_:iV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ly(t)?Py(t):t.Ra.set("Unknown")):(await t.ma.stop(),QS(t))}))),t.ma}function zr(t){return t.fa||(t.fa=(function(n,s,a){const l=Re(n);return l.sa(),new Qk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aV.bind(null,t),r_:cV.bind(null,t),ta:oV.bind(null,t),na:lV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ka,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new Uy(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zy(t,e){if(Us("AsyncQueue",`${e}: ${t}`),El(t))return new ue(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Hc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new sl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.ga=new pt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class dl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new dl(e,n,sl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fV{constructor(){this.queries=Fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Re(n),l=a.queries;a.queries=Fw(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ue(ne.ABORTED,"Firestore shutting down"))}}function Fw(){return new Wa((t=>_S(t)),Ld)}async function By(t,e){const n=Re(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new hV,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=zy(c,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Hy(n)}async function Fy(t,e){const n=Re(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dV(t,e){const n=Re(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&Hy(n)}function mV(t,e,n){const s=Re(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Hy(t){t.Ca.forEach((e=>{e.next()}))}var v0,Hw;(Hw=v0||(v0={})).Ma="default",Hw.Cache="cache";class qy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new dl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==v0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class pV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=bS(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Bw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const x=a.get(v),E=Ud(this.query,_)?_:null,I=!!x&&this.mutatedKeys.has(x.key),V=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;x&&E?x.data.isEqual(E.data)?I!==V&&(s.track({type:3,doc:E}),C=!0):this.su(x,E)||(s.track({type:2,doc:E}),C=!0,(m&&this.eu(E,m)>0||p&&this.eu(E,p)<0)&&(f=!0)):!x&&E?(s.track({type:0,doc:E}),C=!0):x&&!E&&(s.track({type:1,doc:x}),C=!0,(m||p)&&(f=!0)),C&&(E?(c=c.add(E),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(E,I){const V=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:C})}};return V(E)-V(I)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new dl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new eA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new JS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gy="SyncEngine";class gV{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yV{constructor(e){this.key=e,this.hu=!1}}class vV{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Wa((f=>_S(f)),Ld),this.Iu=new Map,this.Eu=new Set,this.du=new pt(_e.comparator),this.Au=new Map,this.Ru=new Dy,this.Vu={},this.mu=new Map,this.fu=fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _V(t,e,n=!0){const s=aA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tA(s,e,n,!0),a}async function bV(t,e){const n=aA(t);await tA(n,e,!0,!1)}async function tA(t,e,n,s){const a=await zk(t.localStore,ns(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await xV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&KS(t.remoteStore,a),f}async function xV(t,e,n,s,a){t.pu=(_,x,E)=>(async function(V,C,P,q){let D=C.view.ru(P);D.Cs&&(D=await Ow(V.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,D))));const W=q&&q.targetChanges.get(C.targetId),te=q&&q.targetMismatches.get(C.targetId)!=null,ae=C.view.applyChanges(D,V.isPrimaryClient,W,te);return Gw(V,C.targetId,ae.au),ae.snapshot})(t,_,x,E);const l=await Ow(t.localStore,e,!0),c=new pV(e,l.Qs),f=c.ru(l.documents),m=Du.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);Gw(t,n,p.au);const v=new gV(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function wV(t,e,n){const s=Re(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Ld(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await g0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Oy(s.remoteStore,a.targetId),_0(s,a.targetId)})).catch(Tl)):(_0(s,a.targetId),await g0(s.localStore,a.targetId,!0))}async function TV(t,e){const n=Re(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Oy(n.remoteStore,s.targetId))}async function EV(t,e,n){const s=DV(t);try{const a=await(function(c,f){const m=Re(c),p=ct.now(),v=f.reduce(((E,I)=>E.add(I.key)),ze());let _,x;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=zs(),V=ze();return m.Ns.getEntries(E,v).next((C=>{I=C,I.forEach(((P,q)=>{q.isValidDocument()||(V=V.add(P))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,I))).next((C=>{_=C;const P=[];for(const q of f){const D=U6(q,_.get(q.key).overlayedDocument);D!=null&&P.push(new $r(q.key,D,hS(D.value.mapValue),ai.exists(!0)))}return m.mutationQueue.addMutationBatch(E,p,P,f)})).next((C=>{x=C;const P=C.applyToLocalDocumentSet(_,V);return m.documentOverlayCache.saveOverlays(E,C.batchId,P)}))})).then((()=>({batchId:x.batchId,changes:wS(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await ku(s,a.changes),await Gd(s.remoteStore)}catch(a){const l=zy(a,"Failed to persist write");n.reject(l)}}async function nA(t,e){const n=Re(t);try{const s=await Pk(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Xe(c.hu,14607):a.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await ku(n,s,e)}catch(s){await Tl(s)}}function qw(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Re(c);m.onlineState=f;let p=!1;m.queries.forEach(((v,_)=>{for(const x of _.Sa)x.va(f)&&(p=!0)})),p&&Hy(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function SV(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new pt(_e.comparator);c=c.insert(l,fn.newNoDocument(l,Se.min()));const f=ze().add(l),m=new Fd(Se.min(),new Map,new pt(Ue),c,f);await nA(s,m),s.du=s.du.remove(l),s.Au.delete(e),$y(s)}else await g0(s.localStore,e,!1).then((()=>_0(s,e,n))).catch(Tl)}async function AV(t,e){const n=Re(t),s=e.batch.batchId;try{const a=await jk(n.localStore,e);sA(n,s,null),iA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ku(n,a)}catch(a){await Tl(a)}}async function RV(t,e,n){const s=Re(t);try{const a=await(function(c,f){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Xe(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);sA(s,e,n),iA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ku(s,a)}catch(a){await Tl(a)}}function iA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function sA(t,e,n){const s=Re(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function _0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||rA(t,s)}))}function rA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Oy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$y(t))}function Gw(t,e,n){for(const s of n)s instanceof JS?(t.Ru.addReference(s.key,e),CV(t,s)):s instanceof eA?(he(Gy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||rA(t,s.key)):xe(19791,{wu:s})}function CV(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(he(Gy,"New document in limbo: "+n),t.Eu.add(s),$y(t))}function $y(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(at.fromString(e)),s=t.fu.next();t.Au.set(s,new yV(n)),t.du=t.du.insert(n,s),KS(t.remoteStore,new Ir(ns(Pd(n.path)),s,"TargetPurposeLimboResolution",Vd.ce))}}async function ku(t,e,n){const s=Re(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{var v;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=ky.As(m.targetId,p);l.push(_)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(p,(x=>re.forEach(x.Es,(E=>v.persistence.referenceDelegate.addReference(_,x.targetId,E))).next((()=>re.forEach(x.ds,(E=>v.persistence.referenceDelegate.removeReference(_,x.targetId,E)))))))))}catch(_){if(!El(_))throw _;he(Vy,"Failed to update sequence numbers: "+_)}for(const _ of p){const x=_.targetId;if(!_.fromCache){const E=v.Ms.get(x),I=E.snapshotVersion,V=E.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(x,V)}}})(s.localStore,l))}async function NV(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){he(Gy,"User change. New user:",e.toKey());const s=await HS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ue(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ku(n,s.Ls)}}function IV(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function aA(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SV.bind(null,e),e.Pu.H_=dV.bind(null,e.eventManager),e.Pu.yu=mV.bind(null,e.eventManager),e}function DV(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RV.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ok(this.persistence,new Mk,e.initialUser,this.serializer)}Cu(e){return new FS(My.mi,this.serializer)}Du(e){return new Fk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class MV extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof pd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new FS((s=>pd.mi(s,n)),this.serializer)}}class b0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NV.bind(null,this.syncEngine),await uV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fV})()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),s=(function(l){return new Kk(l)})(e.databaseInfo);return(function(l,c,f,m){return new Wk(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new Jk(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>qw(this.syncEngine,n,0)),(function(){return Lw.v()?new Lw:new Hk})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,v){const _=new vV(a,l,c,f,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Re(a);he(Ka,"RemoteStore shutting down."),l.Ea.add(5),await Mu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}b0.provider={build:()=>new b0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class kV{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{he(Br,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(Br,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zy(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rg(t,e){t.asyncQueue.verifyOperationInProgress(),he(Br,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await HS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VV(t);he(Br,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>zw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>zw(e.remoteStore,a))),t._onlineComponents=e}async function VV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Br,"Using user provided OfflineComponentProvider");try{await Rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await Rg(t,new yd)}}else he(Br,"Using default OfflineComponentProvider"),await Rg(t,new MV(void 0));return t._offlineComponents}async function oA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Br,"Using user provided OnlineComponentProvider"),await $w(t,t._uninitializedComponentsProvider._online)):(he(Br,"Using default OnlineComponentProvider"),await $w(t,new b0))),t._onlineComponents}function OV(t){return oA(t).then((e=>e.syncEngine))}async function vd(t){const e=await oA(t),n=e.eventManager;return n.onListen=_V.bind(null,e.syncEngine),n.onUnlisten=wV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TV.bind(null,e.syncEngine),n}function jV(t,e,n={}){const s=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new Ky({next:x=>{v.Nu(),c.enqueueAndForget((()=>Fy(l,_)));const E=x.docs.has(f);!E&&x.fromCache?p.reject(new ue(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&m&&m.source==="server"?p.reject(new ue(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new qy(Pd(f.path),v,{includeMetadataChanges:!0,qa:!0});return By(l,_)})(await vd(t),t.asyncQueue,e,n,s))),s.promise}function PV(t,e,n={}){const s=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new Ky({next:x=>{v.Nu(),c.enqueueAndForget((()=>Fy(l,_))),x.fromCache&&m.source==="server"?p.reject(new ue(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new qy(f,v,{includeMetadataChanges:!0,qa:!0});return By(l,_)})(await vd(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firestore.googleapis.com",Yw=!0;class Qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=Yw}else this.host=e.host,this.ssl=e.ssl??Yw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pk)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HM;switch(s.type){case"firstParty":return new KM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Kw.get(n);s&&(he("ComponentProvider","Removing Datastore"),Kw.delete(n),s.terminate())})(this),Promise.resolve()}}function LV(t,e,n,s={}){var p;t=Nn(t,$d);const a=qr(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(sy(`https://${f}`),ry("Firestore",!0)),l.host!==cA&&l.host!==f&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ha(m,c)&&(t._setSettings(m),s.mockUserToken)){let v,_;if(typeof s.mockUserToken=="string")v=s.mockUserToken,_=hn.MOCK_USER;else{v=uE(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new hn(x)}t._authCredentials=new qM(new JE(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Kr(this.firestore,e,this._query)}}class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nu(n,bt._jsonSchema))return new bt(e,s||null,new _e(at.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Bt("string",bt._jsonSchemaVersion),referencePath:Bt("string")};class Vr extends Kr{constructor(e,n,s){super(e,n,Pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new _e(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function Ya(t,e,...n){if(t=xt(t),eS("collection","path",e),t instanceof $d){const s=at.fromString(e,...n);return lw(s),new Vr(t,null,s)}{if(!(t instanceof bt||t instanceof Vr))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return lw(s),new Vr(t.firestore,null,s)}}function li(t,e,...n){if(t=xt(t),arguments.length===1&&(e=by.newId()),eS("doc","path",e),t instanceof $d){const s=at.fromString(e,...n);return ow(s),new bt(t,null,new _e(s))}{if(!(t instanceof bt||t instanceof Vr))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return ow(s),new bt(t.firestore,t instanceof Vr?t.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="AsyncQueue";class Ww{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GS(this,"async_queue_retry"),this._c=()=>{const s=Ag();s&&he(Xw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;he(Xw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",Zw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Uy.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:Zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Zw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Bs extends $d{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Ww,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ww(e),this._firestoreClient=void 0,await e}}}function UV(t,e){const n=typeof t=="object"?t:ly(),s=typeof t=="string"?t:cd,a=Nd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=oE("firestore");l&&LV(a,...l)}return a}function Kd(t){if(t._terminated)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zV(t),t._firestoreClient}function zV(t){var s,a,l;const e=t._freezeSettings(),n=(function(f,m,p,v){return new u6(f,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,lA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(ln.fromBase64String(e))}catch(n){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new si(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Bt("string",si._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Bt("string",ss._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rs(e.vectorValues);throw new ue(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rs._jsonSchemaVersion="firestore/vectorValue/1.0",rs._jsonSchema={type:Bt("string",rs._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^__.*__$/;class FV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}class uA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class Qy{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _d(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hA(this.Ac)&&BV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hd(e)}Cc(e,n,s,a=!1){return new Qy({Ac:e,methodName:n,Dc:s,path:on.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(t){const e=t._freezeSettings(),n=Hd(t._databaseId);return new HV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Xy("Data must be an object, but it was:",c,s);const f=dA(s,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const x=x0(e,_,n);if(!c.contains(x))throw new ue(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);pA(v,x)||v.push(x)}m=new zn(v),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new FV(new Rn(f),m,p)}class Xd extends Yy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function qV(t,e,n,s){const a=t.Cc(1,e,n);Xy("Data must be an object, but it was:",a,s);const l=[],c=Rn.empty();Gr(s,((m,p)=>{const v=Wy(e,m,n);p=xt(p);const _=a.yc(v);if(p instanceof Xd)l.push(v);else{const x=Vu(p,_);x!=null&&(l.push(v),c.set(v,x))}}));const f=new zn(l);return new uA(c,f,a.fieldTransforms)}function GV(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[x0(e,s,n)],m=[a];if(l.length%2!=0)throw new ue(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(x0(e,l[x])),m.push(l[x+1]);const p=[],v=Rn.empty();for(let x=f.length-1;x>=0;--x)if(!pA(p,f[x])){const E=f[x];let I=m[x];I=xt(I);const V=c.yc(E);if(I instanceof Xd)p.push(E);else{const C=Vu(I,V);C!=null&&(p.push(E),v.set(E,C))}}const _=new zn(p);return new uA(v,_,c.fieldTransforms)}function $V(t,e,n,s=!1){return Vu(n,t.Cc(s?4:3,e))}function Vu(t,e){if(mA(t=xt(t)))return Xy("Unsupported field value:",e,t),dA(t,e);if(t instanceof Yy)return(function(s,a){if(!hA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Vu(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return k6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:md(a.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:md(a.serializer,l)}}if(s instanceof ss)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof si)return{bytesValue:VS(a.serializer,s._byteString)};if(s instanceof bt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Iy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof rs)return(function(c,f){return{mapValue:{fields:{[cS]:{stringValue:uS},[ud]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Ay(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${kd(s)}`)})(t,e)}function dA(t,e){const n={};return iS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,((s,a)=>{const l=Vu(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function mA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof ss||t instanceof si||t instanceof bt||t instanceof Yy||t instanceof rs)}function Xy(t,e,n){if(!mA(n)||!tS(n)){const s=kd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function x0(t,e,n){if((e=xt(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return Wy(t,e);throw _d("Field path arguments must be of type string or ",t,!1,void 0,n)}const KV=new RegExp("[~\\*/\\[\\]]");function Wy(t,e,n){if(e.search(KV)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yd(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _d(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ue(ne.INVALID_ARGUMENT,f+t+m)}function pA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YV extends gA{data(){return super.data()}}function Zy(t,e){return typeof e=="string"?Wy(t,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class vA extends Jy{}function ml(t,e,...n){let s=[];e instanceof Jy&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof tv)).length,f=l.filter((m=>m instanceof ev)).length;if(c>1||c>0&&f>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class ev extends vA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ev(e,n,s)}_apply(e){const n=this._parse(e);return bA(e._query,n),new Kr(e.firestore,e.converter,u0(e._query,n))}_parse(e){const n=Qd(e.firestore);return(function(l,c,f,m,p,v,_){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){tT(_,v);const I=[];for(const V of _)I.push(eT(m,l,V));x={arrayValue:{values:I}}}else x=eT(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||tT(_,v),x=$V(f,c,_,v==="in"||v==="not-in");return zt.create(p,v,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class tv extends Jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)bA(c,m),c=u0(c,m)})(e._query,n),new Kr(e.firestore,e.converter,u0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nv extends vA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(l,c)})(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Sl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function _A(t,e="asc"){const n=e,s=Zy("orderBy",t);return nv._create(s,n)}function eT(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!_e.isDocumentKey(s))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gw(t,new _e(s))}if(n instanceof bt)return gw(t,n._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kd(n)}.`)}function tT(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QV{convertValue(e,n="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Gr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[ud].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Ct(c.doubleValue)));return new rs(n)}convertGeoPoint(e){return new ss(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Xe(zS(s),9688,{name:e});const a=new hu(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Us(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends gA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:Bt("string",Pa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class $f extends Pa{data(e={}){return super.data(e)}}class La{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $f(this._firestore,this._userDataWriter,s.key,s,new Gc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new $f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Gc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new $f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Gc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:XV(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=by.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){t=Nn(t,bt);const e=Nn(t.firestore,Bs);return jV(Kd(e),t._key).then((n=>wA(e,t,n)))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Bt("string",La._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class iv extends QV{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function w0(t){t=Nn(t,Kr);const e=Nn(t.firestore,Bs),n=Kd(e),s=new iv(e);return yA(t._query),PV(n,t._query).then((a=>new La(e,s,t,a)))}function pl(t,e,n){t=Nn(t,bt);const s=Nn(t.firestore,Bs),a=xA(t.converter,e,n);return Wd(s,[fA(Qd(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ai.none())])}function ZV(t,e,n,...s){t=Nn(t,bt);const a=Nn(t.firestore,Bs),l=Qd(a);let c;return c=typeof(e=xt(e))=="string"||e instanceof Yd?GV(l,"updateDoc",t._key,e,n,s):qV(l,"updateDoc",t._key,e),Wd(a,[c.toMutation(t._key,ai.exists(!0))])}function Ou(t){return Wd(Nn(t.firestore,Bs),[new Ry(t._key,ai.none())])}function JV(t,e){const n=Nn(t.firestore,Bs),s=li(t),a=xA(t.converter,e);return Wd(n,[fA(Qd(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ai.exists(!1))]).then((()=>s))}function sv(t,...e){var m,p,v;t=xt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Jw(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Jw(e[s])){const _=e[s];e[s]=(m=_.next)==null?void 0:m.bind(_),e[s+1]=(p=_.error)==null?void 0:p.bind(_),e[s+2]=(v=_.complete)==null?void 0:v.bind(_)}let l,c,f;if(t instanceof bt)c=Nn(t.firestore,Bs),f=Pd(t._key.path),l={next:_=>{e[s]&&e[s](wA(c,t,_))},error:e[s+1],complete:e[s+2]};else{const _=Nn(t,Kr);c=Nn(_.firestore,Bs),f=_._query;const x=new iv(c);l={next:E=>{e[s]&&e[s](new La(c,x,_,E))},error:e[s+1],complete:e[s+2]},yA(t._query)}return(function(x,E,I,V){const C=new Ky(V),P=new qy(E,C,I);return x.asyncQueue.enqueueAndForget((async()=>By(await vd(x),P))),()=>{C.Nu(),x.asyncQueue.enqueueAndForget((async()=>Fy(await vd(x),P)))}})(Kd(c),f,a,l)}function Wd(t,e){return(function(s,a){const l=new Os;return s.asyncQueue.enqueueAndForget((async()=>EV(await OV(s),a,l))),l.promise})(Kd(t),e)}function wA(t,e,n){const s=n.docs.get(e._key),a=new iv(t);return new Pa(t,a,e._key,s,new Gc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){wl=a})(Xa),qa(new Or("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Bs(new GM(s.getProvider("auth-internal")),new YM(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),es(iw,sw,e),es(iw,sw,"esm2020")})();var eO="firebase",tO="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(eO,tO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebasestorage.googleapis.com",EA="storageBucket",nO=120*1e3,iO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends hs{constructor(e,n,s=0){super(Cg(e),`Firebase Storage: ${n} (${Cg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Cg(t){return"storage/"+t}function rv(){const t="An unknown error occurred, please check the error payload for server response.";return new Tt(wt.UNKNOWN,t)}function sO(t){return new Tt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rO(t){return new Tt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(wt.UNAUTHENTICATED,t)}function oO(){return new Tt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lO(t){return new Tt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cO(){return new Tt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uO(){return new Tt(wt.CANCELED,"User canceled the upload/download.")}function hO(t){return new Tt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function fO(t){return new Tt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dO(){return new Tt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EA+"' property when initializing the app?")}function mO(){return new Tt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pO(){return new Tt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gO(t){return new Tt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function T0(t){return new Tt(wt.INVALID_ARGUMENT,t)}function SA(){return new Tt(wt.APP_DELETED,"The Firebase app was deleted.")}function yO(t){return new Tt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(t,e){return new Tt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Uc(t){throw new Tt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(s.path==="")return s;throw fO(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(W){W.path_=decodeURIComponent(W.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${v}/b/${a}/o${x}`,"i"),I={bucket:1,path:3},V=n===TA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",P=new RegExp(`^https?://${V}/${a}/${C}`,"i"),D=[{regex:f,indices:m,postModify:l},{regex:E,indices:I,postModify:p},{regex:P,indices:{bucket:1,path:2},postModify:p}];for(let W=0;W<D.length;W++){const te=D[W],ae=te.regex.exec(e);if(ae){const N=ae[te.indices.bucket];let R=ae[te.indices.path];R||(R=""),s=new Bn(N,R),te.postModify(s);break}}if(s==null)throw hO(e);return s}}class vO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function v(...C){p||(p=!0,e.apply(null,C))}function _(C){a=setTimeout(()=>{a=null,t(E,m())},C)}function x(){l&&clearTimeout(l)}function E(C,...P){if(p){x();return}if(C){x(),v.call(null,C,...P);return}if(m()||c){x(),v.call(null,C,...P);return}s<64&&(s*=2);let D;f===1?(f=2,D=0):D=(s+Math.random())*1e3,_(D)}let I=!1;function V(C){I||(I=!0,x(),!p&&(a!==null?(C||(f=2),clearTimeout(a),_(0)):C||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function bO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){return t!==void 0}function wO(t){return typeof t=="object"&&!Array.isArray(t)}function av(t){return typeof t=="string"||t instanceof String}function nT(t){return ov()&&t instanceof Blob}function ov(){return typeof Blob<"u"}function iT(t,e,n,s){if(s<e)throw T0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw T0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function AA(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ua;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,s,a,l,c,f,m,p,v,_,x=!0,E=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=x,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,V)=>{this.resolve_=I,this.reject_=V,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Sf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ua.NO_ERROR,m=l.getStatus();if(!f||TO(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ua.ABORT;s(!1,new Sf(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Sf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());xO(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=rv();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?SA():uO();c(m)}else{const m=cO();c(m)}};this.canceled_?n(!1,new Sf(!1,null,!0)):this.backoffId_=_O(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function SO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NO(t,e,n,s,a,l,c=!0,f=!1){const m=AA(t.urlParams),p=t.url+m,v=Object.assign({},t.headers);return RO(v,e),SO(v,n),AO(v,l),CO(v,s),new EO(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DO(...t){const e=IO();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(ov())return new Blob(t);throw new Tt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){if(typeof atob>"u")throw gO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ng{constructor(e,n){this.data=e,this.contentType=n||null}}function VO(t,e){switch(t){case Ji.RAW:return new Ng(RA(e));case Ji.BASE64:case Ji.BASE64URL:return new Ng(CA(t,e));case Ji.DATA_URL:return new Ng(jO(e),PO(e))}throw rv()}function RA(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function OO(t){let e;try{e=decodeURIComponent(t)}catch{throw eu(Ji.DATA_URL,"Malformed data URL.")}return RA(e)}function CA(t,e){switch(t){case Ji.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw eu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw eu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kO(e)}catch(a){throw a.message.includes("polyfill")?a:eu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class NA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=LO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function jO(t){const e=new NA(t);return e.base64?CA(Ji.BASE64,e.rest):OO(e.rest)}function PO(t){return new NA(t).contentType}function LO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){let s=0,a="";nT(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(nT(this.data_)){const s=this.data_,a=MO(s,e,n);return a===null?null:new Nr(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Nr(s,!0)}}static getBlob(...e){if(ov()){const n=e.map(s=>s instanceof Nr?s.data_:s);return new Nr(DO.apply(null,n))}else{const n=e.map(c=>av(c)?VO(Ji.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Nr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){let e;try{e=JSON.parse(t)}catch{return null}return wO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zO(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function DA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){return e}class yn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||BO}}let Af=null;function FO(t){return!av(t)||t.length<2?t:DA(t)}function MA(){if(Af)return Af;const t=[];t.push(new yn("bucket")),t.push(new yn("generation")),t.push(new yn("metageneration")),t.push(new yn("name","fullPath",!0));function e(l,c){return FO(c)}const n=new yn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new yn("size");return a.xform=s,t.push(a),t.push(new yn("timeCreated")),t.push(new yn("updated")),t.push(new yn("md5Hash",null,!0)),t.push(new yn("cacheControl",null,!0)),t.push(new yn("contentDisposition",null,!0)),t.push(new yn("contentEncoding",null,!0)),t.push(new yn("contentLanguage",null,!0)),t.push(new yn("contentType",null,!0)),t.push(new yn("metadata","customMetadata",!0)),Af=t,Af}function HO(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Bn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function qO(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return HO(s,t),s}function kA(t,e,n){const s=IA(e);return s===null?null:qO(t,s,n)}function GO(t,e,n,s){const a=IA(e);if(a===null||!av(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,_=t.fullPath,x="/b/"+c(v)+"/o/"+c(_),E=lv(x,n,s),I=AA({alt:"media",token:p});return E+I})[0]}function $O(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class VA{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t){if(!t)throw rv()}function KO(t,e){function n(s,a){const l=kA(t,a,e);return OA(l!==null),l}return n}function YO(t,e){function n(s,a){const l=kA(t,a,e);return OA(l!==null),GO(l,a,t.host,t._protocol)}return n}function jA(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=oO():a=aO():n.getStatus()===402?a=rO(t.bucket):n.getStatus()===403?a=lO(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function QO(t){const e=jA(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=sO(t.path)),l.serverResponse=a.serverResponse,l}return n}function XO(t,e,n){const s=e.fullServerUrl(),a=lv(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new VA(a,l,YO(t,n),c);return f.errorHandler=QO(e),f}function WO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZO(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=WO(null,e)),s}function JO(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let D="";for(let W=0;W<2;W++)D=D+Math.random().toString().slice(2);return D}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=ZO(e,s,a),v=$O(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,x=`\r
--`+m+"--",E=Nr.getBlob(_,s,x);if(E===null)throw mO();const I={name:p.fullPath},V=lv(l,t.host,t._protocol),C="POST",P=t.maxUploadRetryTime,q=new VA(V,C,KO(t,n),P);return q.urlParams=I,q.headers=c,q.body=E.uploadData(),q.errorHandler=jA(e),q}class ej{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Uc("cannot .send() more than once");if(qr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tj extends ej{initXhr(){this.xhr_.responseType="text"}}function PA(){return new tj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qa(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DA(this._location.path)}get storage(){return this._service}get parent(){const e=UO(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Qa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yO(e)}}function nj(t,e,n){t._throwIfRoot("uploadBytes");const s=JO(t.storage,t._location,MA(),new Nr(e,!0),n);return t.storage.makeRequestWithTokens(s,PA).then(a=>({metadata:a,ref:t}))}function ij(t){t._throwIfRoot("getDownloadURL");const e=XO(t.storage,t._location,MA());return t.storage.makeRequestWithTokens(e,PA).then(n=>{if(n===null)throw pO();return n})}function sj(t,e){const n=zO(t._location.path,e),s=new Bn(t._location.bucket,n);return new Qa(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){return/^[A-Za-z]+:\/\//.test(t)}function aj(t,e){return new Qa(t,e)}function LA(t,e){if(t instanceof cv){const n=t;if(n._bucket==null)throw dO();const s=new Qa(n,n._bucket);return e!=null?LA(s,e):s}else return e!==void 0?sj(t,e):t}function oj(t,e){if(e&&rj(e)){if(t instanceof cv)return aj(t,e);throw T0("To use ref(service, url), the first argument must be a Storage instance.")}else return LA(t,e)}function sT(t,e){const n=e==null?void 0:e[EA];return n==null?null:Bn.makeFromBucketSpec(n,t)}function lj(t,e,n,s={}){t.host=`${e}:${n}`;const a=qr(e);a&&(sy(`https://${t.host}/b`),ry("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:uE(l,t.app.options.projectId))}class cv{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=TA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nO,this._maxUploadRetryTime=iO,this._requests=new Set,a!=null?this._bucket=Bn.makeFromBucketSpec(a,this._host):this._bucket=sT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=sT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qa(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new vO(SA());{const c=NO(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const rT="@firebase/storage",aT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="storage";function zA(t,e,n){return t=xt(t),nj(t,e,n)}function BA(t){return t=xt(t),ij(t)}function FA(t,e){return t=xt(t),oj(t,e)}function cj(t=ly(),e){t=xt(t);const s=Nd(t,UA).getImmediate({identifier:e}),a=oE("storage");return a&&uj(s,...a),s}function uj(t,e,n,s={}){lj(t,e,n,s)}function hj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new cv(n,s,a,e,Xa)}function fj(){qa(new Or(UA,hj,"PUBLIC").setMultipleInstances(!0)),es(rT,aT,""),es(rT,aT,"esm2020")}fj();const Rf={apiKey:"AIzaSyBZA0EsTsyLJyNssJx5DlzTciwSl175kf4",authDomain:"vitalrpnet.firebaseapp.com",projectId:"vitalrpnet",storageBucket:"vitalrpnet.firebasestorage.app",messagingSenderId:"497680378833",appId:"1:497680378833:web:f9b6bbc9a9eb14a0428ef0",measurementId:"G-2E3FDW1LJW"};let Cf,Fe,Na,ka;if(Rf.apiKey)try{Cf=dE(Rf),Fe=UV(Cf),Na=BM(Cf),ka=cj(Cf),console.log("Firebase initialized successfully with config:",{projectId:Rf.projectId,authDomain:Rf.authDomain})}catch(t){console.warn("Firebase initialization failed:",t)}else console.warn("Firebase config missing. Running in demo/local mode.");const dj=["tx.davidj@gmail.com"],HA=M.createContext({user:null,isAdmin:!1,editMode:!1,login:async()=>{},logout:async()=>{},toggleEditMode:()=>{},loading:!0}),Ja=()=>M.useContext(HA),mj=({children:t})=>{const[e,n]=M.useState(null),[s,a]=M.useState(!1),[l,c]=M.useState(!1),[f,m]=M.useState(!0);M.useEffect(()=>{if(!Na){console.error("Firebase Auth not initialized"),m(!1);return}const x=ND(Na,async E=>{if(n(E),E&&E.email){let I=!1;if(dj.includes(E.email)&&(I=!0),Fe)try{const V=li(Fe,"users",E.email.toLowerCase()),C=await WV(V);if(C.exists()){const P=C.data();(P.role==="superadmin"||P.role==="admin"||P.role==="editor"||P.role==="owner")&&(I=!0),await pl(V,{displayName:E.displayName,photoURL:E.photoURL,lastLogin:new Date},{merge:!0})}else await pl(V,{email:E.email,displayName:E.displayName,photoURL:E.photoURL,role:"user",createdAt:new Date,lastLogin:new Date})}catch(V){console.error("Error fetching/saving user:",V)}a(I),console.log(I?" Admin Authorized:":" User not authorized (Role: User/None):",E.email)}else a(!1);m(!1)});return()=>x()},[]);const p=async()=>{if(Na)try{const x=new Ds;await XD(Na,x)}catch(x){console.error("Login failed:",x)}},v=async()=>{if(Na)try{await ID(Na),c(!1),a(!1)}catch(x){console.error("Logout failed:",x)}},_=()=>{s&&c(x=>!x)};return y.jsx(HA.Provider,{value:{user:e,isAdmin:s,editMode:l,login:p,logout:v,toggleEditMode:_,loading:f},children:t})},uv=M.createContext({});function Rl(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const hv=typeof window<"u",Zd=hv?M.useLayoutEffect:M.useEffect,Jd=M.createContext(null);function fv(t,e){t.indexOf(e)===-1&&t.push(e)}function dv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const us=(t,e,n)=>n>e?e:n<t?t:n;let gu=()=>{};const Fs={},qA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function GA(t){return typeof t=="object"&&t!==null}const $A=t=>/^0[^.\s]+$/u.test(t);function mv(t){let e;return()=>(e===void 0&&(e=t()),e)}const In=t=>t,pj=(t,e)=>n=>e(t(n)),ju=(...t)=>t.reduce(pj),gl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class pv{constructor(){this.subscriptions=[]}add(e){return fv(this.subscriptions,e),()=>dv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=t=>t*1e3,ri=t=>t/1e3;function gv(t,e){return e?t*(1e3/e):0}const KA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,gj=1e-7,yj=12;function vj(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=KA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>gj&&++f<yj);return c}function Pu(t,e,n,s){if(t===e&&n===s)return In;const a=l=>vj(l,0,1,t,n);return l=>l===0||l===1?l:KA(a(l),e,s)}const YA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QA=t=>e=>1-t(1-e),XA=Pu(.33,1.53,.69,.99),yv=QA(XA),WA=YA(yv),ZA=t=>(t*=2)<1?.5*yv(t):.5*(2-Math.pow(2,-10*(t-1))),vv=t=>1-Math.sin(Math.acos(t)),JA=QA(vv),eR=YA(vv),_j=Pu(.42,0,1,1),bj=Pu(0,0,.58,1),tR=Pu(.42,0,.58,1),xj=t=>Array.isArray(t)&&typeof t[0]!="number",nR=t=>Array.isArray(t)&&typeof t[0]=="number",wj={linear:In,easeIn:_j,easeInOut:tR,easeOut:bj,circIn:vv,circInOut:eR,circOut:JA,backIn:yv,backInOut:WA,backOut:XA,anticipate:ZA},Tj=t=>typeof t=="string",oT=t=>{if(nR(t)){gu(t.length===4);const[e,n,s,a]=t;return Pu(e,n,s,a)}else if(Tj(t))return wj[t];return t},Nf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ej(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,_=!1,x=!1)=>{const I=x&&a?n:s;return _&&c.add(v),I.has(v)||I.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const Sj=40;function iR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Nf.reduce((D,W)=>(D[W]=Ej(l),D),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:v,update:_,preRender:x,render:E,postRender:I}=c,V=()=>{const D=Fs.useManualTiming?a.timestamp:performance.now();n=!1,Fs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(D-a.timestamp,Sj),1)),a.timestamp=D,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),v.process(a),_.process(a),x.process(a),E.process(a),I.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(V))},C=()=>{n=!0,s=!0,a.isProcessing||t(V)};return{schedule:Nf.reduce((D,W)=>{const te=c[W];return D[W]=(ae,N=!1,R=!1)=>(n||C(),te.schedule(ae,N,R)),D},{}),cancel:D=>{for(let W=0;W<Nf.length;W++)c[Nf[W]].cancel(D)},state:a,steps:c}}const{schedule:Qe,cancel:Ci,state:Xt,steps:Ig}=iR(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0);let Kf;function Aj(){Kf=void 0}const Cn={now:()=>(Kf===void 0&&Cn.set(Xt.isProcessing||Fs.useManualTiming?Xt.timestamp:performance.now()),Kf),set:t=>{Kf=t,queueMicrotask(Aj)}},sR=t=>e=>typeof e=="string"&&e.startsWith(t),rR=sR("--"),Rj=sR("var(--"),_v=t=>Rj(t)?Cj.test(t.split("/*")[0].trim()):!1,Cj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yu={...Cl,transform:t=>us(0,1,t)},If={...Cl,default:1},tu=t=>Math.round(t*1e5)/1e5,bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Nj(t){return t==null}const Ij=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xv=(t,e)=>n=>!!(typeof n=="string"&&Ij.test(n)&&n.startsWith(t)||e&&!Nj(n)&&Object.prototype.hasOwnProperty.call(n,e)),aR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(bv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},Dj=t=>us(0,255,t),Dg={...Cl,transform:t=>Math.round(Dj(t))},Va={test:xv("rgb","red"),parse:aR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Dg.transform(t)+", "+Dg.transform(e)+", "+Dg.transform(n)+", "+tu(yu.transform(s))+")"};function Mj(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const E0={test:xv("#"),parse:Mj,transform:Va.transform},Lu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=Lu("deg"),os=Lu("%"),we=Lu("px"),kj=Lu("vh"),Vj=Lu("vw"),lT={...os,parse:t=>os.parse(t)/100,transform:t=>os.transform(t*100)},Qo={test:xv("hsl","hue"),parse:aR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+os.transform(tu(e))+", "+os.transform(tu(n))+", "+tu(yu.transform(s))+")"},Ut={test:t=>Va.test(t)||E0.test(t)||Qo.test(t),parse:t=>Va.test(t)?Va.parse(t):Qo.test(t)?Qo.parse(t):E0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Va.transform(t):Qo.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},Oj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bv))==null?void 0:e.length)||0)+(((n=t.match(Oj))==null?void 0:n.length)||0)>0}const oR="number",lR="color",Pj="var",Lj="var(",cT="${}",Uj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(Uj,m=>(Ut.test(m)?(s.color.push(l),a.push(lR),n.push(Ut.parse(m))):m.startsWith(Lj)?(s.var.push(l),a.push(Pj),n.push(m)):(s.number.push(l),a.push(oR),n.push(parseFloat(m))),++l,cT)).split(cT);return{values:n,split:f,indexes:s,types:a}}function cR(t){return vu(t).values}function uR(t){const{split:e,types:n}=vu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===oR?l+=tu(a[c]):f===lR?l+=Ut.transform(a[c]):l+=a[c]}return l}}const zj=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function Bj(t){const e=cR(t);return uR(t)(e.map(zj))}const Fr={test:jj,parse:cR,createTransformer:uR,getAnimatableNone:Bj};function Mg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Fj({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Mg(m,f,t+1/3),l=Mg(m,f,t),c=Mg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function bd(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,kg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},Hj=[E0,Va,Qo],qj=t=>Hj.find(e=>e.test(t));function uT(t){const e=qj(t);if(!e)return!1;let n=e.parse(t);return e===Qo&&(n=Fj(n)),n}const hT=(t,e)=>{const n=uT(t),s=uT(e);if(!n||!s)return bd(t,e);const a={...n};return l=>(a.red=kg(n.red,s.red,l),a.green=kg(n.green,s.green,l),a.blue=kg(n.blue,s.blue,l),a.alpha=mt(n.alpha,s.alpha,l),Va.transform(a))},S0=new Set(["none","hidden"]);function Gj(t,e){return S0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $j(t,e){return n=>mt(t,e,n)}function wv(t){return typeof t=="number"?$j:typeof t=="string"?_v(t)?bd:Ut.test(t)?hT:Qj:Array.isArray(t)?hR:typeof t=="object"?Ut.test(t)?hT:Kj:bd}function hR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>wv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function Kj(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=wv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function Yj(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const Qj=(t,e)=>{const n=Fr.createTransformer(e),s=vu(t),a=vu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?S0.has(t)&&!a.values.length||S0.has(e)&&!s.values.length?Gj(t,e):ju(hR(Yj(s,a),a.values),n):bd(t,e)};function fR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):wv(t)(t,e)}const Xj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>Ci(e),now:()=>Xt.isProcessing?Xt.timestamp:Cn.now()}},dR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},xd=2e4;function Tv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<xd;)e+=n,s=t.next(e);return e>=xd?1/0:e}function Wj(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Tv(s),xd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ri(a)}}const Zj=5;function mR(t,e,n){const s=Math.max(e-Zj,0);return gv(n-t(s),e-s)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vg=.001;function Jj({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:s=_t.mass}){let a,l,c=1-e;c=us(_t.minDamping,_t.maxDamping,c),t=us(_t.minDuration,_t.maxDuration,ri(t)),c<1?(a=p=>{const v=p*c,_=v*t,x=v-n,E=A0(p,c),I=Math.exp(-_);return Vg-x/E*I},l=p=>{const _=p*c*t,x=_*n+n,E=Math.pow(c,2)*Math.pow(p,2)*t,I=Math.exp(-_),V=A0(Math.pow(p,2),c);return(-a(p)+Vg>0?-1:1)*((x-E)*I)/V}):(a=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-Vg+v*_},l=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const f=5/t,m=t9(a,l,f);if(t=as(t),isNaN(m))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const e9=12;function t9(t,e,n){let s=n;for(let a=1;a<e9;a++)s=s-t(s)/e(s);return s}function A0(t,e){return t*Math.sqrt(1-e*e)}const n9=["duration","bounce"],i9=["stiffness","damping","mass"];function fT(t,e){return e.some(n=>t[n]!==void 0)}function s9(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!fT(t,i9)&&fT(t,n9))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*us(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=Jj(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function wd(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:x,isResolvedFromDuration:E}=s9({...n,velocity:-ri(n.velocity||0)}),I=x||0,V=p/(2*Math.sqrt(m*v)),C=c-l,P=ri(Math.sqrt(m/v)),q=Math.abs(C)<5;s||(s=q?_t.restSpeed.granular:_t.restSpeed.default),a||(a=q?_t.restDelta.granular:_t.restDelta.default);let D;if(V<1){const te=A0(P,V);D=ae=>{const N=Math.exp(-V*P*ae);return c-N*((I+V*P*C)/te*Math.sin(te*ae)+C*Math.cos(te*ae))}}else if(V===1)D=te=>c-Math.exp(-P*te)*(C+(I+P*C)*te);else{const te=P*Math.sqrt(V*V-1);D=ae=>{const N=Math.exp(-V*P*ae),R=Math.min(te*ae,300);return c-N*((I+V*P*C)*Math.sinh(R)+te*C*Math.cosh(R))/te}}const W={calculatedDuration:E&&_||null,next:te=>{const ae=D(te);if(E)f.done=te>=_;else{let N=te===0?I:0;V<1&&(N=te===0?as(I):mR(D,te,ae));const R=Math.abs(N)<=s,k=Math.abs(c-ae)<=a;f.done=R&&k}return f.value=f.done?c:ae,f},toString:()=>{const te=Math.min(Tv(W),xd),ae=dR(N=>W.next(te*N).value,te,30);return te+"ms "+ae},toTransition:()=>{}};return W}wd.applyToOptions=t=>{const e=Wj(t,100,wd);return t.ease=e.ease,t.duration=as(e.duration),t.type="keyframes",t};function R0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:v}){const _=t[0],x={done:!1,value:_},E=R=>f!==void 0&&R<f||m!==void 0&&R>m,I=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let V=n*e;const C=_+V,P=c===void 0?C:c(C);P!==C&&(V=P-_);const q=R=>-V*Math.exp(-R/s),D=R=>P+q(R),W=R=>{const k=q(R),L=D(R);x.done=Math.abs(k)<=p,x.value=x.done?P:L};let te,ae;const N=R=>{E(x.value)&&(te=R,ae=wd({keyframes:[x.value,I(x.value)],velocity:mR(D,R,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return N(0),{calculatedDuration:null,next:R=>{let k=!1;return!ae&&te===void 0&&(k=!0,W(R),N(R)),te!==void 0&&R>=te?ae.next(R-te):(!k&&W(R),x)}}}function r9(t,e,n){const s=[],a=n||Fs.mix||fR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||In:e;f=ju(m,f)}s.push(f)}return s}function Ev(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(gu(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=r9(e,s,a),m=f.length,p=v=>{if(c&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const x=gl(t[_],t[_+1],v);return f[_](x)};return n?v=>p(us(t[0],t[l-1],v)):p}function a9(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=gl(0,e,s);t.push(mt(n,1,a))}}function pR(t){const e=[0];return a9(e,t.length-1),e}function o9(t,e){return t.map(n=>n*e)}function l9(t,e){return t.map(()=>e||tR).splice(0,t.length-1)}function nu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=xj(s)?s.map(oT):oT(s),l={done:!1,value:e[0]},c=o9(n&&n.length===e.length?n:pR(e),t),f=Ev(c,e,{ease:Array.isArray(a)?a:l9(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const c9=t=>t!==null;function Sv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(c9),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const u9={decay:R0,inertia:R0,tween:nu,keyframes:nu,spring:wd};function gR(t){typeof t.type=="string"&&(t.type=u9[t.type])}class Av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const h9=t=>t/100;class em extends Av{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gR(e);const{type:n=nu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||nu;m!==nu&&typeof f[0]!="number"&&(this.mixKeyframes=ju(h9,fR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Tv(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:x,repeatDelay:E,type:I,onUpdate:V,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?P<0:P>a;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let D=this.currentTime,W=s;if(_){const R=Math.min(this.currentTime,a)/f;let k=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&k--,k=Math.min(k,_+1),!!(k%2)&&(x==="reverse"?(L=1-L,E&&(L-=E/f)):x==="mirror"&&(W=c)),D=us(0,1,L)*f}const te=q?{done:!1,value:v[0]}:W.next(D);l&&(te.value=l(te.value));let{done:ae}=te;!q&&m!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return N&&I!==R0&&(te.value=Sv(v,this.options,C,this.speed)),V&&V(te.value),N&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(this.currentTime)}set time(e){var n;e=as(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=Xj,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function f9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oa=t=>t*180/Math.PI,C0=t=>{const e=Oa(Math.atan2(t[1],t[0]));return N0(e)},d9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:C0,rotateZ:C0,skewX:t=>Oa(Math.atan(t[1])),skewY:t=>Oa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},N0=t=>(t=t%360,t<0&&(t+=360),t),dT=C0,mT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),m9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mT,scaleY:pT,scale:t=>(mT(t)+pT(t))/2,rotateX:t=>N0(Oa(Math.atan2(t[6],t[5]))),rotateY:t=>N0(Oa(Math.atan2(-t[2],t[0]))),rotateZ:dT,rotate:dT,skewX:t=>Oa(Math.atan(t[4])),skewY:t=>Oa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function I0(t){return t.includes("scale")?1:0}function D0(t,e){if(!t||t==="none")return I0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=m9,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=d9,a=f}if(!a)return I0(e);const l=s[e],c=a[1].split(",").map(g9);return typeof l=="function"?l(c):c[l]}const p9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return D0(n,e)};function g9(t){return parseFloat(t.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Nl),gT=t=>t===Cl||t===we,y9=new Set(["x","y","z"]),v9=Nl.filter(t=>!y9.has(t));function _9(t){const e=[];return v9.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const za={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>D0(e,"x"),y:(t,{transform:e})=>D0(e,"y")};za.translateX=za.x;za.translateY=za.y;const Ba=new Set;let M0=!1,k0=!1,V0=!1;function yR(){if(k0){const t=Array.from(Ba).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=_9(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}k0=!1,M0=!1,Ba.forEach(t=>t.complete(V0)),Ba.clear()}function vR(){Ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(k0=!0)})}function b9(){V0=!0,vR(),yR(),V0=!1}class Rv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ba.add(this),M0||(M0=!0,Qe.read(vR),Qe.resolveKeyframes(yR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}f9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ba.delete(this)}cancel(){this.state==="scheduled"&&(Ba.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const x9=t=>t.startsWith("--");function w9(t,e,n){x9(e)?t.style.setProperty(e,n):t.style[e]=n}const _R=mv(()=>window.ScrollTimeline!==void 0),T9={};function E9(t,e){const n=mv(t);return()=>T9[e]??n()}const bR=E9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$c=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,yT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$c([0,.65,.55,1]),circOut:$c([.55,0,1,.45]),backIn:$c([.31,.01,.66,-.59]),backOut:$c([.33,1.53,.69,.99])};function xR(t,e){if(t)return typeof t=="function"?bR()?dR(t,e):"ease-out":nR(t)?$c(t):Array.isArray(t)?t.map(n=>xR(n,e)||yT.easeOut):yT[t]}function S9(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const _=xR(f,a);Array.isArray(_)&&(v.easing=_);const x={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(v,x)}function wR(t){return typeof t=="function"&&"applyToOptions"in t}function A9({type:t,...e}){return wR(t)&&bR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class R9 extends Av{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,gu(typeof e.type!="string");const p=A9(e);this.animation=S9(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Sv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):w9(n,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ri(e)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=as(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_R()?(this.animation.timeline=e,In):n(this)}}const TR={anticipate:ZA,backInOut:WA,circInOut:eR};function C9(t){return t in TR}function N9(t){typeof t.ease=="string"&&C9(t.ease)&&(t.ease=TR[t.ease])}const vT=10;class I9 extends R9{constructor(e){N9(e),gR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new em({...c,autoplay:!1}),m=as(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-vT).value,f.sample(m).value,vT),f.stop()}}const _T=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fr.test(t)||t==="0")&&!t.startsWith("url("));function D9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function M9(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=_T(a,e),f=_T(l,e);return!c||!f?!1:D9(t)||(n==="spring"||wR(n))&&s}function O0(t){t.duration=0,t.type="keyframes"}const k9=new Set(["opacity","clipPath","filter","transform"]),V9=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O9(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return V9()&&n&&k9.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const j9=40;class P9 extends Av{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:v,..._}){var I;super(),this.stop=()=>{var V,C;this._animation&&(this._animation.stop(),(V=this.stopTimeline)==null||V.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Cn.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,..._},E=(v==null?void 0:v.KeyframeResolver)||Rv;this.keyframeResolver=new E(f,(V,C,P)=>this.onKeyframesResolved(V,C,x,!P),m,p,v),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Cn.now(),M9(e,l,c,f)||((Fs.instantAnimations||!m)&&(v==null||v(Sv(e,s,n))),e[0]=e[e.length-1],O0(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>j9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},E=!p&&O9(x)?new I9({...x,element:x.motionValue.owner.current}):new em(x);E.finished.then(()=>this.notifyFinished()).catch(In),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),b9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const L9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U9(t){const e=L9.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function ER(t,e,n=1){const[s,a]=U9(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return qA(c)?parseFloat(c):c}return _v(a)?ER(a,e,n+1):a}function Cv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const SR=new Set(["width","height","top","left","right","bottom",...Nl]),z9={test:t=>t==="auto",parse:t=>t},AR=t=>e=>e.test(t),RR=[Cl,we,os,Er,Vj,kj,z9],bT=t=>RR.find(AR(t));function B9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$A(t):!0}const F9=new Set(["brightness","contrast","saturate","opacity"]);function H9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(bv)||[];if(!s)return t;const a=n.replace(s,"");let l=F9.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const q9=/\b([a-z-]*)\(.*?\)/gu,j0={...Fr,getAnimatableNone:t=>{const e=t.match(q9);return e?e.map(H9).join(" "):t}},xT={...Cl,transform:Math.round},G9={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:If,scaleX:If,scaleY:If,scaleZ:If,skew:Er,skewX:Er,skewY:Er,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:yu,originX:lT,originY:lT,originZ:we},Nv={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...G9,zIndex:xT,fillOpacity:yu,strokeOpacity:yu,numOctaves:xT},$9={...Nv,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:j0,WebkitFilter:j0},CR=t=>$9[t];function NR(t,e){let n=CR(t);return n!==j0&&(n=Fr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const K9=new Set(["auto","none","0"]);function Y9(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!K9.has(l)&&vu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=NR(n,a)}class Q9 extends Rv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),_v(p))){const v=ER(p,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!SR.has(s)||e.length!==2)return;const[a,l]=e,c=bT(a),f=bT(l);if(c!==f)if(gT(c)&&gT(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else za[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||B9(e[a]))&&s.push(a);s.length&&Y9(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=za[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=za[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function IR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const DR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Iv(t){return GA(t)&&"offsetHeight"in t}const wT=30,X9=t=>!isNaN(parseFloat(t)),iu={current:void 0};class W9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=X9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pv);const s=this.events[e].add(n);return e==="change"?()=>{s(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return iu.current&&iu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wT);return gv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Si(t,e){return new W9(t,e)}const{schedule:Dv}=iR(queueMicrotask,!1),wi={x:!1,y:!1};function MR(){return wi.x||wi.y}function Z9(t){return t==="x"||t==="y"?wi[t]?null:(wi[t]=!0,()=>{wi[t]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function kR(t,e){const n=IR(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function TT(t){return!(t.pointerType==="touch"||MR())}function J9(t,e,n={}){const[s,a,l]=kR(t,n),c=f=>{if(!TT(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const v=_=>{TT(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const VR=(t,e)=>e?t===e?!0:VR(t,e.parentElement):!1,Mv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tP(t){return eP.has(t.tagName)||t.tabIndex!==-1}const Yf=new WeakSet;function ET(t){return e=>{e.key==="Enter"&&t(e)}}function Og(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=ET(()=>{if(Yf.has(n))return;Og(n,"down");const a=ET(()=>{Og(n,"up")}),l=()=>Og(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function ST(t){return Mv(t)&&!MR()}function iP(t,e,n={}){const[s,a,l]=kR(t,n),c=f=>{const m=f.currentTarget;if(!ST(f))return;Yf.add(m);const p=e(m,f),v=(E,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",x),Yf.has(m)&&Yf.delete(m),ST(E)&&typeof p=="function"&&p(E,{success:I})},_=E=>{v(E,m===window||m===document||n.useGlobalTarget||VR(m,E.target))},x=E=>{v(E,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",x,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),Iv(f)&&(f.addEventListener("focus",p=>nP(p,a)),!tP(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function kv(t){return GA(t)&&"ownerSVGElement"in t}const Qf=new WeakMap;let Sr;const OR=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:kv(s)&&"getBBox"in s?s.getBBox()[e]:s[n],sP=OR("inline","width","offsetWidth"),rP=OR("block","height","offsetHeight");function aP({target:t,borderBoxSize:e}){var n;(n=Qf.get(t))==null||n.forEach(s=>{s(t,{get width(){return sP(t,e)},get height(){return rP(t,e)}})})}function oP(t){t.forEach(aP)}function lP(){typeof ResizeObserver>"u"||(Sr=new ResizeObserver(oP))}function cP(t,e){Sr||lP();const n=IR(t);return n.forEach(s=>{let a=Qf.get(s);a||(a=new Set,Qf.set(s,a)),a.add(e),Sr==null||Sr.observe(s)}),()=>{n.forEach(s=>{const a=Qf.get(s);a==null||a.delete(e),a!=null&&a.size||Sr==null||Sr.unobserve(s)})}}const Xf=new Set;let Xo;function uP(){Xo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Xf.forEach(e=>e(t))},window.addEventListener("resize",Xo)}function hP(t){return Xf.add(t),Xo||uP(),()=>{Xf.delete(t),!Xf.size&&typeof Xo=="function"&&(window.removeEventListener("resize",Xo),Xo=void 0)}}function fP(t,e){return typeof t=="function"?hP(t):cP(t,e)}function jR(t,e){let n;const s=()=>{const{currentTime:a}=e,c=(a===null?0:a.value)/100;n!==c&&t(c),n=c};return Qe.preUpdate(s,!0),()=>Ci(s)}function dP(t){return kv(t)&&t.tagName==="svg"}function mP(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],c=t[3+n],f=Ev(a,l,c);return e?f(s):f}const Zt=t=>!!(t&&t.getVelocity);function pP(t,e,n){const s=t.get();let a=null,l=s,c;const f=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,m=()=>{a&&(a.stop(),a=null)},p=()=>{m(),a=new em({keyframes:[RT(t.get()),RT(l)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((v,_)=>{l=v,c=x=>_(AT(x,f)),Qe.postRender(p)},m),Zt(e)){const v=e.on("change",x=>t.set(AT(x,f))),_=t.on("destroy",v);return()=>{v(),_()}}return m}function AT(t,e){return e?t+e:t}function RT(t){return typeof t=="number"?t:parseFloat(t)}const gP=[...RR,Ut,Fr],yP=t=>gP.find(AR(t)),Uu=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function CT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vP(...t){return e=>{let n=!1;const s=t.map(a=>{const l=CT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():CT(t[a],null)}}}}function _P(...t){return M.useCallback(vP(...t),t)}class bP extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Iv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xP({children:t,isPresent:e,anchorX:n,root:s}){const a=M.useId(),l=M.useRef(null),c=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=M.useContext(Uu),m=_P(l,t==null?void 0:t.ref);return M.useInsertionEffect(()=>{const{width:p,height:v,top:_,left:x,right:E}=c.current;if(e||!l.current||!p||!v)return;const I=n==="left"?`left: ${x}`:`right: ${E}`;l.current.dataset.motionPopId=a;const V=document.createElement("style");f&&(V.nonce=f);const C=s??document.head;return C.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${v}px !important;
            ${I}px !important;
            top: ${_}px !important;
          }
        `),()=>{C.contains(V)&&C.removeChild(V)}},[e]),y.jsx(bP,{isPresent:e,childRef:l,sizeRef:c,children:M.cloneElement(t,{ref:m})})}const wP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=Rl(TP),v=M.useId();let _=!0,x=M.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:E=>{p.set(E,!0);for(const I of p.values())if(!I)return;s&&s()},register:E=>(p.set(E,!1),()=>p.delete(E))}),[n,p,s]);return l&&_&&(x={...x}),M.useMemo(()=>{p.forEach((E,I)=>p.set(I,!1))},[n]),M.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(xP,{isPresent:n,anchorX:f,root:m,children:t})),y.jsx(Jd.Provider,{value:x,children:t})};function TP(){return new Map}function PR(t=!0){const e=M.useContext(Jd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const c=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Df=t=>t.key||"";function NT(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const Hs=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,v]=PR(c),_=M.useMemo(()=>NT(t),[t]),x=c&&!p?[]:_.map(Df),E=M.useRef(!0),I=M.useRef(_),V=Rl(()=>new Map),[C,P]=M.useState(_),[q,D]=M.useState(_);Zd(()=>{E.current=!1,I.current=_;for(let ae=0;ae<q.length;ae++){const N=Df(q[ae]);x.includes(N)?V.delete(N):V.get(N)!==!0&&V.set(N,!1)}},[q,x.length,x.join("-")]);const W=[];if(_!==C){let ae=[..._];for(let N=0;N<q.length;N++){const R=q[N],k=Df(R);x.includes(k)||(ae.splice(N,0,R),W.push(R))}return l==="wait"&&W.length&&(ae=W),D(NT(ae)),P(_),null}const{forceRender:te}=M.useContext(uv);return y.jsx(y.Fragment,{children:q.map(ae=>{const N=Df(ae),R=c&&!p?!1:_===q||x.includes(N),k=()=>{if(V.has(N))V.set(N,!0);else return;let L=!0;V.forEach(U=>{U||(L=!1)}),L&&(te==null||te(),D(I.current),c&&(v==null||v()),s&&s())};return y.jsx(wP,{isPresent:R,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:R?void 0:k,anchorX:f,children:ae},N)})})},LR=M.createContext({strict:!1}),IT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yl={};for(const t in IT)yl[t]={isEnabled:e=>IT[t].some(n=>!!e[n])};function EP(t){for(const e in t)yl[e]={...yl[e],...t[e]}}const SP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||SP.has(t)}let UR=t=>!Td(t);function AP(t){typeof t=="function"&&(UR=e=>e.startsWith("on")?!Td(e):t(e))}try{AP(require("@emotion/is-prop-valid").default)}catch{}function RP(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(UR(a)||n===!0&&Td(a)||!e&&!Td(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const tm=M.createContext({});function nm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _u(t){return typeof t=="string"||Array.isArray(t)}const Vv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ov=["initial",...Vv];function im(t){return nm(t.animate)||Ov.some(e=>_u(t[e]))}function zR(t){return!!(im(t)||t.variants)}function CP(t,e){if(im(t)){const{initial:n,animate:s}=t;return{initial:n===!1||_u(n)?n:void 0,animate:_u(s)?s:void 0}}return t.inherit!==!1?e:{}}function NP(t){const{initial:e,animate:n}=CP(t,M.useContext(tm));return M.useMemo(()=>({initial:e,animate:n}),[DT(e),DT(n)])}function DT(t){return Array.isArray(t)?t.join(" "):t}function MT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=MT(t,e.target.x),s=MT(t,e.target.y);return`${n}% ${s}%`}},IP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Fr.parse(t);if(a.length>5)return s;const l=Fr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=mt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},P0={borderRadius:{...zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zc,borderTopRightRadius:zc,borderBottomLeftRadius:zc,borderBottomRightRadius:zc,boxShadow:IP};function BR(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!P0[t]||t==="opacity")}const DP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MP=Nl.length;function kP(t,e,n){let s="",a=!0;for(let l=0;l<MP;l++){const c=Nl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=DR(f,Nv[c]);if(!m){a=!1;const v=DP[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function jv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Il.has(m)){c=!0;continue}else if(rR(m)){a[m]=p;continue}else{const v=DR(p,Nv[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=kP(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}const Pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FR(t,e,n){for(const s in e)!Zt(e[s])&&!BR(s,n)&&(t[s]=e[s])}function VP({transformTemplate:t},e){return M.useMemo(()=>{const n=Pv();return jv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function OP(t,e){const n=t.style||{},s={};return FR(s,n,t),Object.assign(s,VP(t,e)),s}function jP(t,e){const n={},s=OP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const PP={offset:"stroke-dashoffset",array:"stroke-dasharray"},LP={offset:"strokeDashoffset",array:"strokeDasharray"};function UP(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?PP:LP;t[l.offset]=we.transform(-s);const c=we.transform(e),f=we.transform(n);t[l.array]=`${c} ${f}`}function HR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,v){if(jv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:x}=t;_.transform&&(x.transform=_.transform,delete _.transform),(x.transform||_.transformOrigin)&&(x.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&UP(_,a,l,c,!1)}const qR=()=>({...Pv(),attrs:{}}),GR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zP(t,e,n,s){const a=M.useMemo(()=>{const l=qR();return HR(l,e,GR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};FR(l,t.style,t),a.style={...l,...a.style}}return a}const BP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lv(t){return typeof t!="string"||t.includes("-")?!1:!!(BP.indexOf(t)>-1||/[A-Z]/u.test(t))}function FP(t,e,n,{latestValues:s},a,l=!1){const f=(Lv(t)?zP:jP)(e,s,a,t),m=RP(e,typeof t=="string",l),p=t!==M.Fragment?{...m,...f,ref:n}:{},{children:v}=e,_=M.useMemo(()=>Zt(v)?v.get():v,[v]);return M.createElement(t,{...p,children:_})}function kT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Uv(t,e,n,s){if(typeof e=="function"){const[a,l]=kT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=kT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Wf(t){return Zt(t)?t.get():t}function HP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:qP(n,s,a,t),renderState:e()}}function qP(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Wf(l[x]);let{initial:c,animate:f}=t;const m=im(t),p=zR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const _=v?f:c;if(_&&typeof _!="boolean"&&!nm(_)){const x=Array.isArray(_)?_:[_];for(let E=0;E<x.length;E++){const I=Uv(t,x[E]);if(I){const{transitionEnd:V,transition:C,...P}=I;for(const q in P){let D=P[q];if(Array.isArray(D)){const W=v?D.length-1:0;D=D[W]}D!==null&&(a[q]=D)}for(const q in V)a[q]=V[q]}}}return a}const $R=t=>(e,n)=>{const s=M.useContext(tm),a=M.useContext(Jd),l=()=>HP(t,e,s,a);return n?l():Rl(l)};function zv(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Zt(s[c])||e.style&&Zt(e.style[c])||BR(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const GP=$R({scrapeMotionValuesFromProps:zv,createRenderState:Pv});function KR(t,e,n){const s=zv(t,e,n);for(const a in t)if(Zt(t[a])||Zt(e[a])){const l=Nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const $P=$R({scrapeMotionValuesFromProps:KR,createRenderState:qR}),KP=Symbol.for("motionComponentSymbol");function Wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YP(t,e,n){return M.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Wo(n)&&(n.current=s))},[e])}const Bv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QP="framerAppearId",YR="data-"+Bv(QP),QR=M.createContext({});function XP(t,e,n,s,a){var V,C;const{visualElement:l}=M.useContext(tm),c=M.useContext(LR),f=M.useContext(Jd),m=M.useContext(Uu).reducedMotion,p=M.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=p.current,_=M.useContext(QR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&WP(p.current,n,a,_);const x=M.useRef(!1);M.useInsertionEffect(()=>{v&&x.current&&v.update(n,f)});const E=n[YR],I=M.useRef(!!E&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,E))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,E)));return Zd(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),I.current&&v.animationState&&v.animationState.animateChanges())}),M.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,E)}),I.current=!1),v.enteringChildren=void 0)}),v}function WP(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Wo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:p})}function XR(t){if(t)return t.options.allowProjection!==!1?t.projection:XR(t.parent)}function jg(t,{forwardMotionProps:e=!1}={},n,s){n&&EP(n);const a=Lv(t)?$P:GP;function l(f,m){let p;const v={...M.useContext(Uu),...f,layoutId:ZP(f)},{isStatic:_}=v,x=NP(f),E=a(f,_);if(!_&&hv){JP();const I=eL(v);p=I.MeasureLayout,x.visualElement=XP(t,E,v,s,I.ProjectionNode)}return y.jsxs(tm.Provider,{value:x,children:[p&&x.visualElement?y.jsx(p,{visualElement:x.visualElement,...v}):null,FP(t,f,YP(E,x.visualElement,m),E,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=M.forwardRef(l);return c[KP]=t,c}function ZP({layoutId:t}){const e=M.useContext(uv).id;return e&&t!==void 0?e+"-"+t:t}function JP(t,e){M.useContext(LR).strict}function eL(t){const{drag:e,layout:n}=yl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function tL(t,e){if(typeof Proxy>"u")return jg;const n=new Map,s=(l,c)=>jg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,jg(c,void 0,t,e)),n.get(c))})}function WR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function nL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Pg(t){return t===void 0||t===1}function L0({scale:t,scaleX:e,scaleY:n}){return!Pg(t)||!Pg(e)||!Pg(n)}function Ia(t){return L0(t)||ZR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZR(t){return VT(t.x)||VT(t.y)}function VT(t){return t&&t!=="0%"}function Ed(t,e,n){const s=t-n,a=e*s;return n+a}function OT(t,e,n,s,a){return a!==void 0&&(t=Ed(t,a,s)),Ed(t,n,s)+e}function U0(t,e=0,n=1,s,a){t.min=OT(t.min,e,n,s,a),t.max=OT(t.max,e,n,s,a)}function JR(t,{x:e,y:n}){U0(t.x,e.translate,e.scale,e.originPoint),U0(t.y,n.translate,n.scale,n.originPoint)}const jT=.999999999999,PT=1.0000000000001;function sL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Jo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,JR(t,c)),s&&Ia(l.latestValues)&&Jo(t,l.latestValues))}e.x<PT&&e.x>jT&&(e.x=1),e.y<PT&&e.y>jT&&(e.y=1)}function Zo(t,e){t.min=t.min+e,t.max=t.max+e}function LT(t,e,n,s,a=.5){const l=mt(t.min,t.max,a);U0(t,e,n,l,s)}function Jo(t,e){LT(t.x,e.x,e.scaleX,e.scale,e.originX),LT(t.y,e.y,e.scaleY,e.scale,e.originY)}function eC(t,e){return WR(iL(t.getBoundingClientRect(),e))}function rL(t,e,n){const s=eC(t,n),{scroll:a}=e;return a&&(Zo(s.x,a.offset.x),Zo(s.y,a.offset.y)),s}const UT=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:UT(),y:UT()}),zT=()=>({min:0,max:0}),Gt=()=>({x:zT(),y:zT()}),z0={current:null},tC={current:!1};function aL(){if(tC.current=!0,!!hv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>z0.current=t.matches;t.addEventListener("change",e),e()}else z0.current=!1}const oL=new WeakMap;function lL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Zt(a))t.addValue(s,a);else if(Zt(l))t.addValue(s,Si(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Si(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const BT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Cn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Qe.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=im(n),this.isVariantNode=zR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in _){const E=_[x];m[x]!==void 0&&Zt(E)&&E.set(m[x])}}mount(e){var n;this.current=e,oL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),tC.current||aL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:z0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Il.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yl){const n=yl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<BT.length;s++){const a=BT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=lL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Si(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(qA(s)||$A(s))?s=parseFloat(s):!yP(s)&&Fr.test(n)&&(s=NR(e,n)),this.setBaseTarget(e,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Uv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Zt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Dv.render(this.render)}}class nC extends cL{constructor(){super(...arguments),this.KeyframeResolver=Q9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iC(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function uL(t){return window.getComputedStyle(t)}class hL extends nC{constructor(){super(...arguments),this.type="html",this.renderInstance=iC}readValueFromInstance(e,n){var s;if(Il.has(n))return(s=this.projection)!=null&&s.isProjecting?I0(n):p9(e,n);{const a=uL(e),l=(rR(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eC(e,n)}build(e,n,s){jv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return zv(e,n,s)}}const sC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fL(t,e,n,s){iC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(sC.has(a)?a:Bv(a),e.attrs[a])}class dL extends nC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const s=CR(n);return s&&s.default||0}return n=sC.has(n)?n:Bv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return KR(e,n,s)}build(e,n,s){HR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){fL(e,n,s,a)}mount(e){this.isSVGTag=GR(e.tagName),super.mount(e)}}const mL=(t,e)=>Lv(t)?new dL(e):new hL(e,{allowProjection:t!==M.Fragment});function rl(t,e,n){const s=t.getProps();return Uv(s,e,n!==void 0?n:s.custom,t)}const B0=t=>Array.isArray(t);function pL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Si(n))}function gL(t){return B0(t)?t[t.length-1]||0:t}function yL(t,e){const n=rl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=gL(l[c]);pL(t,c,f)}}function vL(t){return!!(Zt(t)&&t.add)}function F0(t,e){const n=t.getValue("willChange");if(vL(n))return n.add(e);if(!n&&Fs.WillChange){const s=new Fs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function rC(t){return t.props[YR]}const _L=t=>t!==null;function bL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(_L),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const xL={type:"spring",stiffness:500,damping:25,restSpeed:10},wL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TL={type:"keyframes",duration:.8},EL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SL=(t,{keyframes:e})=>e.length>2?TL:Il.has(t)?t.startsWith("scale")?wL(e[1]):xL:EL;function AL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const Fv=(t,e,n,s={},a,l)=>c=>{const f=Cv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-as(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};AL(f)||Object.assign(v,SL(t,v)),v.duration&&(v.duration=as(v.duration)),v.repeatDelay&&(v.repeatDelay=as(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(O0(v),v.delay===0&&(_=!0)),(Fs.instantAnimations||Fs.skipAnimations)&&(_=!0,O0(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const x=bL(v.keyframes,f);if(x!==void 0){Qe.update(()=>{v.onUpdate(x),v.onComplete()});return}}return f.isSync?new em(v):new P9(v)};function RL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function aC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const _=t.getValue(v,t.latestValues[v]??null),x=f[v];if(x===void 0||p&&RL(p,v))continue;const E={delay:n,...Cv(l||{},v)},I=_.get();if(I!==void 0&&!_.isAnimating&&!Array.isArray(x)&&x===I&&!E.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const P=rC(t);if(P){const q=window.MotionHandoffAnimation(P,v,Qe);q!==null&&(E.startTime=q,V=!0)}}F0(t,v),_.start(Fv(v,_,x,t.shouldReduceMotion&&SR.has(v)?{type:!1}:E,t,V));const C=_.animation;C&&m.push(C)}return c&&Promise.all(m).then(()=>{Qe.update(()=>{c&&yL(t,c)})}),m}function oC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}function H0(t,e,n={}){var m;const s=rl(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(aC(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:x}=a;return CL(t,e,p,v,_,x,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function CL(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(H0(m,e,{...c,delay:n+(typeof s=="function"?0:s)+oC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function NL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>H0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=H0(t,e,n);else{const a=typeof e=="function"?rl(t,e,n.custom):e;s=Promise.all(aC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function lC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const IL=Ov.length;function cC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IL;n++){const s=Ov[n],a=t.props[s];(_u(a)||a===!1)&&(e[s]=a)}return e}const DL=[...Vv].reverse(),ML=Vv.length;function kL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>NL(t,n,s)))}function VL(t){let e=kL(t),n=FT(),s=!0;const a=m=>(p,v)=>{var x;const _=rl(t,v,m==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(_){const{transition:E,transitionEnd:I,...V}=_;p={...p,...V,...I}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=cC(t.parent)||{},_=[],x=new Set;let E={},I=1/0;for(let C=0;C<ML;C++){const P=DL[C],q=n[P],D=p[P]!==void 0?p[P]:v[P],W=_u(D),te=P===m?q.isActive:null;te===!1&&(I=C);let ae=D===v[P]&&D!==p[P]&&W;if(ae&&s&&t.manuallyAnimateOnMount&&(ae=!1),q.protectedKeys={...E},!q.isActive&&te===null||!D&&!q.prevProp||nm(D)||typeof D=="boolean")continue;const N=OL(q.prevProp,D);let R=N||P===m&&q.isActive&&!ae&&W||C>I&&W,k=!1;const L=Array.isArray(D)?D:[D];let U=L.reduce(a(P),{});te===!1&&(U={});const{prevResolvedValues:H={}}=q,O={...H,...U},st=oe=>{R=!0,x.has(oe)&&(k=!0,x.delete(oe)),q.needsAnimating[oe]=!0;const de=t.getValue(oe);de&&(de.liveStyle=!1)};for(const oe in O){const de=U[oe],Ie=H[oe];if(E.hasOwnProperty(oe))continue;let Oe=!1;B0(de)&&B0(Ie)?Oe=!lC(de,Ie):Oe=de!==Ie,Oe?de!=null?st(oe):x.add(oe):de!==void 0&&x.has(oe)?st(oe):q.protectedKeys[oe]=!0}q.prevProp=D,q.prevResolvedValues=U,q.isActive&&(E={...E,...U}),s&&t.blockInitialAnimation&&(R=!1);const gt=ae&&N;R&&(!gt||k)&&_.push(...L.map(oe=>{const de={type:P};if(typeof oe=="string"&&s&&!gt&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,Oe=rl(Ie,oe);if(Ie.enteringChildren&&Oe){const{delayChildren:B}=Oe.transition||{};de.delay=oC(Ie.enteringChildren,t,B)}}return{animation:oe,options:de}}))}if(x.size){const C={};if(typeof p.initial!="boolean"){const P=rl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);P&&P.transition&&(C.transition=P.transition)}x.forEach(P=>{const q=t.getBaseTarget(P),D=t.getValue(P);D&&(D.liveStyle=!0),C[P]=q??null}),_.push({animation:C})}let V=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),s=!1,V?e(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(x=>{var E;return(E=x.animationState)==null?void 0:E.setActive(m,p)}),n[m].isActive=p;const v=c(m);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=FT()}}}function OL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lC(e,t):!1}function Aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FT(){return{animate:Aa(!0),whileInView:Aa(),whileHover:Aa(),whileTap:Aa(),whileDrag:Aa(),whileFocus:Aa(),exit:Aa()}}class Yr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jL extends Yr{constructor(e){super(e),e.animationState||(e.animationState=VL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PL=0;class LL extends Yr{constructor(){super(...arguments),this.id=PL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const UL={animation:{Feature:jL},exit:{Feature:LL}};function bu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function zu(t){return{point:{x:t.pageX,y:t.pageY}}}const zL=t=>e=>Mv(e)&&t(e,zu(e));function su(t,e,n,s){return bu(t,e,zL(n),s)}const uC=1e-4,BL=1-uC,FL=1+uC,hC=.01,HL=0-hC,qL=0+hC;function vn(t){return t.max-t.min}function GL(t,e,n){return Math.abs(t-e)<=n}function HT(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=BL&&t.scale<=FL||isNaN(t.scale))&&(t.scale=1),(t.translate>=HL&&t.translate<=qL||isNaN(t.translate))&&(t.translate=0)}function ru(t,e,n,s){HT(t.x,e.x,n.x,s?s.originX:void 0),HT(t.y,e.y,n.y,s?s.originY:void 0)}function qT(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function $L(t,e,n){qT(t.x,e.x,n.x),qT(t.y,e.y,n.y)}function GT(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function Sd(t,e,n){GT(t.x,e.x,n.x),GT(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const fC=({current:t})=>t?t.ownerDocument.defaultView:null,$T=(t,e)=>Math.abs(t-e);function KL(t,e){const n=$T(t.x,e.x),s=$T(t.y,e.y);return Math.sqrt(n**2+s**2)}class dC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ug(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=KL(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!I)return;const{point:V}=x,{timestamp:C}=Xt;this.history.push({...V,timestamp:C});const{onStart:P,onMove:q}=this.handlers;E||(P&&P(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Lg(E,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:I,onSessionEnd:V,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Ug(x.type==="pointercancel"?this.lastMoveEventInfo:Lg(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(x,P),V&&V(x,P)},!Mv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=zu(e),m=Lg(f,this.transformPagePoint),{point:p}=m,{timestamp:v}=Xt;this.history=[{...p,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,Ug(m,this.history)),this.removeListeners=ju(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function Lg(t,e){return e?{point:e(t.point)}:t}function KT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ug({point:t},e){return{point:t,delta:KT(t,mC(e)),offset:KT(t,YL(e)),velocity:QL(e,.1)}}function YL(t){return t[0]}function mC(t){return t[t.length-1]}function QL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=mC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>as(e)));)n--;if(!s)return{x:0,y:0};const l=ri(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function XL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function YT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WL(t,{top:e,left:n,bottom:s,right:a}){return{x:YT(t.x,n,a),y:YT(t.y,e,s)}}function QT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function ZL(t,e){return{x:QT(t.x,e.x),y:QT(t.y,e.y)}}function JL(t,e){let n=.5;const s=vn(t),a=vn(e);return a>s?n=gl(e.min,e.max-s,t.min):s>a&&(n=gl(t.min,t.max-a,e.min)),us(0,1,n)}function e8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const q0=.35;function t8(t=q0){return t===!1?t=0:t===!0&&(t=q0),{x:XT(t,"left","right"),y:XT(t,"top","bottom")}}function XT(t,e,n){return{min:WT(t,e),max:WT(t,n)}}function WT(t,e){return typeof t=="number"?t:t[e]||0}const n8=new WeakMap;class i8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zu(_).point)},c=(_,x)=>{const{drag:E,dragPropagation:I,onDragStart:V}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z9(E),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(P=>{let q=this.getAxisMotionValue(P).get()||0;if(os.test(q)){const{projection:D}=this.visualElement;if(D&&D.layout){const W=D.layout.layoutBox[P];W&&(q=vn(W)*(parseFloat(q)/100))}}this.originPoint[P]=q}),V&&Qe.postRender(()=>V(_,x)),F0(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},f=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x;const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:V,onDrag:C}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=x;if(I&&this.currentDirection===null){this.currentDirection=s8(P),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",x.point,P),this.updateAxis("y",x.point,P),this.visualElement.render(),C&&C(_,x)},m=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x,this.stop(_,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(_=>{var x;return this.getAnimationState(_)==="paused"&&((x=this.getAxisMotionValue(_).animation)==null?void 0:x.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new dC(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:fC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&Qe.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Mf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=XL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Wo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=WL(s.layoutBox,e):this.constraints=!1,this.elastic=t8(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ni(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=e8(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=rL(s,a.root,this.visualElement.getTransformPagePoint());let c=ZL(a.layout.layoutBox,l);if(n){const f=n(nL(c));this.hasMutatedConstraints=!!f,f&&(c=WR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ni(v=>{if(!Mf(v,n,this.currentDirection))return;let _=m&&m[v]||{};c&&(_={min:0,max:0});const x=a?200:1e6,E=a?40:1e7,I={type:"inertia",velocity:s?e[v]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,I)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return F0(this.visualElement,e),s.start(Fv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:s}=this.getProps();if(!Mf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-mt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Wo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=JL({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ni(c=>{if(!Mf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(mt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;n8.set(this.visualElement,this);const e=this.visualElement.current,n=su(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Wo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Qe.read(s);const c=bu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=q0,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Mf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function s8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class r8 extends Yr{constructor(e){super(e),this.removeGroupControls=In,this.removeListeners=In,this.controls=new i8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZT=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class a8 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(e){this.session=new dC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ZT(e),onStart:ZT(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Qe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let zg=!1;class o8 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),zg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,zg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Qe.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;zg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pC(t){const[e,n]=PR(),s=M.useContext(uv);return y.jsx(o8,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(QR),isPresent:e,safeToRemove:n})}function l8(t,e,n){const s=Zt(t)?t:Si(t);return s.start(Fv("",s,e,n)),s.animation}const c8=(t,e)=>t.depth-e.depth;class u8{constructor(){this.children=[],this.isDirty=!1}add(e){fv(this.children,e),this.isDirty=!0}remove(e){dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c8),this.isDirty=!1,this.children.forEach(e)}}function h8(t,e){const n=Cn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ci(s),t(l-e))};return Qe.setup(s,!0),()=>Ci(s)}const gC=["TopLeft","TopRight","BottomLeft","BottomRight"],f8=gC.length,JT=t=>typeof t=="string"?parseFloat(t):t,e2=t=>typeof t=="number"||we.test(t);function d8(t,e,n,s,a,l){a?(t.opacity=mt(0,n.opacity??1,m8(s)),t.opacityExit=mt(e.opacity??1,0,p8(s))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,s));for(let c=0;c<f8;c++){const f=`border${gC[c]}Radius`;let m=t2(e,f),p=t2(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||e2(m)===e2(p)?(t[f]=Math.max(mt(JT(m),JT(p),s),0),(os.test(p)||os.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function t2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const m8=yC(0,.5,JA),p8=yC(.5,.95,In);function yC(t,e,n){return s=>s<t?0:s>e?1:n(gl(t,e,s))}function n2(t,e){t.min=e.min,t.max=e.max}function xi(t,e){n2(t.x,e.x),n2(t.y,e.y)}function i2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function s2(t,e,n,s,a){return t-=e,t=Ed(t,1/n,s),a!==void 0&&(t=Ed(t,1/a,s)),t}function g8(t,e=0,n=1,s=.5,a,l=t,c=t){if(os.test(e)&&(e=parseFloat(e),e=mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=mt(l.min,l.max,s);t===l&&(f-=e),t.min=s2(t.min,e,n,f,a),t.max=s2(t.max,e,n,f,a)}function r2(t,e,[n,s,a],l,c){g8(t,e[n],e[s],e[a],e.scale,l,c)}const y8=["x","scaleX","originX"],v8=["y","scaleY","originY"];function a2(t,e,n,s){r2(t.x,e,y8,n?n.x:void 0,s?s.x:void 0),r2(t.y,e,v8,n?n.y:void 0,s?s.y:void 0)}function o2(t){return t.translate===0&&t.scale===1}function vC(t){return o2(t.x)&&o2(t.y)}function l2(t,e){return t.min===e.min&&t.max===e.max}function _8(t,e){return l2(t.x,e.x)&&l2(t.y,e.y)}function c2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _C(t,e){return c2(t.x,e.x)&&c2(t.y,e.y)}function u2(t){return vn(t.x)/vn(t.y)}function h2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class b8{constructor(){this.members=[]}add(e){fv(this.members,e),e.scheduleRender()}remove(e){if(dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x8(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:x,skewX:E,skewY:I}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),x&&(s+=`rotateY(${x}deg) `),E&&(s+=`skewX(${E}deg) `),I&&(s+=`skewY(${I}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Bg=["","X","Y","Z"],w8=1e3;let T8=0;function Fg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function bC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&bC(s)}function xC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=T8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(A8),this.nodes.forEach(I8),this.nodes.forEach(D8),this.nodes.forEach(R8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new u8)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new pv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=kv(c)&&!dP(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const x=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{_=window.innerWidth}),t(c,()=>{const E=window.innerWidth;E!==_&&(_=E,this.root.updateBlockedByResize=!0,v&&v(),v=h8(x,250),Zf.hasAnimatedSinceResize&&(Zf.hasAnimatedSinceResize=!1,this.nodes.forEach(m2)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||j8,{onLayoutAnimationStart:V,onLayoutAnimationComplete:C}=p.getProps(),P=!this.targetLayout||!_C(this.targetLayout,E),q=!_&&x;if(this.options.layoutRoot||this.resumeFrom||q||_&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...Cv(I,"layout"),onPlay:V,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(v,q)}else _||m2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(d2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N8),this.nodes.forEach(E8),this.nodes.forEach(S8)):this.nodes.forEach(d2),this.clearAllSnapshots();const f=Cn.now();Xt.delta=us(0,1e3/60,f-Xt.timestamp),Xt.timestamp=f,Xt.isProcessing=!0,Ig.update.process(Xt),Ig.preRender.process(Xt),Ig.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C8),this.sharedNodes.forEach(k8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!vC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ia(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),P8(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Gt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(L8))){const{scroll:v}=this.root;v&&(Zo(f.x,v.offset.x),Zo(f.y,v.offset.y))}return f}removeElementScroll(c){var m;const f=Gt();if(xi(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:_,options:x}=v;v!==this.root&&_&&x.layoutScroll&&(_.wasRoot&&xi(f,c),Zo(f.x,_.offset.x),Zo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Gt();xi(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Jo(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ia(v.latestValues)&&Jo(m,v.latestValues)}return Ia(this.latestValues)&&Jo(m,this.latestValues),m}removeTransform(c){const f=Gt();xi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ia(p.latestValues))continue;L0(p.latestValues)&&p.updateSnapshot();const v=Gt(),_=p.measurePageBox();xi(v,_),a2(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ia(this.latestValues)&&a2(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=Xt.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$L(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xi(this.target,this.layout.layoutBox),JR(this.target,this.targetDelta)):xi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||L0(this.parent.latestValues)||ZR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Sd(this.relativeTargetOrigin,f,m),xi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;xi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,x=this.treeScale.y;sL(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Gt());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i2(this.prevProjectionDelta.x,this.projectionDelta.x),i2(this.prevProjectionDelta.y,this.projectionDelta.y)),ru(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==x||!h2(this.projectionDelta.x,this.prevProjectionDelta.x)||!h2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=Gt(),E=m?m.source:void 0,I=this.layout?this.layout.source:void 0,V=E!==I,C=this.getStack(),P=!C||C.members.length<=1,q=!!(V&&!P&&this.options.crossfade===!0&&!this.path.some(O8));this.animationProgress=0;let D;this.mixTargetDelta=W=>{const te=W/1e3;p2(_.x,c.x,te),p2(_.y,c.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V8(this.relativeTarget,this.relativeTargetOrigin,x,te),D&&_8(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Gt()),xi(D,this.relativeTarget)),V&&(this.animationValues=v,d8(v,p,this.latestValues,te,q,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{Zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Si(0)),this.currentAnimation=l8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:v}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&wC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Gt();const _=vn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const x=vn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}xi(f,m),Jo(f,v),ru(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new b8),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Fg("z",c,p,this.animationValues);for(let v=0;v<Bg.length;v++)Fg(`rotate${Bg[v]}`,c,p,this.animationValues),Fg(`skew${Bg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Wf(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Wf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ia(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=x8(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),c.transform=_;const{x,y:E}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in P0){if(v[I]===void 0)continue;const{correct:V,applyTo:C,isCSSVariable:P}=P0[I],q=_==="none"?v[I]:V(v[I],p);if(C){const D=C.length;for(let W=0;W<D;W++)c[C[W]]=q}else P?this.options.visualElement.renderState.vars[I]=q:c[I]=q}this.options.layoutId&&(c.pointerEvents=p===this?Wf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(f2),this.root.sharedNodes.clear()}}}function E8(t){t.updateLayout()}function S8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ni(_=>{const x=c?e.measuredBox[_]:e.layoutBox[_],E=vn(x);x.min=s[_].min,x.max=x.min+E}):wC(l,e.layoutBox,s)&&ni(_=>{const x=c?e.measuredBox[_]:e.layoutBox[_],E=vn(s[_]);x.max=x.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+E)});const f=el();ru(f,s,e.layoutBox);const m=el();c?ru(m,t.applyTransform(a,!0),e.measuredBox):ru(m,s,e.layoutBox);const p=!vC(f);let v=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:x,layout:E}=_;if(x&&E){const I=Gt();Sd(I,e.layoutBox,x.layoutBox);const V=Gt();Sd(V,s,E.layoutBox),_C(I,V)||(v=!0),_.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=I,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function A8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function R8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function C8(t){t.clearSnapshot()}function f2(t){t.clearMeasurements()}function d2(t){t.isLayoutDirty=!1}function N8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function m2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function I8(t){t.resolveTargetDelta()}function D8(t){t.calcProjection()}function M8(t){t.resetSkewAndRotation()}function k8(t){t.removeLeadSnapshot()}function p2(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function g2(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function V8(t,e,n,s){g2(t.x,e.x,n.x,s),g2(t.y,e.y,n.y,s)}function O8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const j8={duration:.45,ease:[.4,0,.1,1]},y2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v2=y2("applewebkit/")&&!y2("chrome/")?Math.round:In;function _2(t){t.min=v2(t.min),t.max=v2(t.max)}function P8(t){_2(t.x),_2(t.y)}function wC(t,e,n){return t==="position"||t==="preserve-aspect"&&!GL(u2(e),u2(n),.2)}function L8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const U8=xC({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hg={current:void 0},TC=xC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hg.current){const t=new U8({});t.mount(window),t.setOptions({layoutScroll:!0}),Hg.current=t}return Hg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),z8={pan:{Feature:a8},drag:{Feature:r8,ProjectionNode:TC,MeasureLayout:pC}};function b2(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Qe.postRender(()=>l(e,zu(e)))}class B8 extends Yr{mount(){const{current:e}=this.node;e&&(this.unmount=J9(e,(n,s)=>(b2(this.node,s,"Start"),a=>b2(this.node,a,"End"))))}unmount(){}}class F8 extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ju(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x2(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Qe.postRender(()=>l(e,zu(e)))}class H8 extends Yr{mount(){const{current:e}=this.node;e&&(this.unmount=iP(e,(n,s)=>(x2(this.node,s,"Start"),(a,{success:l})=>x2(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const G0=new WeakMap,qg=new WeakMap,q8=t=>{const e=G0.get(t.target);e&&e(t)},G8=t=>{t.forEach(q8)};function $8({root:t,...e}){const n=t||document;qg.has(n)||qg.set(n,{});const s=qg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(G8,{root:t,...e})),s[a]}function K8(t,e,n){const s=$8(e);return G0.set(t,n),s.observe(t),()=>{G0.delete(t),s.unobserve(t)}}const Y8={some:0,all:1};class Q8 extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Y8[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),x=p?v:_;x&&x(m)};return K8(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(X8(e,n))&&this.startObserver()}unmount(){}}function X8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W8={inView:{Feature:Q8},tap:{Feature:H8},focus:{Feature:F8},hover:{Feature:B8}},Z8={layout:{ProjectionNode:TC,MeasureLayout:pC}},J8={...UL,...W8,...z8,...Z8},ge=tL(J8,mL),e7=50,w2=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),t7=()=>({time:0,x:w2(),y:w2()}),n7={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function T2(t,e,n,s){const a=n[e],{length:l,position:c}=n7[e],f=a.current,m=n.time;a.current=t[`scroll${c}`],a.scrollLength=t[`scroll${l}`]-t[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=gl(0,a.scrollLength,a.current);const p=s-m;a.velocity=p>e7?0:gv(a.current-f,p)}function i7(t,e,n){T2(t,"x",e,n),T2(t,"y",e,n),e.time=n}function s7(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(Iv(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const a=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();n.x+=a.left-l.left,n.y+=a.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:a,y:l}=s.getBBox();n.x+=a,n.y+=l;let c=null,f=s.parentNode;for(;!c;)f.tagName==="svg"&&(c=f),f=s.parentNode;s=c}else break;return n}const $0={start:0,center:.5,end:1};function E2(t,e,n=0){let s=0;if(t in $0&&(t=$0[t]),typeof t=="string"){const a=parseFloat(t);t.endsWith("px")?s=a:t.endsWith("%")?t=a/100:t.endsWith("vw")?s=a/100*document.documentElement.clientWidth:t.endsWith("vh")?s=a/100*document.documentElement.clientHeight:t=a}return typeof t=="number"&&(s=e*t),n+s}const r7=[0,0];function a7(t,e,n,s){let a=Array.isArray(t)?t:r7,l=0,c=0;return typeof t=="number"?a=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?a=t.split(" "):a=[t,$0[t]?t:"0"]),l=E2(a[0],n,s),c=E2(a[1],e),l-c}const o7={All:[[0,0],[1,1]]},l7={x:0,y:0};function c7(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function u7(t,e,n){const{offset:s=o7.All}=n,{target:a=t,axis:l="y"}=n,c=l==="y"?"height":"width",f=a!==t?s7(a,t):l7,m=a===t?{width:t.scrollWidth,height:t.scrollHeight}:c7(a),p={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let v=!e[l].interpolate;const _=s.length;for(let x=0;x<_;x++){const E=a7(s[x],p[c],m[c],f[l]);!v&&E!==e[l].interpolatorOffsets[x]&&(v=!0),e[l].offset[x]=E}v&&(e[l].interpolate=Ev(e[l].offset,pR(s),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=us(0,1,e[l].interpolate(e[l].current))}function h7(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function f7(t,e,n,s={}){return{measure:a=>{h7(t,s.target,n),i7(t,n,a),(s.offset||s.target)&&u7(t,n,s)},notify:()=>e(n)}}const Bc=new WeakMap,S2=new WeakMap,Gg=new WeakMap,A2=t=>t===document.scrollingElement?window:t;function EC(t,{container:e=document.scrollingElement,...n}={}){if(!e)return In;let s=Gg.get(e);s||(s=new Set,Gg.set(e,s));const a=t7(),l=f7(e,t,a,n);if(s.add(l),!Bc.has(e)){const f=()=>{for(const _ of s)_.measure(Xt.timestamp);Qe.preUpdate(m)},m=()=>{for(const _ of s)_.notify()},p=()=>Qe.read(f);Bc.set(e,p);const v=A2(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&S2.set(e,fP(e,p)),v.addEventListener("scroll",p,{passive:!0}),p()}const c=Bc.get(e);return Qe.read(c,!1,!0),()=>{var p;Ci(c);const f=Gg.get(e);if(!f||(f.delete(l),f.size))return;const m=Bc.get(e);Bc.delete(e),m&&(A2(e).removeEventListener("scroll",m),(p=S2.get(e))==null||p(),window.removeEventListener("resize",m))}}const R2=new Map;function d7(t){const e={value:0},n=EC(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function SC({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const a=R2.get(e)??new Map;R2.set(e,a);const l=n.target??"self",c=a.get(l)??{},f=s+(n.offset??[]).join(",");return c[f]||(c[f]=!n.target&&_R()?new ScrollTimeline({source:e,axis:s}):d7({container:e,...n})),c[f]}function m7(t,e){const n=SC(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),jR(a=>{s.time=s.iterationDuration*a},n))})}function p7(t){return t.length===2}function g7(t,e){return p7(t)?EC(n=>{t(n[e.axis].progress,n)},e):jR(t,SC(e))}function y7(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return In;const a={axis:e,container:n,...s};return typeof t=="function"?g7(t,a):m7(t,a)}const v7=()=>({scrollX:Si(0),scrollY:Si(0),scrollXProgress:Si(0),scrollYProgress:Si(0)}),kf=t=>t?!t.current:!1;function Hv({container:t,target:e,...n}={}){const s=Rl(v7),a=M.useRef(null),l=M.useRef(!1),c=M.useCallback(()=>(a.current=y7((f,{x:m,y:p})=>{s.scrollX.set(m.current),s.scrollXProgress.set(m.progress),s.scrollY.set(p.current),s.scrollYProgress.set(p.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var f;(f=a.current)==null||f.call(a)}),[t,e,JSON.stringify(n.offset)]);return Zd(()=>{if(l.current=!1,kf(t)||kf(e)){l.current=!0;return}else return c()},[c]),M.useEffect(()=>{if(l.current)return gu(!kf(t)),gu(!kf(e)),c()},[c]),s}function AC(t){const e=Rl(()=>Si(t)),{isStatic:n}=M.useContext(Uu);if(n){const[,s]=M.useState(t);M.useEffect(()=>e.on("change",s),[])}return e}function RC(t,e){const n=AC(e()),s=()=>n.set(e());return s(),Zd(()=>{const a=()=>Qe.preRender(s,!1,!0),l=t.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),Ci(s)}}),n}function _7(t){iu.current=[],t();const e=RC(iu.current,t);return iu.current=void 0,e}function Fa(t,e,n,s){if(typeof t=="function")return _7(t);const a=typeof e=="function"?e:mP(e,n,s);return Array.isArray(t)?C2(t,a):C2([t],([l])=>a(l))}function C2(t,e){const n=Rl(()=>[]);return RC(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}function b7(t,e={}){const{isStatic:n}=M.useContext(Uu),s=()=>Zt(t)?t.get():t;if(n)return Fa(s);const a=AC(s());return M.useInsertionEffect(()=>pP(a,t,e),[a,JSON.stringify(e)]),a}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),N2=t=>{const e=w7(t);return e.charAt(0).toUpperCase()+e.slice(1)},CC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),T7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>M.createElement("svg",{ref:m,...E7,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:CC("lucide",a),...!l&&!T7(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,v])=>M.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const n=M.forwardRef(({className:s,...a},l)=>M.createElement(S7,{ref:l,iconNode:e,className:CC(`lucide-${x7(N2(t))}`,`lucide-${t}`,s),...a}));return n.displayName=N2(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],R7=ye("activity",A7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],N7=ye("arrow-right",C7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],D7=ye("arrow-up-right",I7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],k7=ye("arrow-up",M7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],NC=ye("book-open",V7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],IC=ye("briefcase",O7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],P7=ye("camera",j7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],U7=ye("car",L7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],B7=ye("check",z7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],H7=ye("circle-question-mark",F7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G7=ye("clock",q7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K7=ye("copy",$7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Q7=ye("crosshair",Y7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sm=ye("crown",X7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Z7=ye("dollar-sign",W7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],eU=ye("drama",J7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],I2=ye("external-link",tU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iU=ye("eye",nU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],rU=ye("file-pen",sU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],K0=ye("gamepad-2",aU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],lU=ye("gavel",oU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],uU=ye("ghost",cU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fU=ye("globe",hU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],mU=ye("heart-handshake",dU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],gU=ye("heart",pU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DC=ye("house",yU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xu=ye("image",vU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],bU=ye("instagram",_U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wU=ye("layout-dashboard",xU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],MC=ye("loader-circle",TU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],D2=ye("lock",EU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kC=ye("log-out",SU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],VC=ye("map-pin",AU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],CU=ye("menu",RU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],M2=ye("message-square",NU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M5 12h14",key:"1ays0h"}]],DU=ye("minus",IU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kU=ye("pen-line",MU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bu=ye("pen",VU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qv=ye("plus",OU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],PU=ye("rat",jU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UU=ye("refresh-cw",LU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rm=ye("save",zU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],FU=ye("scale",BU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qU=ye("search",HU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$U=ye("settings",GU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],al=ye("shield-alert",KU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],am=ye("shield-check",YU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],OC=ye("shield",QU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],jC=ye("shirt",XU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Y0=ye("shopping-cart",WU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],JU=ye("skull",ZU);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tz=ye("star",ez);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],om=ye("trash-2",nz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],PC=ye("upload",iz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],LC=ye("user",sz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lm=ye("users",rz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],$g=ye("wifi",az);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dl=ye("x",oz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],cz=ye("youtube",lz);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gv=ye("zap",uz),Ti=({variant:t="primary",size:e="md",children:n,className:s="",icon:a,fullWidth:l=!1,href:c,...f})=>{const m="relative inline-flex items-center justify-center font-display font-bold uppercase tracking-wider transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden",p={primary:"bg-vital-600 text-white border border-vital-500 shadow-[0_0_20px_rgba(249,115,22,0.4)]",secondary:"bg-white text-dark-900 border border-white",outline:"bg-transparent border border-vital-500 text-vital-500",ghost:"bg-transparent text-gray-400"},v={sm:"text-xs px-4 py-2 gap-2 rounded",md:"text-sm px-6 py-3 gap-2 rounded-md",lg:"text-base px-8 py-4 gap-3 rounded-lg"},_=l?"w-full":"",x={primary:{hover:{scale:1.05,y:-3,backgroundColor:"#f97316",boxShadow:"0 0 40px rgba(249,115,22,0.7)"},tap:{scale:.95,y:1}},secondary:{hover:{scale:1.05,y:-3,backgroundColor:"#f3f4f6",boxShadow:"0 10px 30px -5px rgba(255,255,255,0.4)"},tap:{scale:.95,y:1}},outline:{hover:{scale:1.05,y:-3,backgroundColor:"rgba(249,115,22,0.1)",boxShadow:"0 0 25px rgba(249,115,22,0.3)"},tap:{scale:.95,y:1}},ghost:{hover:{scale:1.05,y:-2,backgroundColor:"rgba(255,255,255,0.1)",color:"#ffffff"},tap:{scale:.95,y:1}}};return c?y.jsxs(ge.a,{href:c,whileHover:"hover",whileTap:"tap",variants:x[t],transition:{type:"spring",stiffness:400,damping:15},className:`${m} ${p[t]} ${v[e]} ${_} ${s}`,...f,children:[t==="primary"&&y.jsx(ge.div,{className:"absolute top-0 bottom-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12",initial:{left:"-100%"},variants:{hover:{left:"200%",transition:{duration:.6,ease:"easeInOut"}}}}),a&&y.jsx("span",{className:"mr-1 relative z-10",children:a}),y.jsx("span",{className:"relative z-10",children:n})]}):y.jsxs(ge.button,{whileHover:"hover",whileTap:"tap",variants:x[t],transition:{type:"spring",stiffness:400,damping:15},className:`${m} ${p[t]} ${v[e]} ${_} ${s}`,...f,children:[t==="primary"&&y.jsx(ge.div,{className:"absolute top-0 bottom-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12",initial:{left:"-100%"},variants:{hover:{left:"200%",transition:{duration:.6,ease:"easeInOut"}}}}),a&&y.jsx("span",{className:"mr-1 relative z-10",children:a}),y.jsx("span",{className:"relative z-10",children:n})]})},hz=({className:t="w-10 h-10"})=>y.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMidYMid meet",children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"vitalLogoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[y.jsx("stop",{offset:"0%",stopColor:"#FBBF24"})," ",y.jsx("stop",{offset:"50%",stopColor:"#F97316"})," ",y.jsx("stop",{offset:"100%",stopColor:"#EF4444"})," "]})}),y.jsx("path",{d:"M10 15 L50 95 L90 15 L70 15 L50 55 L30 15 Z",fill:"url(#vitalLogoGradient)",stroke:"none"})]}),k2=({className:t})=>y.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[y.jsx("title",{children:"Discord"}),y.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),fz=({onOpenStore:t})=>{const[e,n]=M.useState(!1),[s,a]=M.useState(!1),[l,c]=M.useState(!1),f=M.useRef(null);M.useEffect(()=>{const _=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]);const m=()=>{f.current=setTimeout(()=>{c(!0)},300)},p=()=>{f.current&&clearTimeout(f.current),c(!1)},v=[{name:"Features",href:"#features"},{name:"About",href:"#values"},{name:"Staff",href:"#staff"},{name:"Gallery",href:"#gallery"}];return y.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${e?"bg-dark-900/95 md:bg-dark-900/90 md:backdrop-blur-md border-white/10 py-3 shadow-lg":"bg-transparent border-transparent py-6"}`,children:[y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3 relative",children:[y.jsx("div",{className:"relative",children:y.jsx(hz,{className:"w-12 h-12 flex-shrink-0 filter drop-shadow-[0_0_10px_rgba(249,115,22,0.3)]"})}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-white font-display font-bold text-xl tracking-widest leading-none",children:"VITAL"}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600 font-tech text-xs tracking-[0.3em] leading-none font-bold",children:"ROLEPLAY"})]})]}),y.jsx("div",{className:"hidden lg:flex items-center gap-8",children:v.map(_=>y.jsx("a",{href:_.href,className:"text-sm font-tech font-medium text-gray-400 hover:text-vital-400 transition-colors uppercase tracking-widest",children:_.name},_.name))}),y.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-3",children:[y.jsxs("div",{className:"relative",onMouseEnter:m,onMouseLeave:p,children:[y.jsx(Ti,{variant:"ghost",size:"sm",icon:y.jsx(M2,{size:18}),children:"Forums"}),y.jsx(Hs,{children:l&&y.jsxs(ge.div,{initial:{opacity:0,y:5,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:4,scale:.98},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full mt-3 left-1/2 -translate-x-1/2 bg-vital-500 text-dark-900 text-[10px] font-bold px-3 py-1.5 rounded shadow-lg whitespace-nowrap z-50 uppercase tracking-wider pointer-events-none",children:[y.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-vital-500 rotate-45"}),"Coming Soon!"]})})]}),y.jsx(Ti,{onClick:t,variant:"ghost",size:"sm",icon:y.jsx(Y0,{size:18}),children:"Store"}),y.jsx(Ti,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"ghost",size:"sm",icon:y.jsx(k2,{className:"w-[18px] h-[18px]"}),children:"Discord"}),y.jsx(Ti,{variant:"primary",size:"sm",icon:y.jsx(K0,{size:18}),children:"Connect"})]}),y.jsx("div",{className:"flex md:hidden items-center gap-4",children:y.jsx("button",{className:"text-white p-2",onClick:()=>a(!s),"aria-label":"Toggle menu",children:s?y.jsx(Dl,{}):y.jsx(CU,{})})})]})}),y.jsx(Hs,{children:s&&y.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-dark-900 border-b border-white/10 overflow-hidden",children:y.jsxs("div",{className:"px-4 py-6 space-y-4 flex flex-col",children:[v.map(_=>y.jsx("a",{href:_.href,className:"text-lg font-display text-gray-300 hover:text-vital-400 block text-center",onClick:()=>a(!1),children:_.name},_.name)),y.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[y.jsx(Ti,{variant:"outline",fullWidth:!0,icon:y.jsx(M2,{size:18}),className:"opacity-75",children:"Forums (Soon)"}),y.jsx(Ti,{onClick:()=>{a(!1),t()},variant:"outline",fullWidth:!0,icon:y.jsx(Y0,{size:18}),children:"Store"}),y.jsx(Ti,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"outline",fullWidth:!0,icon:y.jsx(k2,{className:"w-[18px] h-[18px]"}),children:"Join Discord"}),y.jsx(Ti,{variant:"primary",fullWidth:!0,icon:y.jsx(K0,{size:18}),children:"Play Now"})]})]})})})]})},V2="cfx.re/join/ogpvmv",dz="https://cfx.re/join/ogpvmv",mz="ogpvmv",pz=()=>{const[t,e]=M.useState(!1),[n,s]=M.useState({online:!1,players:0,max:2048}),{scrollY:a}=Hv(),l=Fa(a,[0,300],[0,100]),c=Fa(a,[0,300],[0,-50]),f=Fa(a,[0,400],[1,0]),m=()=>{navigator.clipboard.writeText(V2),e(!0),setTimeout(()=>e(!1),2e3)};M.useEffect(()=>{(async()=>{try{const _=await fetch(`https://servers-frontend.fivem.net/api/servers/single/${mz}`);if(!_.ok)throw new Error("Unreachable");const x=await _.json();x&&x.Data&&s({online:!0,players:x.Data.clients,max:x.Data.sv_maxclients})}catch{s({online:!0,players:412,max:2048})}})()},[]);const p=n.players>1800?Math.floor(Math.random()*20)+5:0;return y.jsxs("section",{id:"home",className:"relative w-full pt-32 pb-16 lg:pt-48 lg:pb-32 overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-vital-500/10 blur-[100px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/2 mix-blend-screen"}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-24 items-center",children:[y.jsxs(ge.div,{style:{y:l,opacity:f},className:"flex flex-col items-center lg:items-start text-center lg:text-left",children:[y.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-tech font-bold uppercase tracking-widest mb-6 backdrop-blur-sm",children:[y.jsxs("span",{className:"relative flex h-2 w-2",children:[y.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),y.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"Accepting Applications"]}),y.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[y.jsxs("h1",{className:"text-5xl sm:text-7xl lg:text-8xl font-display font-black text-white leading-[0.9] tracking-tighter mb-4 drop-shadow-2xl",children:["VITAL ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600 pr-3 pb-1",children:"RP"})]}),y.jsxs("p",{className:"text-xl sm:text-2xl text-gray-400 font-light tracking-wide mb-8 lg:max-w-[90%]",children:["Story-first roleplay, with a community that ",y.jsx("span",{className:"text-white font-medium",children:"actually feels alive."})]})]}),y.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-gray-400 text-base sm:text-lg max-w-xl leading-relaxed mb-10",children:"Vital RP is built for immersive scenes, fair conflict, and the kind of RP you remember later. Win or lose, the goal is always the story."}),y.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[y.jsx("a",{href:dz,className:"w-full sm:w-auto block",children:y.jsxs(Ti,{size:"lg",className:"shadow-2xl shadow-vital-500/20 w-full",children:[y.jsx(Gv,{size:20,className:"mr-2 fill-current"}),"Connect Now"]})}),y.jsxs("div",{className:"relative group flex items-center",children:[y.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-lg blur-sm group-hover:bg-white/10 transition-all"}),y.jsxs("div",{className:"relative flex items-center bg-dark-800/80 backdrop-blur-md border border-white/10 rounded-lg p-1 pr-4 pl-4 h-[54px]",children:[y.jsxs("div",{className:"flex flex-col items-start mr-8",children:[y.jsx("span",{className:"text-[10px] text-gray-500 font-tech uppercase tracking-wider",children:"Server IP"}),y.jsx("span",{className:"text-white font-tech font-bold",children:V2})]}),y.jsx("button",{onClick:m,className:"ml-auto p-2 hover:bg-white/10 rounded-md text-gray-400 hover:text-white transition-colors",children:t?y.jsx(B7,{size:18,className:"text-green-500"}):y.jsx(K7,{size:18})})]})]})]}),y.jsxs("div",{className:"lg:hidden mt-8 flex items-center gap-6 border-t border-white/5 pt-6 w-full justify-center",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx(lm,{size:20,className:"text-vital-500 mb-1"}),y.jsx("span",{className:"font-bold text-white",children:n.players}),y.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Online"})]}),y.jsx("div",{className:"w-px h-8 bg-white/10"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx($g,{size:20,className:"text-green-500 mb-1"}),y.jsx("span",{className:"font-bold text-white",children:"12ms"}),y.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Ping"})]}),y.jsx("div",{className:"w-px h-8 bg-white/10"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx(fU,{size:20,className:"text-blue-500 mb-1"}),y.jsx("span",{className:"font-bold text-white",children:"US-East"}),y.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Region"})]})]})]}),y.jsxs(ge.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},style:{y:c},transition:{duration:.7,ease:"easeOut"},className:"relative hidden lg:block",children:[y.jsx("div",{className:"absolute inset-0 bg-vital-500/20 blur-[60px] rounded-full transform rotate-12 scale-75"}),y.jsxs("div",{className:"relative z-10 w-full aspect-[4/3] rounded-2xl overflow-hidden border border-white/10 shadow-2xl group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-transparent to-transparent z-10 opacity-60"}),y.jsx("img",{src:"https://r2.fivemanage.com/image/nABguUthLZVW.png",alt:"Vital RP City",className:"w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-105"}),y.jsx("div",{className:"absolute bottom-6 right-6 z-20",children:y.jsxs("div",{className:"bg-dark-900/80 backdrop-blur-md border border-white/10 p-4 rounded-xl flex items-center gap-4 shadow-xl",children:[y.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:y.jsx($g,{size:20,className:"text-green-500"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-[10px] text-gray-400 font-tech uppercase tracking-wider",children:"Server Status"}),y.jsx("div",{className:"text-white font-bold font-display",children:"OPTIMAL PERFORMANCE"})]})]})})]}),y.jsx(ge.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:6,ease:"easeInOut"},className:"absolute -top-12 -left-8 z-30 w-72",children:y.jsxs("div",{className:"relative bg-dark-900/90 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-vital-500 to-transparent"}),y.jsxs("div",{className:"flex justify-between items-center p-5 pb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[y.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${n.online?"bg-emerald-400":"bg-red-400"}`}),y.jsx("span",{className:`relative inline-flex rounded-full h-2.5 w-2.5 ${n.online?"bg-emerald-500":"bg-red-500"}`})]}),y.jsx("span",{className:"text-xs font-bold font-tech text-white tracking-widest uppercase",children:n.online?"System Online":"System Offline"})]}),y.jsx("span",{className:"text-[10px] text-gray-500 font-tech",children:"US-EAST"})]}),y.jsxs("div",{className:"px-6 py-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("span",{className:"text-gray-400 text-xs font-sans font-medium",children:"Active Citizens"}),y.jsxs("span",{className:"text-vital-500 text-xs font-tech",children:[(n.players/n.max*100).toFixed(0),"% LOAD"]})]}),y.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[y.jsx("span",{className:"text-6xl font-display font-black text-white tracking-tighter leading-none",children:n.players}),y.jsxs("span",{className:"text-lg text-gray-600 font-tech font-bold",children:["/",n.max]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[y.jsxs("div",{className:"bg-white/5 rounded-lg p-2.5 border border-white/5 flex flex-col",children:[y.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-tech mb-1",children:"Queue Length"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(G7,{size:14,className:"text-gray-400"}),y.jsx("span",{className:"text-white font-bold",children:p})]})]}),y.jsxs("div",{className:"bg-white/5 rounded-lg p-2.5 border border-white/5 flex flex-col",children:[y.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-tech mb-1",children:"Avg Latency"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx($g,{size:14,className:"text-emerald-500"}),y.jsx("span",{className:"text-white font-bold",children:"12ms"})]})]})]}),y.jsxs("div",{className:"relative h-10 w-full bg-dark-950/50 rounded-lg overflow-hidden border border-white/5",children:[y.jsx("div",{className:"absolute inset-0 grid grid-cols-6 gap-px opacity-10",children:[...Array(6)].map((v,_)=>y.jsx("div",{className:"bg-white/50 h-full w-px"},_))}),y.jsx("svg",{className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:y.jsx(ge.path,{d:"M0,20 L10,20 L20,15 L30,25 L40,20 L50,10 L60,30 L70,20 L80,22 L90,18 L100,20 L110,5 L120,35 L130,20 L140,20 L200,20 L210,10 L220,30 L300,20",fill:"none",stroke:"#f97316",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke",initial:{x:-100},animate:{x:0},transition:{repeat:1/0,duration:2,ease:"linear"}})}),y.jsx("div",{className:"absolute bottom-1 right-2 text-[8px] text-vital-500 font-tech",children:"TICK: 60"})]})]})]})})]})]})})]})},gz=[{icon:U7,title:"Custom Vehicles",description:"Over 400+ custom imported vehicles with realistic handling files, custom sounds, and extensive tuning options."},{icon:IC,title:"Player Economy",description:"A dynamic, player-driven economy. Own businesses, manage supply chains, and influence the market prices."},{icon:JU,title:"Gangs & Cartels",description:"Deep criminal progression systems. Claim territory, manufacture illicit goods, and war for control of the city."},{icon:OC,title:"Emergency Services",description:"Advanced PD and EMS scripts including evidence systems, custom medical treatments, and realistic dispatch."},{icon:DC,title:"Housing & Interiors",description:"Buy any house on the map. Custom furnish your home with thousands of props or buy a pre-furnished mansion."},{icon:Z7,title:"Legal Jobs",description:"From trucking to fishing, garbage collection to mechanic work - earn an honest living with interactive jobs."}],yz={hidden:{},visible:{transition:{staggerChildren:.1}}},vz={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},_z=()=>y.jsxs("section",{id:"features",className:"py-24 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-dark-900/80 backdrop-blur-sm"}),y.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-vital-900 to-transparent opacity-50 z-20"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"text-center mb-20",children:[y.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-6",children:["IMMERSIVE ",y.jsx("span",{className:"text-vital-500",children:"FEATURES"})]}),y.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:"We've customized every aspect of Vital RP to ensure a unique, lag-free, and engaging experience for every type of roleplayer."})]}),y.jsx(ge.div,{variants:yz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:gz.map((t,e)=>y.jsxs(ge.div,{variants:vz,className:"group relative p-8 rounded-xl bg-dark-800/80 backdrop-blur border border-white/5 hover:border-vital-500/30 transition-all duration-300 hover:bg-dark-700/50",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-vital-500/10 to-transparent opacity-0 group-hover:opacity-100 rounded-xl transition-opacity duration-300"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"w-14 h-14 rounded-lg bg-dark-900 border border-white/10 flex items-center justify-center mb-6 group-hover:border-vital-500/50 group-hover:scale-110 transition-all duration-300",children:y.jsx(t.icon,{className:"w-7 h-7 text-vital-500"})}),y.jsx("h3",{className:"text-xl font-display font-bold text-white mb-3 group-hover:text-vital-400 transition-colors",children:t.title}),y.jsx("p",{className:"text-gray-400 leading-relaxed font-sans text-sm",children:t.description})]})]},e))})]})]}),bz=[{id:"01",title:"Narrative Over Winning",description:"We believe the best stories come from conflict, flaws, and failure. We prioritize character development and scene integrity over 'winning' a shootout or chase.",icon:NC,className:"md:col-span-2 md:row-span-1",gradient:"from-vital-600/20 to-transparent"},{id:"02",title:"Community First",description:"Your voice shapes the city. We actively listen to feedback and hold regular town halls.",icon:lm,className:"md:col-span-1 md:row-span-1",gradient:"from-blue-500/20 to-transparent"},{id:"03",title:"Zero Toxicity",description:"A strict zero-tolerance policy for harassment. We protect our safe, inclusive environment aggressively.",icon:am,className:"md:col-span-1 md:row-span-1",gradient:"from-red-500/20 to-transparent"},{id:"04",title:"Optimized Performance",description:"Custom asset management ensuring high FPS even in dense areas.",icon:Gv,className:"md:col-span-1 md:row-span-1",gradient:"from-yellow-500/20 to-transparent"},{id:"05",title:"Player-Run Economy",description:"No spawned money. Every dollar in circulation is earned, spent, and circulated by players owning businesses and providing services.",icon:FU,className:"md:col-span-1 md:row-span-1",gradient:"from-emerald-500/20 to-transparent"}],xz={hidden:{},visible:{transition:{staggerChildren:.1}}},wz={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},Tz=()=>y.jsxs("section",{id:"values",className:"py-24 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/70 md:backdrop-blur-md"}),y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-16 gap-6",children:[y.jsxs(ge.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},className:"max-w-xl text-center md:text-left",children:[y.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[y.jsx(sm,{size:16,className:"text-vital-500"}),y.jsx("span",{className:"text-vital-500 font-tech uppercase tracking-widest text-xs font-bold",children:"Our Philosophy"})]}),y.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white",children:["WHAT WE ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"VALUE"})]})]}),y.jsx(ge.p,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},className:"text-gray-400 max-w-sm text-sm text-center md:text-right font-sans leading-relaxed",children:"Vital RP isn't just a server; it's a standard. We are dedicated to providing the highest quality roleplay environment on FiveM."})]}),y.jsx(ge.div,{variants:xz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 auto-rows-[minmax(180px,auto)]",children:bz.map(t=>y.jsxs(ge.div,{variants:wz,className:`relative group p-8 rounded-2xl border border-white/5 bg-dark-800 md:bg-dark-800/80 md:backdrop-blur hover:border-vital-500/30 transition-all duration-500 overflow-hidden ${t.className}`,children:[y.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),y.jsx("div",{className:"absolute top-4 right-6 text-6xl font-display font-black text-white/5 group-hover:text-white/10 transition-colors duration-500 select-none",children:t.id}),y.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-dark-900/50 border border-white/10 flex items-center justify-center mb-4 text-vital-500 group-hover:scale-110 group-hover:bg-vital-500 group-hover:text-white transition-all duration-300",children:y.jsx(t.icon,{size:24})}),y.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-3 group-hover:text-vital-200 transition-colors",children:t.title}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300 transition-colors",children:t.description})]}),y.jsx("div",{className:"w-8 h-1 bg-vital-500/30 rounded-full group-hover:w-full group-hover:bg-vital-500 transition-all duration-500"})]})]},t.id))})]})]}),Ez=[{value:"vital",label:"Orange (Vital)"},{value:"amber",label:"Amber (Gold)"},{value:"red",label:"Red (Admin)"},{value:"green",label:"Green (Mod)"},{value:"purple",label:"Purple"},{value:"yellow",label:"Yellow"}],Sz=["Management","Administration","Moderation Team"],Az=({isOpen:t,onClose:e,onSave:n,onDelete:s,initialData:a})=>{const[l,c]=M.useState(a),[f,m]=M.useState(!1),[p,v]=M.useState(!1);X0.useEffect(()=>{c(a)},[a,t]);const _=async E=>{E.preventDefault(),m(!0);try{await n(l),e()}catch(I){console.error("Failed to save staff member:",I),alert("Failed to save changes.")}finally{m(!1)}},x=async()=>{if(s&&window.confirm("Are you sure you want to delete this staff member? This cannot be undone.")){v(!0);try{await s(),e()}catch(E){console.error("Failed to delete:",E),alert("Failed to delete member.")}finally{v(!1)}}};return y.jsx(Hs,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[y.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),y.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl w-full max-w-xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-dark-800/50",children:[y.jsx("h2",{className:"text-xl font-display font-bold text-white",children:"Edit Staff Member"}),y.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:y.jsx(Dl,{size:24})})]}),y.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:y.jsxs("form",{id:"staff-form",onSubmit:_,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Name"}),y.jsx("input",{type:"text",value:l.name,onChange:E=>c({...l,name:E.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Damon"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Role Title"}),y.jsx("input",{type:"text",value:l.role,onChange:E=>c({...l,role:E.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Owner"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Sub-Role / Tags (Optional)"}),y.jsx("input",{type:"text",value:l.subRole||"",onChange:E=>c({...l,subRole:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Development, Marketing"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Avatar URL"}),y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"url",value:l.image||"",onChange:E=>c({...l,image:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"https://..."})}),y.jsx("p",{className:"text-[10px] text-gray-500",children:"Leave empty to use the default role icon."}),l.image&&y.jsx("div",{className:"mt-2 w-16 h-16 rounded-lg overflow-hidden border border-white/10",children:y.jsx("img",{src:l.image,alt:"Preview",className:"w-full h-full object-cover"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Color Theme"}),y.jsx("select",{value:l.color,onChange:E=>c({...l,color:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors appearance-none",children:Ez.map(E=>y.jsx("option",{value:E.value,className:"bg-dark-900",children:E.label},E.value))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Category"}),y.jsx("select",{value:l.category,onChange:E=>c({...l,category:E.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors appearance-none",children:Sz.map(E=>y.jsx("option",{value:E,className:"bg-dark-900",children:E},E))})]})]})]})}),y.jsxs("div",{className:"p-6 border-t border-white/5 bg-dark-800/30 flex justify-between gap-4",children:[s&&y.jsxs("button",{type:"button",onClick:x,disabled:p,className:"px-4 py-2.5 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-xl font-bold transition-colors flex items-center gap-2",children:[y.jsx(om,{size:18}),p?"Deleting...":"Delete"]}),y.jsxs("div",{className:"flex gap-3 ml-auto",children:[y.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsxs("button",{type:"submit",form:"staff-form",disabled:f,className:"px-8 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center gap-2 shadow-lg shadow-vital-500/20 disabled:opacity-50",children:[y.jsx(rm,{size:18}),f?"Saving...":"Save Changes"]})]})]})]})]})})},Rz=t=>{switch(t){case"amber":return{text:"text-amber-400",bg:"bg-amber-500",border:"group-hover:border-amber-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(245,158,11,0.2)]",gradient:"from-amber-500/20 to-transparent"};case"red":return{text:"text-red-400",bg:"bg-red-500",border:"group-hover:border-red-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(239,68,68,0.2)]",gradient:"from-red-500/20 to-transparent"};case"green":return{text:"text-emerald-400",bg:"bg-emerald-500",border:"group-hover:border-emerald-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(16,185,129,0.2)]",gradient:"from-emerald-500/20 to-transparent"};case"yellow":return{text:"text-yellow-400",bg:"bg-yellow-500",border:"group-hover:border-yellow-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(250,204,21,0.2)]",gradient:"from-yellow-500/20 to-transparent"};case"purple":return{text:"text-purple-400",bg:"bg-purple-500",border:"group-hover:border-purple-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(168,85,247,0.2)]",gradient:"from-purple-500/20 to-transparent"};default:return{text:"text-vital-400",bg:"bg-vital-500",border:"group-hover:border-vital-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(249,115,22,0.2)]",gradient:"from-vital-500/20 to-transparent"}}},Cz=({role:t,subRole:e,className:n,size:s})=>t==="Owner"?y.jsx(sm,{className:n,size:s}):t==="Senior Admin"?y.jsx(al,{className:n,size:s}):t==="Clothing Dev"||e==="Clothing Dev"?y.jsx(jC,{className:n,size:s}):t==="Senior Mod"?y.jsx(am,{className:n,size:s}):t==="Mod"||t==="Moderator"?y.jsx(lU,{className:n,size:s}):y.jsx(OC,{className:n,size:s}),Nz={hidden:{},visible:{transition:{staggerChildren:.1}}},Iz={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.21,.47,.32,.98]}}},Dz=({member:t,onEdit:e})=>{const{editMode:n}=Ja(),[s,a]=M.useState(!1),l=Rz(t.color),c=t.name==="Soup",f=m=>{c&&!n&&a(!s)};return y.jsxs(ge.div,{variants:Iz,onClick:f,className:`group relative h-40 bg-dark-800 md:bg-dark-800/80 md:backdrop-blur rounded-xl overflow-hidden border border-white/5 ${l.border} transition-all duration-300 ${l.glow} ${c&&!n?"cursor-pointer":""}`,children:[n&&e&&y.jsx("button",{onClick:m=>{m.stopPropagation(),e(t)},className:"absolute top-2 right-2 z-50 p-2 bg-dark-900/80 backdrop-blur text-white rounded-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-vital-500 hover:scale-110 shadow-lg border border-white/10",title:"Edit Card",children:y.jsx(Bu,{size:14})}),y.jsx("div",{className:"absolute -right-2 -bottom-4 font-display font-black text-[120px] leading-none text-white/[0.03] group-hover:text-white/[0.07] transition-colors select-none pointer-events-none",children:s?"":t.name.charAt(0)}),y.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${l.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),y.jsxs("div",{className:"absolute inset-0 p-5 flex flex-col justify-between z-10",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("div",{className:`w-10 h-10 rounded-lg bg-dark-900/80 md:backdrop-blur border border-white/10 flex items-center justify-center ${l.text} group-hover:scale-110 transition-transform duration-300 overflow-hidden`,children:s?y.jsx(ge.div,{initial:{rotate:-20,scale:.8},animate:{rotate:0,scale:1},transition:{type:"spring",stiffness:300,damping:10},children:y.jsx(PU,{size:20})}):t.image?y.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):y.jsx(Cz,{role:t.role,subRole:t.subRole,size:20})}),y.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:y.jsx(tz,{size:10,className:l.text,fill:"currentColor"})})]}),y.jsxs("div",{children:[y.jsx("div",{className:`text-[9px] font-tech font-bold uppercase tracking-widest mb-1 ${l.text} opacity-80 flex flex-col`,children:s?y.jsx("span",{children:"Fashion Icon"}):y.jsxs(y.Fragment,{children:[y.jsx("span",{children:t.role}),t.subRole&&y.jsx("span",{className:"text-white/60 text-[8px] mt-0.5 border-l-2 border-current pl-1.5 leading-none py-0.5",children:t.subRole})]})}),y.jsx(ge.h4,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-xl font-display font-bold text-white group-hover:translate-x-1 transition-transform duration-300 truncate",children:s?'"I look like a rat"':t.name},s?"rat":"normal"),y.jsx("div",{className:`h-0.5 w-6 mt-3 rounded-full ${l.bg} group-hover:w-full transition-all duration-500 ease-out`})]})]})]})},Mz=()=>{const[t,e]=M.useState([]),[n,s]=M.useState(!0),[a,l]=M.useState(null);M.useEffect(()=>{if(!Fe){s(!1);return}const m=ml(Ya(Fe,"staff"),_A("role")),p=sv(m,v=>{const _=[];v.forEach(E=>_.push({id:E.id,...E.data()}));const x=[{title:"Management",items:_.filter(E=>E.category==="Management")},{title:"Administration",items:_.filter(E=>E.category==="Administration")},{title:"Moderation Team",items:_.filter(E=>E.category==="Moderation Team")}].filter(E=>E.items.length>0);e(x),s(!1)},v=>{console.error("Error fetching staff:",v),s(!1)});return()=>p()},[]);const c=async m=>{if(!(a!=null&&a.id)||!Fe)return;const p=li(Fe,"staff",a.id);await pl(p,{name:m.name,role:m.role,subRole:m.subRole||"",image:m.image||"",color:m.color,category:m.category},{merge:!0})},f=async()=>{!(a!=null&&a.id)||!Fe||await Ou(li(Fe,"staff",a.id))};return y.jsxs("section",{id:"staff",className:"py-16 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/80 md:backdrop-blur-sm z-0"}),y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-10",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-vital-900/10 blur-[100px] rounded-full -translate-y-1/2 translate-x-1/2"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-900/10 blur-[100px] rounded-full translate-y-1/2 -translate-x-1/2"})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-20",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsxs(ge.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-4xl md:text-5xl font-display font-black text-white mb-4 uppercase tracking-tight",children:["Meet The ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"Staff"})]}),y.jsx(ge.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1},className:"h-1 w-24 bg-dark-800 mx-auto rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full w-full bg-vital-500/50 -translate-x-full animate-[shimmer_2s_infinite]"})})]}),n?y.jsx("div",{className:"text-center text-gray-500",children:"Loading roster..."}):t.length===0?y.jsx("div",{className:"text-center text-gray-500 py-10",children:y.jsx("p",{children:"No staff members listed yet."})}):t.map(m=>y.jsxs("div",{className:"mb-10 last:mb-0",children:[y.jsxs(ge.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex items-center gap-4 mb-5",children:[y.jsx("h3",{className:"text-lg font-display font-bold text-gray-500 uppercase tracking-widest",children:m.title}),y.jsx("div",{className:"h-px bg-white/10 flex-grow"})]}),y.jsx(ge.div,{variants:Nz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.items.map((p,v)=>y.jsx(Dz,{member:p,index:v,onEdit:l},p.id||v))})]},m.title))]}),a&&y.jsx(Az,{isOpen:!!a,onClose:()=>l(null),onSave:c,onDelete:f,initialData:a})]})},kz=[{value:"small",label:"Small (1x1)"},{value:"wide",label:"Wide (2x1)"},{value:"tall",label:"Tall (1x2)"},{value:"large",label:"Large (2x2)"}],UC=({isOpen:t,onClose:e,onSave:n,onDelete:s,initialData:a})=>{const[l,c]=M.useState(a),[f,m]=M.useState(!1),[p,v]=M.useState(!1),[_,x]=M.useState(!1),E=async P=>{P.preventDefault(),m(!0);try{await n(l),e()}catch(q){console.error("Failed to save gallery item:",q),alert("Failed to save changes: "+(q.message||"Unknown error"))}finally{m(!1)}},I=async()=>{if(s&&window.confirm("Are you sure you want to delete this gallery item? This cannot be undone.")){v(!0);try{await s(),e()}catch(P){console.error("Failed to delete:",P),alert("Failed to delete item.")}finally{v(!1)}}},V=async P=>{var D;const q=(D=P.target.files)==null?void 0:D[0];if(!(!q||!ka)){x(!0);try{const W=`gallery/${Date.now()}_${q.name}`,te=FA(ka,W);await zA(te,q);const ae=await BA(te);c(N=>({...N,src:ae}))}catch(W){console.error("Upload failed:",W),alert("Image upload failed: "+(W.message||"Unknown error"))}finally{x(!1)}}},C=()=>{switch(l.size){case"wide":return 2/1;case"tall":return 1/2;default:return 1}};return y.jsx(Hs,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[y.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),y.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl w-full max-w-xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-dark-800/50",children:[y.jsx("h2",{className:"text-xl font-display font-bold text-white",children:"Edit Gallery Item"}),y.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors",children:y.jsx(Dl,{size:24})})]}),y.jsx("div",{className:"flex-1 overflow-hidden relative",children:y.jsx("div",{className:"p-6 pb-20 overflow-y-auto custom-scrollbar h-full",children:y.jsxs("form",{id:"gallery-form",onSubmit:E,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Title"}),y.jsx("input",{type:"text",value:l.title,onChange:P=>c({...l,title:P.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Midnight Heat"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Grid Size"}),y.jsx("select",{value:l.size,onChange:P=>c({...l,size:P.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors appearance-none",children:kz.map(P=>y.jsx("option",{value:P.value,className:"bg-dark-900",children:P.label},P.value))}),y.jsx("p",{className:"text-[10px] text-gray-500",children:"Controls aspect ratio (Small/Large: 1:1, Wide: 2:1, Tall: 1:2)."})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Location"}),y.jsx("input",{type:"text",value:l.location,onChange:P=>c({...l,location:P.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Olympic Fwy"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Category"}),y.jsx("input",{type:"text",value:l.category,onChange:P=>c({...l,category:P.target.value}),required:!0,className:"w-full bg-black/20 border border-white/10 rounded-lg p-3 text-white focus:border-vital-500 outline-none transition-colors",placeholder:"e.g. Street Racing"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-tech font-bold text-gray-400 uppercase tracking-wider",children:"Image Source"}),y.jsxs("div",{className:"relative group w-full bg-black/20 border-2 border-dashed border-white/10 rounded-xl overflow-hidden hover:border-vital-500/50 transition-colors mx-auto",style:{aspectRatio:C()},children:[l.src?y.jsx("img",{src:l.src,alt:"Preview",className:"w-full h-full object-cover opacity-60 group-hover:opacity-40 transition-opacity"}):y.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-600",children:y.jsx(PC,{size:32})}),y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-3 p-4",children:[y.jsx("div",{className:"pointer-events-auto flex gap-2",children:y.jsx("label",{htmlFor:"gallery-image-upload",className:"px-4 py-2 bg-vital-500/20 hover:bg-vital-500 text-vital-500 hover:text-white rounded-lg font-bold border border-vital-500/30 hover:border-vital-500 transition-all backdrop-blur-sm shadow-lg cursor-pointer whitespace-nowrap",children:l.src?"Change Photo":"Select Photo"})}),y.jsxs("p",{className:"text-[10px] text-gray-400 bg-black/50 px-2 py-0.5 rounded",children:["Aspect Ratio: ",y.jsx("span",{className:"text-white",children:C()===1?"1:1":C()===2?"2:1":"1:2"})]})]}),y.jsx("input",{id:"gallery-image-upload",type:"file",onChange:V,accept:"image/*",disabled:!ka,className:"hidden"})]}),!ka&&y.jsx("p",{className:"text-xs text-red-500",children:"Firebase Storage is not configured."})]})]})})}),y.jsxs("div",{className:"p-6 border-t border-white/5 bg-dark-800/30 flex justify-between gap-4",children:[s&&y.jsxs("button",{type:"button",onClick:I,disabled:p,className:"px-4 py-2.5 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-xl font-bold transition-colors flex items-center gap-2",children:[y.jsx(om,{size:18}),p?"Deleting...":"Delete"]}),y.jsxs("div",{className:"flex gap-3 ml-auto",children:[y.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsxs("button",{type:"submit",form:"gallery-form",disabled:f,className:"px-8 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center gap-2 shadow-lg shadow-vital-500/20 disabled:opacity-50",children:[y.jsx(rm,{size:18}),f?"Saving...":"Save Changes"]})]})]})]})]})})},Vz=[{id:"1",src:"https://r2.fivemanage.com/image/X8BG7CABWS9D.png",title:"Midnight Heat",location:"Olympic Fwy",category:"Street Racing",size:"large"},{id:"2",src:"https://r2.fivemanage.com/image/iZgFHW4jrwjA.png",title:"Criminal Enterprise",location:"Unknown",category:"Organized Crime",size:"wide"},{id:"3",src:"https://r2.fivemanage.com/image/uLGSJHTfUwpW.png",title:"The Underworld",location:"Cypress Flats",category:"Gangs",size:"small"},{id:"4",src:"https://r2.fivemanage.com/image/N7XhYJH9lVxU.png",title:"Neon Nights",location:"West Vinewood",category:"Nightlife",size:"wide"},{id:"5",src:"https://r2.fivemanage.com/image/rHwmMCLaftBM.png",title:"City Wide Events",location:"Paleto Bay",category:"Community",size:"wide"}],Oz=t=>{switch(t){case"large":return"md:col-span-2 md:row-span-2";case"tall":return"md:col-span-1 md:row-span-2";case"wide":return"md:col-span-2 md:row-span-1";default:return"md:col-span-1 md:row-span-1"}},jz={hidden:{},visible:{transition:{staggerChildren:.1}}},O2={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.21,.47,.32,.98]}}},Pz=()=>{const{editMode:t}=Ja(),[e,n]=M.useState(Vz),[s,a]=M.useState(!0),[l,c]=M.useState(null);M.useEffect(()=>{if(!Fe){a(!1);return}const p=ml(Ya(Fe,"gallery")),v=sv(p,_=>{const x=[];_.forEach(E=>{x.push({id:E.id,...E.data()})}),x.length>0&&(x.sort((E,I)=>{const V=parseInt(E.id),C=parseInt(I.id);return!isNaN(V)&&!isNaN(C)?V-C:E.id.localeCompare(I.id)}),n(x)),a(!1)},_=>{console.warn("Could not fetch gallery from Firebase, using fallback data.",_),a(!1)});return()=>v()},[]);const f=async p=>{if(!(!(l!=null&&l.id)||!Fe))try{const v=li(Fe,"gallery",l.id);await pl(v,{title:p.title||"",location:p.location||"",category:p.category||"",src:p.src||"",size:p.size||"small"},{merge:!0})}catch(v){throw console.error("Error saving gallery item:",v),v}},m=async()=>{if(!(!(l!=null&&l.id)||!Fe))try{await Ou(li(Fe,"gallery",l.id))}catch(p){throw console.error("Error deleting gallery item:",p),p}};return s?y.jsx("section",{className:"py-32 flex justify-center items-center bg-dark-900",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-vital-500"})}):y.jsxs("section",{id:"gallery",className:"py-32 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/80 md:backdrop-blur-sm z-0"}),y.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-vital-500/5 blur-[120px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/3"}),y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-16 gap-8",children:[y.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},className:"max-w-2xl text-center md:text-left",children:[y.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-black text-white mb-6 tracking-tight",children:["CAPTURED ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"IN CITY"})]}),y.jsx("p",{className:"text-lg text-gray-400 font-sans font-light leading-relaxed",children:"Every street corner in Los Santos holds a story. From high-stakes criminal operations to the vibrant nightlife of Vinewood, witness the moments that define our community."})]}),y.jsx(ge.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:y.jsxs("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"hidden md:flex items-center gap-3 group text-white font-display font-bold uppercase tracking-wider text-sm hover:text-vital-400 transition-colors",children:[y.jsx("span",{children:"Join The Community"}),y.jsx("div",{className:"w-8 h-8 rounded-full border border-white/20 flex items-center justify-center group-hover:border-vital-500 group-hover:bg-vital-500/10 transition-all",children:y.jsx(D7,{size:16,className:"group-hover:-translate-y-0.5 group-hover:translate-x-0.5 transition-transform"})})]})})]}),y.jsxs(ge.div,{variants:jz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-4 auto-rows-[280px] gap-6 grid-flow-dense",children:[e.map(p=>y.jsxs(ge.div,{variants:O2,className:`group relative rounded-xl overflow-hidden bg-dark-800 ${Oz(p.size)} shadow-2xl shadow-black/50`,children:[t&&y.jsx("button",{onClick:()=>c(p),className:"absolute top-3 right-3 z-50 p-2 bg-dark-900/80 backdrop-blur text-white rounded-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-vital-500 hover:scale-110 shadow-lg border border-white/10",title:"Edit Gallery Item",children:y.jsx(Bu,{size:14})}),y.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-dark-900 z-0"}),y.jsx("img",{src:p.src,alt:p.title,className:"w-full h-full object-cover transform transition-transform duration-1000 ease-out group-hover:scale-105 opacity-90 group-hover:opacity-100"})]}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent opacity-90 transition-opacity duration-500 pointer-events-none"}),y.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between pointer-events-none",children:[y.jsx("div",{className:"self-start pointer-events-auto",children:y.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-black/40 md:backdrop-blur-md border border-white/10 text-[10px] font-tech font-bold text-white uppercase tracking-widest opacity-0 transform -translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300",children:p.category})}),y.jsxs("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 ease-out pointer-events-auto",children:[y.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-2 leading-tight drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:p.title}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100",children:[y.jsx(VC,{size:14,className:"text-vital-500 drop-shadow-md"}),y.jsx("span",{className:"text-sm font-sans text-gray-200 drop-shadow-md",children:p.location})]}),y.jsx("div",{className:"h-0.5 w-0 group-hover:w-12 bg-vital-500 mt-4 transition-all duration-500 ease-out delay-75 shadow-[0_0_10px_rgba(249,115,22,0.5)]"})]})]})]},p.id)),y.jsxs(ge.div,{variants:O2,className:"md:col-span-1 md:row-span-1 rounded-xl bg-gradient-to-br from-dark-800 to-dark-900 border border-white/5 p-8 flex flex-col justify-center items-center text-center group hover:border-vital-500/30 transition-colors relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-vital-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[y.jsx("div",{className:"w-14 h-14 rounded-full bg-dark-950 border border-white/10 flex items-center justify-center mb-4 group-hover:scale-110 group-hover:border-vital-500/50 transition-all duration-300 shadow-xl",children:y.jsx(P7,{className:"text-white w-6 h-6"})}),y.jsx("h3",{className:"font-display font-bold text-white text-xl mb-2",children:"Share Your Story"}),y.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:"Taken a great shot in the city? Post it in our media channel."}),y.jsx("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"text-xs font-bold font-tech uppercase tracking-widest text-vital-500 border-b border-vital-500/30 pb-1 hover:border-vital-500 transition-all",children:"Join Discord"})]})]})]})]}),l&&y.jsx(UC,{isOpen:!!l,onClose:()=>c(null),onSave:f,onDelete:m,initialData:l})]})},Lz=[{title:"18+ Community",description:"This is strictly an 18+ server. Mature themes and conversations are present. No exceptions.",icon:al},{title:"Serious Roleplay",description:"Stay in character at all times. Prioritize the story and realism over winning or mechanics. Drive the narrative forward.",icon:eU},{title:"Value of Life (Fear RP)",description:"You must prioritize your character's life at all times. Act realistically when threatened with grievous harm.",icon:gU},{title:"New Life Rule (NLR)",description:"If you are downed and respawn, you forget the events leading to your death. You cannot return to the scene for 30 minutes.",icon:UU},{title:"No Metagaming",description:"Using Out-Of-Character (OOC) information in-game is strictly prohibited. Keep discord/stream info separate.",icon:iU},{title:"No Powergaming",description:"Do not force outcomes on other players. Give everyone a fair chance to react and roleplay their side of the story.",icon:Gv},{title:"No RDM / VDM",description:"Random Deathmatch (killing without reason) and Vehicle Deathmatch (using cars as weapons) are forbidden.",icon:Q7},{title:"Respect & No Toxicity",description:"Zero tolerance for toxicity, racism, slurs, or harassment. We are here to tell stories together.",icon:NC}],Uz={hidden:{},visible:{transition:{staggerChildren:.05}}},zz={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},Bz=()=>y.jsxs("section",{id:"rules",className:"py-24 bg-dark-800 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsx("div",{className:"text-center mb-16",children:y.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},children:[y.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-6",children:["SERVER ",y.jsx("span",{className:"text-vital-500",children:"RULES"})]}),y.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg font-sans",children:"To ensure a high-quality immersive experience for everyone, all citizens must adhere to our core constitution."})]})}),y.jsx(ge.div,{variants:Uz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Lz.map((t,e)=>y.jsxs(ge.div,{variants:zz,className:"bg-dark-900/50 backdrop-blur-sm border border-white/5 p-6 rounded-xl hover:border-vital-500/30 transition-colors group",children:[y.jsx("div",{className:"w-12 h-12 rounded-lg bg-vital-500/10 flex items-center justify-center mb-4 group-hover:bg-vital-500/20 transition-colors",children:y.jsx(t.icon,{className:"w-6 h-6 text-vital-500"})}),y.jsx("h3",{className:"text-white font-display font-bold text-lg mb-2 group-hover:text-vital-400 transition-colors",children:t.title}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:t.description})]},e))}),y.jsx("div",{className:"mt-12 text-center",children:y.jsx("a",{href:"https://docs.google.com/document/d/1ZhxNk5zCsZy9eE1Xlo8ALanxtjsFV6TclpAoNHUZHpo/edit?tab=t.0",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-vital-500 text-sm mb-6 inline-flex items-center gap-2 underline underline-offset-4 decoration-white/20 hover:decoration-vital-500 transition-all",children:"This is a summary. Click here to read the full legislation document."})})]})]}),Fz=[{question:"Is Vital RP a whitelist server?",answer:"Yes, we are a whitelist community. However, our application process is straightforward. We want to ensure that players understand our rules and are committed to serious roleplay before joining."},{question:"What is the age requirement?",answer:"You must be 18 years or older to join Vital RP. We cover mature themes and expect a level of maturity from our player base that aligns with an adult community."},{question:"Do I need a high-end PC?",answer:"We optimize our assets heavily. If you can run base GTA V at 60 FPS, you should have a smooth experience on Vital RP. We recommend 16GB of RAM for the best texture loading."},{question:"Is voice chat required?",answer:"Yes, a working microphone is mandatory. We use a custom high-quality voice plugin (pma-voice) that is built into the server, so no external TeamSpeak downloads are required."},{question:"Is controller support enabled?",answer:"Yes! Driving and flying work perfectly with controllers. Some complex menu interactions may still require a mouse and keyboard, but daily gameplay is very controller-friendly."}],Hz={hidden:{},visible:{transition:{staggerChildren:.1}}},qz={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.21,.47,.32,.98]}}},Gz=()=>{const[t,e]=M.useState(0);return y.jsx("section",{className:"py-24 bg-dark-800 relative",children:y.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-vital-500/10 text-vital-500 mb-4",children:y.jsx(H7,{size:24})}),y.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-4",children:["COMMON ",y.jsx("span",{className:"text-vital-500",children:"QUESTIONS"})]}),y.jsx("p",{className:"text-gray-400",children:"Everything you need to know before flying in."})]}),y.jsx(ge.div,{variants:Hz,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"space-y-4",children:Fz.map((n,s)=>y.jsxs(ge.div,{variants:qz,className:"border border-white/10 rounded-lg bg-dark-900 overflow-hidden",children:[y.jsxs("button",{onClick:()=>e(t===s?null:s),className:"w-full flex items-center justify-between p-6 text-left hover:bg-white/5 transition-colors",children:[y.jsx("span",{className:"text-lg font-bold text-white font-display",children:n.question}),y.jsx("span",{className:`transition-transform duration-300 ${t===s?"rotate-180 text-vital-500":"text-gray-500"}`,children:t===s?y.jsx(DU,{size:20}):y.jsx(qv,{size:20})})]}),y.jsx(Hs,{children:t===s&&y.jsx(ge.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:y.jsx("div",{className:"px-6 pb-6 pt-0 text-gray-400 leading-relaxed border-t border-white/5 mt-2 pt-4",children:n.answer})})})]},s))})]})})},$z=({className:t})=>y.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[y.jsx("title",{children:"Discord"}),y.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),Kz=()=>y.jsxs("section",{className:"py-24 relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0",children:[y.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?q=80&w=1983&auto=format&fit=crop",alt:"Night City Atmosphere",className:"w-full h-full object-cover opacity-40"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-dark-900/90 to-dark-900/80"}),y.jsx("div",{className:"absolute inset-0 bg-vital-900/20 mix-blend-overlay"})]}),y.jsx("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:y.jsxs(ge.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[y.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-bold text-white mb-6",children:["READY TO START YOUR ",y.jsx("span",{className:"text-vital-500",children:"LEGACY?"})]}),y.jsx("p",{className:"text-xl text-gray-300 mb-10 font-sans max-w-2xl mx-auto",children:"Join thousands of other players in the most advanced roleplay environment. Create your character today."}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[y.jsx(Ti,{href:"https://cfx.re/join/ogpvmv",variant:"primary",size:"lg",className:"w-full sm:w-auto",icon:y.jsx(K0,{}),children:"Connect to Server"}),y.jsx(Ti,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"secondary",size:"lg",className:"w-full sm:w-auto",icon:y.jsx($z,{className:"w-6 h-6"}),children:"Join Our Discord"})]})]})})]}),Yz=({className:t="w-8 h-8"})=>y.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMidYMid meet",children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"vitalLogoGradientFooter",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[y.jsx("stop",{offset:"0%",stopColor:"#FBBF24"}),y.jsx("stop",{offset:"50%",stopColor:"#F97316"}),y.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]})}),y.jsx("path",{d:"M10 15 L50 95 L90 15 L70 15 L50 55 L30 15 Z",fill:"url(#vitalLogoGradientFooter)"})]}),Qz=({className:t})=>y.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[y.jsx("title",{children:"Discord"}),y.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),Xz=({className:t})=>y.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("title",{children:"X (Twitter)"}),y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})]}),Wz=({className:t})=>y.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("title",{children:"TikTok"}),y.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})]}),Zz=({onOpenStore:t})=>{const[e,n]=M.useState(!1),{login:s,user:a}=Ja(),l=[{label:"Home",href:"#home"},{label:"Rules",href:"https://docs.google.com/document/d/1ZhxNk5zCsZy9eE1Xlo8ALanxtjsFV6TclpAoNHUZHpo/edit?tab=t.0",isExternal:!0},{label:"Staff",href:"#staff"},{label:"Gallery",href:"#gallery"},{label:"Forums",href:"#",isComingSoon:!0},{label:"Store",href:"https://vitalrp.tebex.io/",isExternal:!0,isStore:!0}],c=(f,m)=>{m.isStore&&(f.preventDefault(),t())};return y.jsx("footer",{className:"bg-dark-950 pt-20 pb-10 border-t border-white/5",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[y.jsxs("div",{className:"col-span-1 md:col-span-2",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx(Yz,{className:"w-10 h-10 flex-shrink-0"}),y.jsx("span",{className:"text-2xl font-display font-bold text-white",children:"VITAL RP"})]}),y.jsx("p",{className:"text-gray-500 text-sm leading-relaxed max-w-sm",children:"Vital RP is a premium FiveM roleplay community focused on storytelling, character development, and high-quality interactions. Join us today and start your journey in Los Santos."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-display font-bold mb-6",children:"QUICK LINKS"}),y.jsx("ul",{className:"space-y-4",children:l.map(f=>y.jsx("li",{className:"w-fit",children:f.isComingSoon?y.jsxs("div",{className:"group relative flex items-center cursor-help",children:[y.jsx("span",{className:"text-gray-500 text-sm font-tech uppercase tracking-wider group-hover:text-vital-500 transition-colors",children:f.label}),y.jsx("span",{className:"absolute left-full ml-3 px-2 py-0.5 bg-vital-500 text-white text-[9px] font-bold rounded opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:"SOON"})]}):y.jsx("a",{href:f.href,target:f.isExternal?"_blank":void 0,rel:f.isExternal?"noreferrer":void 0,onClick:m=>c(m,f),className:"text-gray-500 hover:text-vital-500 transition-colors text-sm font-tech uppercase tracking-wider block",children:f.label})},f.label))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-display font-bold mb-6",children:"SOCIALS"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-vital-600 hover:text-white transition-all","aria-label":"Discord",children:y.jsx(Qz,{className:"w-5 h-5"})}),y.jsx("a",{href:"https://x.com/vital_roleplay/",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-black hover:text-white transition-all","aria-label":"X (Twitter)",children:y.jsx(Xz,{className:"w-5 h-5"})}),y.jsx("a",{href:"https://www.youtube.com/@VitalRP",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-red-600 hover:text-white transition-all","aria-label":"YouTube",children:y.jsx(cz,{size:20})}),y.jsx("a",{href:"https://www.instagram.com/vital_roleplay/",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-pink-600 hover:text-white transition-all","aria-label":"Instagram",children:y.jsx(bU,{size:20})}),y.jsx("a",{href:"https://www.tiktok.com/@vitalroleplay_",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-[#00f2ea] hover:text-black transition-all","aria-label":"TikTok",children:y.jsx(Wz,{className:"w-5 h-5"})})]})]})]}),y.jsxs("div",{className:"border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[y.jsxs("div",{className:"flex items-center gap-4 order-2 md:order-1",children:[y.jsxs("p",{className:"text-gray-600 text-xs font-sans",children:[" ",new Date().getFullYear()," Vital Roleplay. Not affiliated with Rockstar Games."]}),a?y.jsx("a",{href:"/admin",className:"text-white/10 hover:text-white transition-colors duration-500","aria-label":"Admin Panel",children:y.jsx(D2,{size:12})}):y.jsx("button",{onClick:()=>s(),className:"text-white/10 hover:text-vital-500 transition-colors duration-500","aria-label":"Admin Access",children:y.jsx(D2,{size:12})})]}),y.jsxs(ge.div,{className:"flex items-center gap-2 order-1 md:order-2 bg-dark-900/50 px-3 py-1.5 rounded-full border border-white/5 hover:border-vital-500/50 transition-colors cursor-pointer select-none group/dev",onClick:()=>n(!e),whileHover:{scale:1.05},whileTap:{scale:.95},children:[y.jsx("span",{className:`text-[10px] font-tech uppercase tracking-widest transition-colors ${e?"text-vital-500 font-bold":"text-gray-500"}`,children:e?"Damon was here":"Created by Damon"}),y.jsx(ge.div,{animate:{rotate:e?180:0},transition:{type:"spring",stiffness:200,damping:10},children:e?y.jsx(uU,{className:"w-5 h-5 text-vital-500"}):y.jsx("img",{src:"https://r2.fivemanage.com/image/hVrQuL5nJWbT.png",alt:"Crown",className:"w-5 h-5 object-contain opacity-70 group-hover/dev:opacity-100 transition-opacity"})})]})]})]})})},Jz=()=>{const[t,e]=M.useState(!1);M.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return y.jsx(Hs,{children:t&&y.jsx(ge.button,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:n,className:"fixed bottom-8 right-8 z-40 p-3 rounded-full bg-vital-600 text-white shadow-[0_0_20px_rgba(249,115,22,0.5)] border border-vital-500 hover:bg-vital-500 transition-colors group","aria-label":"Scroll to top",children:y.jsx(k7,{size:24,className:"group-hover:-translate-y-1 transition-transform duration-300"})})})},eB=()=>{const{scrollYProgress:t}=Hv(),[e,n]=M.useState(!0);M.useEffect(()=>{const c=()=>{n(window.innerWidth<768)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const s=Fa(t,[0,1],[0,-300]),a=Fa(t,[0,1],[0,-600]),l=Fa(t,[0,1],[0,-900]);return e?y.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none bg-dark-950",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] z-10"}),y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[100vw] h-[100vw] bg-vital-900/10 blur-[60px] rounded-full mix-blend-screen"}),y.jsx("div",{className:"absolute top-[60%] right-[-10%] w-[80vw] h-[80vw] bg-vital-800/10 blur-[60px] rounded-full mix-blend-screen"}),y.jsx("div",{className:"absolute top-[20%] left-[20%] w-1 h-1 bg-white/20 rounded-full"}),y.jsx("div",{className:"absolute top-[50%] right-[30%] w-1.5 h-1.5 bg-white/10 rounded-full"}),y.jsx("div",{className:"absolute top-[80%] left-[10%] w-1 h-1 bg-white/20 rounded-full"})]}):y.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none transition-colors duration-700 bg-dark-950",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] z-10"}),y.jsxs(ge.div,{style:{y:s},className:"absolute inset-0",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[800px] h-[800px] bg-vital-900/20 blur-[120px] rounded-full mix-blend-screen transition-colors duration-700"}),y.jsx("div",{className:"absolute top-[60%] right-[-10%] w-[600px] h-[600px] bg-vital-800/10 blur-[120px] rounded-full mix-blend-screen transition-colors duration-700"})]}),y.jsxs(ge.div,{style:{y:a},className:"absolute inset-0",children:[y.jsx("div",{className:"absolute top-[20%] right-[10%] w-64 h-64 bg-vital-500/5 blur-[80px] rounded-full transition-colors duration-700"}),y.jsx("div",{className:"absolute top-[60%] left-[10%] w-96 h-96 bg-vital-400/5 blur-[90px] rounded-full transition-colors duration-700"})]}),y.jsxs(ge.div,{style:{y:l},className:"absolute inset-0",children:[y.jsx("div",{className:"absolute top-[15%] left-[25%] w-1.5 h-1.5 bg-white/10 rounded-full blur-[0.5px]"}),y.jsx("div",{className:"absolute top-[35%] right-[35%] w-1 h-1 bg-vital-500/20 rounded-full transition-colors duration-700"}),y.jsx("div",{className:"absolute top-[55%] left-[15%] w-2 h-2 bg-white/5 rounded-full blur-[1px]"}),y.jsx("div",{className:"absolute top-[75%] right-[15%] w-2 h-2 bg-vital-400/10 rounded-full transition-colors duration-700"}),y.jsx("div",{className:"absolute top-[90%] left-[45%] w-1 h-1 bg-white/10 rounded-full"})]})]})},tB=()=>{const{user:t,isAdmin:e,logout:n,toggleEditMode:s,editMode:a}=Ja();if(!e||!t)return null;const l=t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}`;return y.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100]",children:y.jsxs(ge.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"bg-dark-900/90 backdrop-blur-xl border border-vital-500/30 rounded-full p-2 pl-2 pr-2 shadow-[0_0_30px_rgba(0,0,0,0.5)] flex items-center gap-2 group transition-all hover:border-vital-500/60",children:[y.jsxs(Kc,{to:"/admin",className:"flex items-center gap-3 pl-2 pr-4 py-1.5 hover:bg-white/5 rounded-full transition-colors",children:[y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:l,alt:t.displayName||"Admin",className:"w-8 h-8 rounded-full border border-vital-500"}),y.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-dark-900 rounded-full"})]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-white font-bold text-xs leading-none",children:t.displayName}),y.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),y.jsx("span",{className:"text-[9px] text-emerald-500 font-tech uppercase tracking-wider",children:"Cloud Active"})]})]}),y.jsx(N7,{size:14,className:"text-gray-400 group-hover:text-white group-hover:translate-x-0.5 transition-all"})]}),y.jsx("div",{className:"h-6 w-px bg-white/10"}),y.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-3 py-1.5 rounded-full transition-all border ${a?"bg-vital-500 text-white border-vital-400 shadow-[0_0_10px_rgba(249,115,22,0.4)]":"bg-white/5 text-gray-400 border-transparent hover:bg-white/10 hover:text-white"}`,title:"Toggle Edit Mode",children:[y.jsx(kU,{size:14,className:a?"animate-pulse":""}),y.jsx("span",{className:"text-xs font-bold",children:a?"Editing On":"Edit Mode"})]}),y.jsx("div",{className:"h-6 w-px bg-white/10"}),y.jsx("button",{onClick:n,className:"p-2 rounded-full bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white transition-colors",title:"Logout",children:y.jsx(kC,{size:16})})]})})},nB=({isOpen:t,onClose:e})=>(X0.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),y.jsx(Hs,{children:t&&y.jsxs(y.Fragment,{children:[y.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60]"}),y.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 pointer-events-none",children:y.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5,bounce:.3},className:"w-full max-w-6xl h-[85vh] bg-dark-900 border border-white/10 rounded-2xl overflow-hidden flex flex-col shadow-2xl pointer-events-auto",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5 bg-dark-900 z-10 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-vital-500/10 p-2 rounded-lg text-vital-500",children:y.jsx(Y0,{size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-display font-bold text-white text-lg leading-none",children:"Vital Store"}),y.jsx("p",{className:"text-xs text-gray-500 font-tech uppercase tracking-wider mt-0.5",children:"Secure Checkout"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("a",{href:"https://vitalrp.tebex.io/",target:"_blank",rel:"noreferrer",className:"hidden md:flex items-center gap-2 px-4 py-2 bg-vital-600 hover:bg-vital-500 text-white text-sm font-bold rounded-lg transition-colors shadow-lg shadow-vital-500/20",children:[y.jsx("span",{children:"Open in New Tab"}),y.jsx(I2,{size:14})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:y.jsx(Dl,{size:20})})]})]}),y.jsxs("div",{className:"flex-1 relative bg-dark-950 w-full h-full",children:[y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500 z-0",children:[y.jsx(MC,{size:32,className:"animate-spin mb-4 text-vital-500"}),y.jsx("p",{className:"font-medium text-gray-400",children:"Loading Store Interface..."}),y.jsx("p",{className:"text-sm mt-2 max-w-xs text-center text-gray-600",children:'If the store does not appear shortly, please use the "Open in New Tab" button.'})]}),y.jsx("iframe",{src:"https://vitalrp.tebex.io/",title:"Vital RP Store",className:"absolute inset-0 w-full h-full border-0 z-10 bg-transparent",allow:"payment",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})]}),y.jsx("div",{className:"md:hidden p-4 border-t border-white/5 bg-dark-900 z-10 shrink-0",children:y.jsxs("a",{href:"https://vitalrp.tebex.io/",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-vital-600 text-white font-bold rounded-lg shadow-lg shadow-vital-500/20",children:[y.jsx("span",{children:"Open in New Tab"}),y.jsx(I2,{size:16})]})})]})})]})})),iB=()=>{const[t,e]=M.useState(!1),{scrollYProgress:n}=Hv(),s=b7(n,{stiffness:100,damping:30,restDelta:.001});return y.jsxs("div",{className:"min-h-screen bg-dark-950 text-white selection:bg-vital-500 selection:text-white relative transition-colors duration-700",children:[y.jsx(tB,{}),y.jsx(ge.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-vital-500 to-vital-400 origin-left z-[100]",style:{scaleX:s}}),y.jsx(eB,{}),y.jsx(fz,{onOpenStore:()=>e(!0)}),y.jsxs("main",{className:"relative z-10",children:[y.jsx(pz,{}),y.jsx(_z,{}),y.jsx(Tz,{}),y.jsx(Mz,{}),y.jsx(Pz,{}),y.jsx(Bz,{}),y.jsx(Gz,{}),y.jsx(Kz,{})]}),y.jsx("div",{className:"relative z-10",children:y.jsx(Zz,{onOpenStore:()=>e(!0)})}),y.jsx(nB,{isOpen:t,onClose:()=>e(!1)}),y.jsx(Jz,{})]})},sB=()=>{const{user:t,isAdmin:e,loading:n,logout:s}=Ja();if(n)return y.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:y.jsx("div",{className:"w-8 h-8 border-4 border-vital-500 border-t-transparent rounded-full animate-spin"})});if(!t)return y.jsx(S4,{to:"/",replace:!0});if(!e)return y.jsx("div",{className:"min-h-screen bg-dark-950 flex flex-col items-center justify-center p-4",children:y.jsxs("div",{className:"bg-dark-900 border border-red-500/20 rounded-xl p-8 max-w-md w-full text-center",children:[y.jsx(al,{size:48,className:"text-red-500 mx-auto mb-4"}),y.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"You do not have permission to view the Admin Panel."}),y.jsx("div",{className:"bg-black/30 rounded-lg p-3 mb-6 font-mono text-sm text-gray-300 break-all select-all",children:t.email}),y.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Please provide the email above to an administrator to request access."}),y.jsxs("div",{className:"flex gap-3 justify-center",children:[y.jsx(Kc,{to:"/",className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg text-sm font-medium transition-colors",children:"Go Back"}),y.jsx("button",{onClick:()=>s(),className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded-lg text-sm font-medium transition-colors",children:"Logout"})]})]})});const a=[{icon:wU,label:"Dashboard",path:"/admin"},{icon:lm,label:"Staff Roster",path:"/admin/staff"},{icon:al,label:"User Management",path:"/admin/users"},{icon:xu,label:"Gallery",path:"/admin/gallery"},{icon:al,label:"Rules & FAQ",path:"/admin/rules"},{icon:$U,label:"Settings",path:"/admin/settings"}];return y.jsxs("div",{className:"min-h-screen bg-dark-950 flex font-sans",children:[y.jsxs("aside",{className:"w-64 bg-dark-900 border-r border-white/5 flex flex-col fixed inset-y-0 z-50",children:[y.jsx("div",{className:"p-6 border-b border-white/5",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-vital-500 to-vital-600 rounded-lg flex items-center justify-center font-bold text-white font-display",children:"V"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-white font-display font-bold leading-none",children:"VITAL RP"}),y.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Admin Panel"})]})]})}),y.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:a.map(l=>y.jsxs(Kc,{to:l.path,end:l.path==="/admin",className:({isActive:c})=>`
                flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all
                ${c?"bg-vital-500/10 text-vital-500 border border-vital-500/20":"text-gray-400 hover:bg-white/5 hover:text-white border border-transparent"}
              `,children:[y.jsx(l.icon,{size:18}),l.label]},l.path))}),y.jsxs("div",{className:"p-4 border-t border-white/5 space-y-2",children:[y.jsxs(Kc,{to:"/",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-gray-400 hover:bg-white/5 hover:text-white transition-colors",children:[y.jsx(DC,{size:18}),"Back to Site"]}),y.jsxs("button",{onClick:()=>s(),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-red-400 hover:bg-red-500/10 transition-colors",children:[y.jsx(kC,{size:18}),"Logout"]})]})]}),y.jsx("main",{className:"flex-1 ml-64 p-8",children:y.jsx(A4,{})})]})},rB=()=>{const{user:t}=Ja(),e=[{label:"Active Staff",value:"12",icon:lm,color:"text-blue-500",bg:"bg-blue-500/10"},{label:"Gallery Images",value:"24",icon:xu,color:"text-purple-500",bg:"bg-purple-500/10"},{label:"System Status",value:"Online",icon:R7,color:"text-green-500",bg:"bg-green-500/10"}];return y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h1",{className:"text-2xl font-display font-bold text-white mb-2",children:["Welcome back, ",t==null?void 0:t.displayName]}),y.jsx("p",{className:"text-gray-400",children:"Here's what's happening on Vital RP today."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e.map((n,s)=>y.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"bg-dark-900 border border-white/5 rounded-xl p-6 flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-lg ${n.bg} flex items-center justify-center`,children:y.jsx(n.icon,{size:24,className:n.color})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold text-white",children:n.value}),y.jsx("div",{className:"text-sm text-gray-400",children:n.label})]})]},n.label))}),y.jsxs("div",{className:"bg-dark-900 border border-white/5 rounded-xl p-8 text-center text-gray-500",children:[y.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Quick Actions"}),y.jsx("p",{children:"Select a module from the sidebar to start managing content."})]})]})},Vf=["Owner","Senior Admin","Admin","Senior Mod","Mod","Senior Support","Support","Clothing Dev"],aB=["Management","Administration","Moderation Team","Support Team"],oB=[{label:"Amber (Owner)",value:"amber",bg:"bg-amber-500"},{label:"Red (Admin)",value:"red",bg:"bg-red-500"},{label:"Green (Mod)",value:"green",bg:"bg-emerald-500"},{label:"Blue (Support)",value:"blue",bg:"bg-blue-500"},{label:"Purple (Dev)",value:"purple",bg:"bg-purple-500"},{label:"Yellow",value:"yellow",bg:"bg-yellow-500"}],lB=()=>{const[t,e]=M.useState([]),[n,s]=M.useState(!0),[a,l]=M.useState(!1),[c,f]=M.useState(null),[m,p]=M.useState(!1),v={name:"",role:Vf[0],subRole:"",color:"amber",category:"Management",image:""},[_,x]=M.useState(v);M.useEffect(()=>{E()},[]);const E=async()=>{try{if(!Fe)return;const D=ml(Ya(Fe,"staff")),W=await w0(D),te=[];W.forEach(ae=>{te.push({id:ae.id,...ae.data()})}),te.sort((ae,N)=>{const R={Management:1,Administration:2,"Moderation Team":3,"Support Team":4},k=R[ae.category]||99,L=R[N.category]||99;if(k!==L)return k-L;const U=Vf.indexOf(ae.role),H=Vf.indexOf(N.role);return(U===-1?99:U)-(H===-1?99:H)}),e(te)}catch(D){console.error("Error fetching staff:",D)}finally{s(!1)}},I=D=>{D?(f(D.id),x(D)):(f(null),x(v)),l(!0)},V=D=>{let W=_.color,te=_.category;D==="Owner"?(W="amber",te="Management"):D.includes("Admin")?(W="red",te="Administration"):D.includes("Mod")?(W="green",te="Moderation Team"):D.includes("Support")?(W="blue",te="Support Team"):D==="Clothing Dev"&&(W="purple",te="Moderation Team"),x({..._,role:D,color:W,category:te})},C=async D=>{var te;const W=(te=D.target.files)==null?void 0:te[0];if(!(!W||!ka)){p(!0);try{const ae=`staff-images/${Date.now()}_${W.name}`,N=FA(ka,ae);await zA(N,W);const R=await BA(N);x(k=>({...k,image:R}))}catch(ae){console.error("Error uploading image:",ae),alert("Failed to upload image.")}finally{p(!1)}}},P=async()=>{if(Fe)try{c?await ZV(li(Fe,"staff",c),_):await JV(Ya(Fe,"staff"),_),l(!1),E()}catch(D){console.error("Error saving staff:",D)}},q=async D=>{if(!(!Fe||!window.confirm("Are you sure you want to delete this staff member?")))try{await Ou(li(Fe,"staff",D)),E()}catch(W){console.error("Error deleting staff:",W)}};return y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"Staff Roster"}),y.jsx("p",{className:"text-gray-400",children:"Manage your team structure and permissions."})]}),y.jsxs("button",{onClick:()=>I(),className:"flex items-center gap-2 px-6 py-3 bg-vital-500 text-white rounded-xl hover:bg-vital-600 transition-colors shadow-lg shadow-vital-500/20 font-bold",children:[y.jsx(qv,{size:20}),"Add Staff Member"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(D=>y.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-900 border border-white/5 rounded-2xl p-6 group hover:border-vital-500/30 transition-all relative overflow-hidden",children:[y.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-${D.color==="green"?"emerald":D.color}-500/5 blur-[50px] rounded-full -translate-y-1/2 translate-x-1/2`}),y.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl bg-dark-800 border border-white/10 flex items-center justify-center text-${D.color==="green"?"emerald":D.color}-400 overflow-hidden relative group`,children:D.image?y.jsx("img",{src:D.image,alt:D.name,className:"w-full h-full object-cover"}):y.jsxs(y.Fragment,{children:[D.role==="Owner"&&y.jsx(sm,{size:24}),D.role.includes("Admin")&&y.jsx(al,{size:24}),D.role.includes("Mod")&&y.jsx(am,{size:24}),D.role.includes("Support")&&y.jsx(mU,{size:24}),D.role==="Clothing Dev"&&y.jsx(jC,{size:24})]})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white leading-none",children:D.name}),y.jsx("span",{className:"text-xs text-vital-500 font-medium",children:D.role})]})]}),y.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>I(D),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",children:y.jsx(Bu,{size:16})}),y.jsx("button",{onClick:()=>q(D.id),className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-400 transition-colors",children:y.jsx(om,{size:16})})]})]}),y.jsxs("div",{className:"space-y-2 relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm bg-black/20 p-2 rounded-lg",children:[y.jsx("span",{className:"text-gray-500",children:"Category"}),y.jsx("span",{className:"text-gray-300",children:D.category})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm bg-black/20 p-2 rounded-lg",children:[y.jsx("span",{className:"text-gray-500",children:"Sub-Role / Lead"}),y.jsx("span",{className:"text-gray-300",children:D.subRole||"-"})]})]})]},D.id))}),n&&y.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading staff roster..."}),!n&&t.length===0&&y.jsx("div",{className:"text-center text-gray-500 py-12 bg-dark-900/50 rounded-2xl border border-white/5 border-dashed",children:'No staff members found. Click "Add Staff Member" to get started.'}),y.jsx(Hs,{children:a&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[y.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>l(!1)}),y.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl p-6 w-full max-w-lg shadow-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:c?"Edit Staff Member":"Add New Staff Member"}),y.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-white",children:y.jsx(Dl,{size:20})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(LC,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),y.jsx("input",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 pl-10 pr-4 text-white focus:border-vital-500 focus:outline-none transition-colors",placeholder:"Username",value:_.name,onChange:D=>x({..._,name:D.target.value})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Role"}),y.jsx("select",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 px-3 text-white focus:border-vital-500 focus:outline-none transition-colors appearance-none",value:_.role,onChange:D=>V(D.target.value),children:Vf.map(D=>y.jsx("option",{value:D,children:D},D))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Category"}),y.jsx("select",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 px-3 text-white focus:border-vital-500 focus:outline-none transition-colors appearance-none",value:_.category,onChange:D=>x({..._,category:D.target.value}),children:aB.map(D=>y.jsx("option",{value:D,children:D},D))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Sub-Role / Lead Title"}),y.jsxs("div",{className:"relative",children:[y.jsx(IC,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:16}),y.jsx("input",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-2 pl-10 pr-4 text-white focus:border-vital-500 focus:outline-none transition-colors",placeholder:"e.g. IFM Lead, Clothing Dev, Rules Team",value:_.subRole,onChange:D=>x({..._,subRole:D.target.value})})]}),y.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Leave empty if not a lead or specialized role."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-2",children:"Profile Image"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-xl bg-dark-950 border border-white/10 flex items-center justify-center overflow-hidden shrink-0",children:_.image?y.jsx("img",{src:_.image,alt:"Preview",className:"w-full h-full object-cover"}):y.jsx(xu,{className:"text-gray-600",size:24})}),y.jsxs("div",{className:"flex-1 space-y-2",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"file",onChange:C,accept:"image/*",disabled:m,className:"hidden",id:"image-upload"}),y.jsxs("label",{htmlFor:"image-upload",className:`flex items-center justify-center gap-2 w-full py-2 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 rounded-lg cursor-pointer transition-all ${m?"opacity-50 cursor-wait":""}`,children:[m?y.jsx(MC,{size:16,className:"animate-spin text-vital-500"}):y.jsx(PC,{size:16,className:"text-vital-500"}),y.jsx("span",{className:"text-sm text-gray-300",children:m?"Uploading...":"Browse File"})]})]}),y.jsx("input",{className:"w-full bg-dark-950 border border-white/10 rounded-lg py-1.5 px-3 text-xs text-gray-400 focus:text-white focus:border-vital-500 focus:outline-none transition-colors",placeholder:"Or paste image URL...",value:_.image||"",onChange:D=>x({..._,image:D.target.value})})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-2",children:"Card Accent Color"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:oB.map(D=>y.jsxs("button",{onClick:()=>x({..._,color:D.value}),className:`h-8 px-3 rounded-lg border text-xs font-medium transition-all ${_.color===D.value?"border-white bg-white/10 text-white":"border-transparent bg-dark-950 text-gray-500 hover:text-white"}`,children:[y.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${D.bg}`}),D.label]},D.value))})]})]}),y.jsxs("div",{className:"flex gap-3 mt-8",children:[y.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsxs("button",{onClick:P,className:"flex-1 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center justify-center gap-2",disabled:m,children:[y.jsx(rm,{size:18}),"Save Staff Member"]})]})]})]})})]})},Kg=[{value:"superadmin",label:"Super Admin",description:"Full access to all settings and user management.",color:"amber",icon:sm},{value:"admin",label:"Administrator",description:"Manage content, staff, and moderate the site.",color:"red",icon:am},{value:"editor",label:"Editor",description:"Can edit existing content but cannot manage users.",color:"blue",icon:rU},{value:"user",label:"User",description:"Standard access. No admin panel permissions.",color:"gray",icon:LC}],cB=()=>{var V;const{user:t}=Ja(),[e,n]=M.useState([]),[s,a]=M.useState(!0),[l,c]=M.useState(!1),[f,m]=M.useState(null),[p,v]=M.useState({role:"user"});M.useEffect(()=>{_()},[]);const _=async()=>{if(Fe)try{const C=ml(Ya(Fe,"users"),_A("lastLogin","desc")),P=await w0(C),q=[];P.forEach(D=>q.push({id:D.id,...D.data()})),n(q)}catch(C){console.error("Error fetching users with orderBy:",C);try{const P=ml(Ya(Fe,"users")),q=await w0(P),D=[];q.forEach(W=>D.push({id:W.id,...W.data()})),n(D)}catch(P){console.error("Retry failed",P)}}finally{a(!1)}},x=C=>{m(C),v({role:C.role||"user"}),c(!0)},E=async()=>{if(!(!Fe||!f))try{await pl(li(Fe,"users",f.id),{role:p.role},{merge:!0}),c(!1),_()}catch(C){console.error("Error saving user:",C),alert("Failed to save user.")}},I=async C=>{if(!(!Fe||!window.confirm("Are you sure you want to delete this user? They will lose all data and access.")))try{await Ou(li(Fe,"users",C)),_()}catch(P){console.error("Error deleting user:",P)}};return y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"User Management"}),y.jsx("p",{className:"text-gray-400",children:"Manage permissions for registered users."}),y.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Users are automatically added here when they log in via Google. You can then assign them roles."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(C=>{var D;let P=C.role;P==="owner"&&(P="superadmin");const q=Kg.find(W=>W.value===P)||Kg[3];return y.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-dark-900 border border-white/5 rounded-2xl p-6 relative group hover:border-vital-500/30 transition-all",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 border border-white/10 flex items-center justify-center text-white font-bold overflow-hidden",children:C.photoURL?y.jsx("img",{src:C.photoURL,alt:C.displayName,className:"w-full h-full object-cover"}):((D=C.displayName)==null?void 0:D[0])||C.email[0].toUpperCase()}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("h3",{className:"text-lg font-bold text-white truncate",children:C.displayName||"User"}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:C.email})]})]}),y.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>x(C),className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors",title:"Edit Role",children:y.jsx(Bu,{size:16})}),y.jsx("button",{onClick:()=>I(C.id),className:"p-2 hover:bg-red-500/10 rounded-lg text-gray-400 hover:text-red-400 transition-colors",title:"Delete User",children:y.jsx(om,{size:16})})]})]}),y.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium bg-${q.color}-500/10 text-${q.color}-400 border border-${q.color}-500/20`,children:[y.jsx(q.icon,{size:12}),q.label]})]},C.id)})}),s&&y.jsx("div",{className:"text-center text-gray-500 py-12",children:"Loading users..."}),y.jsx(Hs,{children:l&&f&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[y.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>c(!1)}),y.jsxs(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-dark-900 border border-white/10 rounded-2xl p-6 w-full max-w-xl shadow-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Permissions"}),y.jsx("p",{className:"text-sm text-gray-400",children:"Assign a role to determine access level."})]}),y.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-white transition-colors",children:y.jsx(Dl,{size:24})})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white/5 rounded-xl p-4 flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 border border-white/10 flex items-center justify-center text-white font-bold overflow-hidden text-lg",children:f.photoURL?y.jsx("img",{src:f.photoURL,alt:f.displayName,className:"w-full h-full object-cover"}):((V=f.displayName)==null?void 0:V[0])||f.email[0].toUpperCase()}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-bold text-lg",children:f.displayName||"Unknown User"}),y.jsx("p",{className:"text-sm text-gray-400",children:f.email})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-3",children:"Select Role"}),y.jsx("div",{className:"grid grid-cols-1 gap-3",children:Kg.map(C=>y.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all ${p.role===C.value?`bg-${C.color}-500/10 border-${C.color}-500/50 shadow-[0_0_15px_rgba(0,0,0,0.2)]`:"bg-dark-950 border-white/5 hover:border-white/10 hover:bg-white/5"}`,children:[y.jsx("input",{type:"radio",name:"role",value:C.value,checked:p.role===C.value,onChange:P=>v({...p,role:P.target.value}),className:"hidden"}),y.jsx("div",{className:`mt-0.5 w-5 h-5 rounded-full border flex items-center justify-center shrink-0 ${p.role===C.value?`border-${C.color}-500`:"border-gray-600"}`,children:p.role===C.value&&y.jsx("div",{className:`w-2.5 h-2.5 bg-${C.color}-500 rounded-full`})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(C.icon,{size:16,className:p.role===C.value?`text-${C.color}-400`:"text-gray-400"}),y.jsx("span",{className:`text-sm font-bold ${p.role===C.value?"text-white":"text-gray-300"}`,children:C.label})]}),y.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:C.description})]})]},C.value))})]})]}),y.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t border-white/5",children:[y.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2.5 bg-white/5 text-white rounded-xl font-medium hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsxs("button",{onClick:E,className:"flex-1 py-2.5 bg-vital-500 text-white rounded-xl font-bold hover:bg-vital-600 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-vital-500/20",children:[y.jsx(rm,{size:18}),"Save Changes"]})]})]})]})})]})},uB=()=>{const[t,e]=M.useState([]),[n,s]=M.useState(!0),[a,l]=M.useState(""),[c,f]=M.useState(null),[m,p]=M.useState(!1);M.useEffect(()=>{if(!Fe){s(!1);return}const I=ml(Ya(Fe,"gallery")),V=sv(I,C=>{const P=[];C.forEach(q=>{P.push({id:q.id,...q.data()})}),P.sort((q,D)=>{const W=parseInt(q.id),te=parseInt(D.id);return!isNaN(W)&&!isNaN(te)?W-te:q.id.localeCompare(D.id)}),e(P),s(!1)});return()=>V()},[]);const v=async I=>{if(!Fe)return;let V=c==null?void 0:c.id;if(m&&(V=(t.reduce((q,D)=>{const W=parseInt(D.id);return!isNaN(W)&&W>q?W:q},0)+1).toString()),!V)return;const C=li(Fe,"gallery",V);await pl(C,{title:I.title||"",location:I.location||"",category:I.category||"",src:I.src||"",size:I.size||"small"},{merge:!0}),p(!1)},_=async()=>{!Fe||!(c!=null&&c.id)||(await Ou(li(Fe,"gallery",c.id)),f(null))},x=()=>{p(!0),f({id:"",title:"",location:"",category:"",src:"",size:"small"})},E=t.filter(I=>I.title.toLowerCase().includes(a.toLowerCase())||I.location.toLowerCase().includes(a.toLowerCase())||I.category.toLowerCase().includes(a.toLowerCase()));return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-display font-bold text-white mb-2",children:"Gallery Manager"}),y.jsx("p",{className:"text-gray-400",children:"Manage photos, screenshots, and artwork displayed in the gallery."})]}),y.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-vital-500 hover:bg-vital-600 text-white rounded-lg font-bold transition-colors shadow-lg shadow-vital-500/20",children:[y.jsx(qv,{size:18}),"Add New Photo"]})]}),y.jsx("div",{className:"flex gap-4 bg-dark-900/50 p-4 rounded-xl border border-white/5",children:y.jsxs("div",{className:"relative flex-1 max-w-md",children:[y.jsx(qU,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),y.jsx("input",{type:"text",value:a,onChange:I=>l(I.target.value),placeholder:"Search gallery...",className:"w-full bg-dark-950 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-white focus:border-vital-500 outline-none transition-colors"})]})}),n?y.jsx("div",{className:"py-20 text-center text-gray-500",children:"Loading gallery..."}):E.length===0?y.jsxs("div",{className:"py-20 text-center text-gray-500 bg-dark-900/50 rounded-xl border border-white/5 border-dashed",children:[y.jsx(xu,{className:"mx-auto mb-4 opacity-50",size:48}),y.jsx("p",{children:"No gallery items found."})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(I=>y.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group relative bg-dark-900 rounded-xl overflow-hidden border border-white/5 hover:border-vital-500/50 transition-all",children:[y.jsxs("div",{className:"aspect-video relative overflow-hidden bg-dark-950",children:[I.src?y.jsx("img",{src:I.src,alt:I.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:y.jsx(xu,{size:32})}),y.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:y.jsx("button",{onClick:()=>{p(!1),f(I)},className:"p-2 bg-black/50 text-white rounded-lg border border-white/20 hover:bg-vital-500 hover:border-vital-500 transition-all backdrop-blur-sm",title:"Edit",children:y.jsx(Bu,{size:18})})}),y.jsx("div",{className:"absolute top-2 left-2 flex gap-2",children:y.jsx("span",{className:"px-2 py-0.5 bg-black/60 backdrop-blur rounded text-[10px] uppercase font-bold text-white border border-white/10",children:I.size})})]}),y.jsxs("div",{className:"p-4",children:[y.jsx("div",{className:"flex justify-between items-start mb-2",children:y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white truncate pr-2",title:I.title,children:I.title||"Untitled"}),y.jsx("p",{className:"text-vital-500 text-xs font-bold uppercase tracking-wider",children:I.category})]})}),y.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400 text-sm mt-3",children:[y.jsx(VC,{size:14}),y.jsx("span",{className:"truncate",children:I.location||"Unknown Location"})]})]})]},I.id))}),c&&y.jsx(UC,{isOpen:!!c,onClose:()=>f(null),onSave:v,onDelete:m?void 0:_,initialData:c})]})};function hB(){return y.jsx(mj,{children:y.jsx(Z4,{children:y.jsxs(C4,{children:[y.jsx(Ra,{path:"/",element:y.jsx(iB,{})}),y.jsxs(Ra,{path:"/admin",element:y.jsx(sB,{}),children:[y.jsx(Ra,{index:!0,element:y.jsx(rB,{})}),y.jsx(Ra,{path:"staff",element:y.jsx(lB,{})}),y.jsx(Ra,{path:"users",element:y.jsx(cB,{})}),y.jsx(Ra,{path:"gallery",element:y.jsx(uB,{})})]})]})})})}const zC=document.getElementById("root");if(!zC)throw new Error("Could not find root element to mount to");const fB=R5.createRoot(zC);fB.render(y.jsx(X0.StrictMode,{children:y.jsx(hB,{})}));

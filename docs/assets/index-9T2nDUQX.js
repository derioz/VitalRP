(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function vT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mp={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function v2(){if(ib)return Wl;ib=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Wl.Fragment=e,Wl.jsx=n,Wl.jsxs=n,Wl}var sb;function _2(){return sb||(sb=1,Mp.exports=v2()),Mp.exports}var w=_2(),jp={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function b2(){if(rb)return Ee;rb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,P={};function $(U,te,le){this.props=U,this.context=te,this.refs=P,this.updater=le||O}$.prototype.isReactComponent={},$.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},$.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Y(){}Y.prototype=$.prototype;function B(U,te,le){this.props=U,this.context=te,this.refs=P,this.updater=le||O}var Z=B.prototype=new Y;Z.constructor=B,I(Z,$.prototype),Z.isPureReactComponent=!0;var se=Array.isArray;function ie(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(U,te,le){var ue=le.ref;return{$$typeof:t,type:U,key:te,ref:ue!==void 0?ue:null,props:le}}function j(U,te){return N(U.type,te,U.props)}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return te[le]})}var k=/\/+/g;function tt(U,te){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):te.toString(36)}function dt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ie,ie):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,te,le,ue,Te){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var Le=!1;if(U===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(U.$$typeof){case t:case e:Le=!0;break;case y:return Le=U._init,W(Le(U._payload),te,le,ue,Te)}}if(Le)return Te=Te(U),Le=ue===""?"."+tt(U,0):ue,se(Te)?(le="",Le!=null&&(le=Le.replace(k,"$&/")+"/"),W(Te,te,le,"",function(wr){return wr})):Te!=null&&(M(Te)&&(Te=j(Te,le+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(k,"$&/")+"/")+Le)),te.push(Te)),1;Le=0;var jt=ue===""?".":ue+":";if(se(U))for(var ot=0;ot<U.length;ot++)ue=U[ot],Ce=jt+tt(ue,ot),Le+=W(ue,te,le,Ce,Te);else if(ot=A(U),typeof ot=="function")for(U=ot.call(U),ot=0;!(ue=U.next()).done;)ue=ue.value,Ce=jt+tt(ue,ot++),Le+=W(ue,te,le,Ce,Te);else if(Ce==="object"){if(typeof U.then=="function")return W(dt(U),te,le,ue,Te);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(U,te,le){if(U==null)return U;var ue=[],Te=0;return W(U,ue,"","",function(Ce){return te.call(le,Ce,Te++)}),ue}function ce(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Re=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Me={map:ae,forEach:function(U,te,le){ae(U,function(){te.apply(this,arguments)},le)},count:function(U){var te=0;return ae(U,function(){te++}),te},toArray:function(U){return ae(U,function(te){return te})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ee.Activity=_,Ee.Children=Me,Ee.Component=$,Ee.Fragment=n,Ee.Profiler=a,Ee.PureComponent=B,Ee.StrictMode=s,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},Ee.cache=function(U){return function(){return U.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(U,te,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ue=I({},U.props),Te=U.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!R.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=le;else if(1<Ce){for(var Le=Array(Ce),jt=0;jt<Ce;jt++)Le[jt]=arguments[jt+2];ue.children=Le}return N(U.type,Te,ue)},Ee.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ee.createElement=function(U,te,le){var ue,Te={},Ce=null;if(te!=null)for(ue in te.key!==void 0&&(Ce=""+te.key),te)R.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=te[ue]);var Le=arguments.length-2;if(Le===1)Te.children=le;else if(1<Le){for(var jt=Array(Le),ot=0;ot<Le;ot++)jt[ot]=arguments[ot+2];Te.children=jt}if(U&&U.defaultProps)for(ue in Le=U.defaultProps,Le)Te[ue]===void 0&&(Te[ue]=Le[ue]);return N(U,Ce,Te)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(U){return{$$typeof:d,render:U}},Ee.isValidElement=M,Ee.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ce}},Ee.memo=function(U,te){return{$$typeof:g,type:U,compare:te===void 0?null:te}},Ee.startTransition=function(U){var te=C.T,le={};C.T=le;try{var ue=U(),Te=C.S;Te!==null&&Te(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ie,Re)}catch(Ce){Re(Ce)}finally{te!==null&&le.types!==null&&(te.types=le.types),C.T=te}},Ee.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ee.use=function(U){return C.H.use(U)},Ee.useActionState=function(U,te,le){return C.H.useActionState(U,te,le)},Ee.useCallback=function(U,te){return C.H.useCallback(U,te)},Ee.useContext=function(U){return C.H.useContext(U)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(U,te){return C.H.useDeferredValue(U,te)},Ee.useEffect=function(U,te){return C.H.useEffect(U,te)},Ee.useEffectEvent=function(U){return C.H.useEffectEvent(U)},Ee.useId=function(){return C.H.useId()},Ee.useImperativeHandle=function(U,te,le){return C.H.useImperativeHandle(U,te,le)},Ee.useInsertionEffect=function(U,te){return C.H.useInsertionEffect(U,te)},Ee.useLayoutEffect=function(U,te){return C.H.useLayoutEffect(U,te)},Ee.useMemo=function(U,te){return C.H.useMemo(U,te)},Ee.useOptimistic=function(U,te){return C.H.useOptimistic(U,te)},Ee.useReducer=function(U,te,le){return C.H.useReducer(U,te,le)},Ee.useRef=function(U){return C.H.useRef(U)},Ee.useState=function(U){return C.H.useState(U)},Ee.useSyncExternalStore=function(U,te,le){return C.H.useSyncExternalStore(U,te,le)},Ee.useTransition=function(){return C.H.useTransition()},Ee.version="19.2.3",Ee}var ab;function Sg(){return ab||(ab=1,jp.exports=b2()),jp.exports}var ne=Sg();const _T=vT(ne);var Vp={exports:{}},Jl={},Pp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function w2(){return ob||(ob=1,(function(t){function e(W,ae){var ce=W.length;W.push(ae);e:for(;0<ce;){var Re=ce-1>>>1,Me=W[Re];if(0<a(Me,ae))W[Re]=ae,W[ce]=Me,ce=Re;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],ce=W.pop();if(ce!==ae){W[0]=ce;e:for(var Re=0,Me=W.length,U=Me>>>1;Re<U;){var te=2*(Re+1)-1,le=W[te],ue=te+1,Te=W[ue];if(0>a(le,ce))ue<Me&&0>a(Te,le)?(W[Re]=Te,W[ue]=ce,Re=ue):(W[Re]=le,W[te]=ce,Re=te);else if(ue<Me&&0>a(Te,ce))W[Re]=Te,W[ue]=ce,Re=ue;else break e}}return ae}function a(W,ae){var ce=W.sortIndex-ae.sortIndex;return ce!==0?ce:W.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,_=null,E=3,A=!1,O=!1,I=!1,P=!1,$=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Z(W){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function se(W){if(I=!1,Z(W),!O)if(n(p)!==null)O=!0,ie||(ie=!0,z());else{var ae=n(g);ae!==null&&dt(se,ae.startTime-W)}}var ie=!1,C=-1,R=5,N=-1;function j(){return P?!0:!(t.unstable_now()-N<R)}function M(){if(P=!1,ie){var W=t.unstable_now();N=W;var ae=!0;try{e:{O=!1,I&&(I=!1,Y(C),C=-1),A=!0;var ce=E;try{t:{for(Z(W),_=n(p);_!==null&&!(_.expirationTime>W&&j());){var Re=_.callback;if(typeof Re=="function"){_.callback=null,E=_.priorityLevel;var Me=Re(_.expirationTime<=W);if(W=t.unstable_now(),typeof Me=="function"){_.callback=Me,Z(W),ae=!0;break t}_===n(p)&&s(p),Z(W)}else s(p);_=n(p)}if(_!==null)ae=!0;else{var U=n(g);U!==null&&dt(se,U.startTime-W),ae=!1}}break e}finally{_=null,E=ce,A=!1}ae=void 0}}finally{ae?z():ie=!1}}}var z;if(typeof B=="function")z=function(){B(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,tt=k.port2;k.port1.onmessage=M,z=function(){tt.postMessage(null)}}else z=function(){$(M,0)};function dt(W,ae){C=$(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var ce=E;E=ae;try{return W()}finally{E=ce}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=E;E=W;try{return ae()}finally{E=ce}},t.unstable_scheduleCallback=function(W,ae,ce){var Re=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Re+ce:Re):ce=Re,W){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ce+Me,W={id:y++,callback:ae,priorityLevel:W,startTime:ce,expirationTime:Me,sortIndex:-1},ce>Re?(W.sortIndex=ce,e(g,W),n(p)===null&&W===n(g)&&(I?(Y(C),C=-1):I=!0,dt(se,ce-Re))):(W.sortIndex=Me,e(p,W),O||A||(O=!0,ie||(ie=!0,z()))),W},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(W){var ae=E;return function(){var ce=E;E=ae;try{return W.apply(this,arguments)}finally{E=ce}}}})(Up)),Up}var lb;function T2(){return lb||(lb=1,Pp.exports=w2()),Pp.exports}var Lp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function E2(){if(ub)return an;ub=1;var t=Sg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,y)},an.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&s.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.3",an}var cb;function S2(){if(cb)return Lp.exports;cb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=E2(),Lp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function x2(){if(hb)return Jl;hb=1;var t=T2(),e=Sg(),n=S2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),i;if(m===u)return p(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,u=m;break}if(S===u){b=!0,u=f,o=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===o){b=!0,o=m,u=f;break}if(S===u){b=!0,u=m,o=f;break}S=S.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function tt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case $:return"Profiler";case P:return"StrictMode";case se:return"Suspense";case ie:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case B:return i.displayName||"Context";case Y:return(i._context.displayName||"Context")+".Consumer";case Z:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:tt(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return tt(i(r))}catch{}}return null}var dt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Re=[],Me=-1;function U(i){return{current:i}}function te(i){0>Me||(i.current=Re[Me],Re[Me]=null,Me--)}function le(i,r){Me++,Re[Me]=i.current,i.current=r}var ue=U(null),Te=U(null),Ce=U(null),Le=U(null);function jt(i,r){switch(le(Ce,r),le(Te,i),le(ue,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?A_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=A_(r),i=R_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(ue),le(ue,i)}function ot(){te(ue),te(Te),te(Ce)}function wr(i){i.memoizedState!==null&&le(Le,i);var r=ue.current,o=R_(r,i.type);r!==o&&(le(Te,i),le(ue,o))}function wa(i){Te.current===i&&(te(ue),te(Te)),Le.current===i&&(te(Le),Kl._currentValue=ce)}var Ta,Ea;function xi(i){if(Ta===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ta=r&&r[1]||"",Ea=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+i+Ea}var Ko=!1;function Tr(i,r){if(!i||Ko)return"";Ko=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(X){var G=X}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(X){G=X}i.call(ee.prototype)}}else{try{throw Error()}catch(X){G=X}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var D=b.split(`
`),F=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===F.length)for(u=D.length-1,f=F.length-1;1<=u&&0<=f&&D[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==F[f]){var Q=`
`+D[u].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=u&&0<=f);break}}}finally{Ko=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?xi(o):""}function Yo(i,r){switch(i.tag){case 26:case 27:case 5:return xi(i.type);case 16:return xi("Lazy");case 13:return i.child!==r&&r!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Tr(i.type,!1);case 11:return Tr(i.type.render,!1);case 1:return Tr(i.type,!0);case 31:return xi("Activity");default:return""}}function Xo(i){try{var r="",o=null;do r+=Yo(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=t.unstable_scheduleCallback,Ns=t.unstable_cancelCallback,jd=t.unstable_shouldYield,Ku=t.unstable_requestPaint,un=t.unstable_now,Er=t.unstable_getCurrentPriorityLevel,Qo=t.unstable_ImmediatePriority,Wo=t.unstable_UserBlockingPriority,Os=t.unstable_NormalPriority,Vd=t.unstable_LowPriority,Yu=t.unstable_IdlePriority,Xu=t.log,Qu=t.unstable_setDisableYieldValue,ni=null,Xt=null;function zn(i){if(typeof Xu=="function"&&Qu(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ni,i)}catch{}}var vt=Math.clz32?Math.clz32:Ju,Wu=Math.log,Sa=Math.LN2;function Ju(i){return i>>>=0,i===0?32:31-(Wu(i)/Sa|0)|0}var Ai=256,Sr=262144,Et=4194304;function Ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ci(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=Ri(u):(b&=S,b!==0?f=Ri(b):o||(o=S&~i,o!==0&&(f=Ri(o))))):(S=u&~m,S!==0?f=Ri(S):b!==0?f=Ri(b):o||(o=u&~i,o!==0&&(f=Ri(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function ii(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Pd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var i=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),i}function Ni(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function xr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ud(i,r,o,u,f,m){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,D=i.expirationTimes,F=i.hiddenUpdates;for(o=b&~o;0<o;){var Q=31-vt(o),ee=1<<Q;S[Q]=0,D[Q]=-1;var G=F[Q];if(G!==null)for(F[Q]=null,Q=0;Q<G.length;Q++){var X=G[Q];X!==null&&(X.lane&=-536870913)}o&=~ee}u!==0&&Ar(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(b&~r))}function Ar(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-vt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Jo(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-vt(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Zo(i,r){var o=r&-r;return o=(o&42)!==0?1:Rr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ec(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:Q_(i.type))}function si(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var ri=Math.random().toString(36).slice(2),St="__reactFiber$"+ri,Bt="__reactProps$"+ri,Oi="__reactContainer$"+ri,xa="__reactEvents$"+ri,Ld="__reactListeners$"+ri,tc="__reactHandles$"+ri,nc="__reactResources$"+ri,ki="__reactMarker$"+ri;function Aa(i){delete i[St],delete i[Bt],delete i[xa],delete i[Ld],delete i[tc]}function Di(i){var r=i[St];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Oi]||o[St]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=M_(i);i!==null;){if(o=i[St])return o;i=M_(i)}return r}i=o,o=i.parentNode}return null}function Bn(i){if(i=i[St]||i[Oi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function xn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ii(i){var r=i[nc];return r||(r=i[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(i){i[ki]=!0}var el=new Set,tl={};function Mi(i,r){ji(i,r),ji(i+"Capture",r)}function ji(i,r){for(tl[i]=r,i=0;i<r.length;i++)el.add(r[i])}var nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},sl={};function ic(i){return Tt.call(sl,i)?!0:Tt.call(il,i)?!1:nl.test(i)?sl[i]=!0:(il[i]=!0,!1)}function Ra(i,r,o){if(ic(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function An(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function At(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ks(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,m.call(this,b)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ye(i){if(!i._valueTracker){var r=ks(i)?"checked":"value";i._valueTracker=rl(i,r,""+i[r])}}function Cr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ks(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nr=/[\n"\\]/g;function pn(i){return i.replace(Nr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ca(i,r,o,u,f,m,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$t(r)):i.value!==""+$t(r)&&(i.value=""+$t(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?al(i,b,$t(r)):o!=null?al(i,b,$t(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+$t(S):i.removeAttribute("name")}function sc(i,r,o,u,f,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Ye(i);return}o=o!=null?""+$t(o):"",r=r!=null?""+$t(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Ye(i)}function al(i,r,o){r==="number"&&Vi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ds(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+$t(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function rc(i,r,o){if(r!=null&&(r=""+$t(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+$t(o):""}function Is(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(dt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=$t(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Ye(i)}function mn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ac.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ll(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&ol(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&ol(i,m,r[m])}function Na(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(i){return Ms.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var ul=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var js=null,Pi=null;function Or(i){var r=Bn(i);if(r&&(i=r.stateNode)){var o=i[Bt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ca(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Bt]||null;if(!f)throw Error(s(90));Ca(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Cr(u)}break e;case"textarea":rc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ds(i,!!o.multiple,r,!1)}}}var ka=!1;function Vs(i,r,o){if(ka)return i(r,o);ka=!0;try{var u=i(r);return u}finally{if(ka=!1,(js!==null||Pi!==null)&&(eh(),js&&(r=js,i=Pi,Pi=js=null,Or(r),i)))for(r=0;r<i.length;r++)Or(i[r])}}function oi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Bt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(qn)try{var We={};Object.defineProperty(We,"passive",{get:function(){kr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{kr=!1}var Ui=null,cl=null,Dr=null;function hl(){if(Dr)return Dr;var i,r=cl,o=r.length,u,f="value"in Ui?Ui.value:Ui.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[m-u];u++);return Dr=f.slice(i,1<u?1-u:void 0)}function Ir(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function li(){return!1}function Qt(i){function r(o,u,f,m,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ss:li,this.isPropagationStopped=li,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Qt(rs),Ps=_({},rs,{view:0,detail:0}),dl=Qt(Ps),Us,Da,zi,Ia=_({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(Us=i.screenX-zi.screenX,Da=i.screenY-zi.screenY):Da=Us=0,zi=i),Us)},movementY:function(i){return"movementY"in i?i.movementY:Da}}),fl=Qt(Ia),Mr=_({},Ia,{dataTransfer:0}),lc=Qt(Mr),uc=_({},Ps,{relatedTarget:0}),jr=Qt(uc),pl=_({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=Qt(pl),Ma=_({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hc=Qt(Ma),dc=_({},rs,{data:0}),Bi=Qt(dc),fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=mc[i])?!!r[i]:!1}function Ls(){return gc}var cn=_({},Ps,{key:function(i){if(i.key){var r=fc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ir(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(i){return i.type==="keypress"?Ir(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ir(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yc=Qt(cn),vc=_({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Qt(vc),h=_({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),v=Qt(h),T=_({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Qt(T),q=_({},Ia,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Qt(q),oe=_({},rs,{newState:0,oldState:0}),Se=Qt(oe),_t=[9,13,27,32],qe=qn&&"CompositionEvent"in window,lt=null;qn&&"documentMode"in document&&(lt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!lt,$i=qn&&(!qe||lt&&8<lt&&11>=lt),ui=" ",ci=!1;function Vr(i,r){switch(i){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Va=!1;function $x(i,r){switch(i){case"compositionend":return ja(r);case"keypress":return r.which!==32?null:(ci=!0,ui);case"textInput":return i=r.data,i===ui&&ci?null:i;default:return null}}function qx(i,r){if(Va)return i==="compositionend"||!qe&&Vr(i,r)?(i=hl(),Dr=cl=Ui=null,Va=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $i&&r.locale!=="ko"?null:r.data;default:return null}}var Hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Hx[i.type]:r==="textarea"}function U0(i,r,o,u){js?Pi?Pi.push(u):Pi=[u]:js=u,r=oh(r,"onChange"),0<r.length&&(o=new Li("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ml=null,gl=null;function Fx(i){b_(i,0)}function _c(i){var r=xn(i);if(Cr(r))return i}function L0(i,r){if(i==="change")return r}var z0=!1;if(qn){var zd;if(qn){var Bd="oninput"in document;if(!Bd){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),Bd=typeof B0.oninput=="function"}zd=Bd}else zd=!1;z0=zd&&(!document.documentMode||9<document.documentMode)}function $0(){ml&&(ml.detachEvent("onpropertychange",q0),gl=ml=null)}function q0(i){if(i.propertyName==="value"&&_c(gl)){var r=[];U0(r,gl,i,$n(i)),Vs(Fx,r)}}function Gx(i,r,o){i==="focusin"?($0(),ml=r,gl=o,ml.attachEvent("onpropertychange",q0)):i==="focusout"&&$0()}function Kx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _c(gl)}function Yx(i,r){if(i==="click")return _c(r)}function Xx(i,r){if(i==="input"||i==="change")return _c(r)}function Qx(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:Qx;function yl(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Tt.call(r,f)||!Rn(i[f],r[f]))return!1}return!0}function H0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function F0(i,r){var o=H0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=H0(o)}}function G0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?G0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function K0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Vi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Vi(i.document)}return r}function $d(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Wx=qn&&"documentMode"in document&&11>=document.documentMode,Pa=null,qd=null,vl=null,Hd=!1;function Y0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Hd||Pa==null||Pa!==Vi(u)||(u=Pa,"selectionStart"in u&&$d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vl&&yl(vl,u)||(vl=u,u=oh(qd,"onSelect"),0<u.length&&(r=new Li("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Pa)))}function Pr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ua={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Fd={},X0={};qn&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Ur(i){if(Fd[i])return Fd[i];if(!Ua[i])return i;var r=Ua[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in X0)return Fd[i]=r[o];return i}var Q0=Ur("animationend"),W0=Ur("animationiteration"),J0=Ur("animationstart"),Jx=Ur("transitionrun"),Zx=Ur("transitionstart"),eA=Ur("transitioncancel"),Z0=Ur("transitionend"),ey=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function hi(i,r){ey.set(i,r),Mi(r,[i])}var bc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Fn=[],La=0,Kd=0;function wc(){for(var i=La,r=Kd=La=0;r<i;){var o=Fn[r];Fn[r++]=null;var u=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var m=Fn[r];if(Fn[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}m!==0&&ty(o,f,m)}}function Tc(i,r,o,u){Fn[La++]=i,Fn[La++]=r,Fn[La++]=o,Fn[La++]=u,Kd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Yd(i,r,o,u){return Tc(i,r,o,u),Ec(i)}function Lr(i,r){return Tc(i,null,null,r),Ec(i)}function ty(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-vt(o),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function Ec(i){if(50<zl)throw zl=0,sp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var za={};function tA(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,r,o,u){return new tA(i,r,o,u)}function Xd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,r){var o=i.alternate;return o===null?(o=Cn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ny(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Sc(i,r,o,u,f,m){var b=0;if(u=i,typeof i=="function")Xd(i)&&(b=1);else if(typeof i=="string")b=a2(i,o,ue.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Cn(31,o,r,f),i.elementType=N,i.lanes=m,i;case I:return zr(o.children,f,m,r);case P:b=8,f|=24;break;case $:return i=Cn(12,o,r,f|2),i.elementType=$,i.lanes=m,i;case se:return i=Cn(13,o,r,f),i.elementType=se,i.lanes=m,i;case ie:return i=Cn(19,o,r,f),i.elementType=ie,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:b=10;break e;case Y:b=9;break e;case Z:b=11;break e;case C:b=14;break e;case R:b=16,u=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Cn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function zr(i,r,o,u){return i=Cn(7,i,u,r),i.lanes=o,i}function Qd(i,r,o){return i=Cn(6,i,null,r),i.lanes=o,i}function iy(i){var r=Cn(18,null,null,0);return r.stateNode=i,r}function Wd(i,r,o){return r=Cn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var sy=new WeakMap;function Gn(i,r){if(typeof i=="object"&&i!==null){var o=sy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Xo(r)},sy.set(i,r),r)}return{value:i,source:r,stack:Xo(r)}}var Ba=[],$a=0,xc=null,_l=0,Kn=[],Yn=0,zs=null,qi=1,Hi="";function ls(i,r){Ba[$a++]=_l,Ba[$a++]=xc,xc=i,_l=r}function ry(i,r,o){Kn[Yn++]=qi,Kn[Yn++]=Hi,Kn[Yn++]=zs,zs=i;var u=qi;i=Hi;var f=32-vt(u)-1;u&=~(1<<f),o+=1;var m=32-vt(r)+f;if(30<m){var b=f-f%5;m=(u&(1<<b)-1).toString(32),u>>=b,f-=b,qi=1<<32-vt(r)+f|o<<f|u,Hi=m+i}else qi=1<<m|o<<f|u,Hi=i}function Jd(i){i.return!==null&&(ls(i,1),ry(i,1,0))}function Zd(i){for(;i===xc;)xc=Ba[--$a],Ba[$a]=null,_l=Ba[--$a],Ba[$a]=null;for(;i===zs;)zs=Kn[--Yn],Kn[Yn]=null,Hi=Kn[--Yn],Kn[Yn]=null,qi=Kn[--Yn],Kn[Yn]=null}function ay(i,r){Kn[Yn++]=qi,Kn[Yn++]=Hi,Kn[Yn++]=zs,qi=r.id,Hi=r.overflow,zs=i}var Wt=null,rt=null,Pe=!1,Bs=null,Xn=!1,ef=Error(s(519));function $s(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Gn(r,i)),ef}function oy(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[St]=i,r[Bt]=u,o){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(o=0;o<$l.length;o++)De($l[o],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),sc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Is(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||S_(r.textContent,o)?(u.popover!=null&&(De("beforetoggle",r),De("toggle",r)),u.onScroll!=null&&De("scroll",r),u.onScrollEnd!=null&&De("scrollend",r),u.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||$s(i,!0)}function ly(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Wt=Wt.return}}function qa(i){if(i!==Wt)return!1;if(!Pe)return ly(i),Pe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||_p(i.type,i.memoizedProps)),o=!o),o&&rt&&$s(i),ly(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=I_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));rt=I_(i)}else r===27?(r=rt,nr(i.type)?(i=Sp,Sp=null,rt=i):rt=r):rt=Wt?Wn(i.stateNode.nextSibling):null;return!0}function Br(){rt=Wt=null,Pe=!1}function tf(){var i=Bs;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),Bs=null),i}function bl(i){Bs===null?Bs=[i]:Bs.push(i)}var nf=U(null),$r=null,us=null;function qs(i,r,o){le(nf,r._currentValue),r._currentValue=o}function cs(i){i._currentValue=nf.current,te(nf)}function sf(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function rf(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),sf(m.return,o,i),u||(b=null);break e}m=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),sf(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ha(i,r,o,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=f.type;Rn(f.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(f===Le.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Kl):i=[Kl])}f=f.return}i!==null&&rf(r,i,o,u),r.flags|=262144}function Ac(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qr(i){$r=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return uy($r,i)}function Rc(i,r){return $r===null&&qr(i),uy(i,r)}function uy(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},us===null){if(i===null)throw Error(s(308));us=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else us=us.next=r;return o}var nA=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},iA=t.unstable_scheduleCallback,sA=t.unstable_NormalPriority,Rt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new nA,data:new Map,refCount:0}}function wl(i){i.refCount--,i.refCount===0&&iA(sA,function(){i.controller.abort()})}var Tl=null,of=0,Fa=0,Ga=null;function rA(i,r){if(Tl===null){var o=Tl=[];of=0,Fa=cp(),Ga={status:"pending",value:void 0,then:function(u){o.push(u)}}}return of++,r.then(cy,cy),r}function cy(){if(--of===0&&Tl!==null){Ga!==null&&(Ga.status="fulfilled");var i=Tl;Tl=null,Fa=0,Ga=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function aA(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var hy=W.S;W.S=function(i,r){Yv=un(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&rA(i,r),hy!==null&&hy(i,r)};var Hr=U(null);function lf(){var i=Hr.current;return i!==null?i:nt.pooledCache}function Cc(i,r){r===null?le(Hr,Hr.current):le(Hr,r.pool)}function dy(){var i=lf();return i===null?null:{parent:Rt._currentValue,pool:i}}var Ka=Error(s(460)),uf=Error(s(474)),Nc=Error(s(542)),Oc={then:function(){}};function fy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function py(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ai,ai),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,gy(i),i;default:if(typeof r.status=="string")r.then(ai,ai);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,gy(i),i}throw Gr=r,Ka}}function Fr(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Gr=o,Ka):o}}var Gr=null;function my(){if(Gr===null)throw Error(s(459));var i=Gr;return Gr=null,i}function gy(i){if(i===Ka||i===Nc)throw Error(s(483))}var Ya=null,El=0;function kc(i){var r=El;return El+=1,Ya===null&&(Ya=[]),py(Ya,i,r)}function Sl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Dc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function yy(i){function r(L,V){if(i){var H=L.deletions;H===null?(L.deletions=[V],L.flags|=16):H.push(V)}}function o(L,V){if(!i)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function u(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=os(L,V),L.index=0,L.sibling=null,L}function m(L,V,H){return L.index=H,i?(H=L.alternate,H!==null?(H=H.index,H<V?(L.flags|=67108866,V):H):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function b(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function S(L,V,H,J){return V===null||V.tag!==6?(V=Qd(H,L.mode,J),V.return=L,V):(V=f(V,H),V.return=L,V)}function D(L,V,H,J){var me=H.type;return me===I?Q(L,V,H.props.children,J,H.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Fr(me)===V.type)?(V=f(V,H.props),Sl(V,H),V.return=L,V):(V=Sc(H.type,H.key,H.props,null,L.mode,J),Sl(V,H),V.return=L,V)}function F(L,V,H,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Wd(H,L.mode,J),V.return=L,V):(V=f(V,H.children||[]),V.return=L,V)}function Q(L,V,H,J,me){return V===null||V.tag!==7?(V=zr(H,L.mode,J,me),V.return=L,V):(V=f(V,H),V.return=L,V)}function ee(L,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qd(""+V,L.mode,H),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return H=Sc(V.type,V.key,V.props,null,L.mode,H),Sl(H,V),H.return=L,H;case O:return V=Wd(V,L.mode,H),V.return=L,V;case R:return V=Fr(V),ee(L,V,H)}if(dt(V)||z(V))return V=zr(V,L.mode,H,null),V.return=L,V;if(typeof V.then=="function")return ee(L,kc(V),H);if(V.$$typeof===B)return ee(L,Rc(L,V),H);Dc(L,V)}return null}function G(L,V,H,J){var me=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:S(L,V,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===me?D(L,V,H,J):null;case O:return H.key===me?F(L,V,H,J):null;case R:return H=Fr(H),G(L,V,H,J)}if(dt(H)||z(H))return me!==null?null:Q(L,V,H,J,null);if(typeof H.then=="function")return G(L,V,kc(H),J);if(H.$$typeof===B)return G(L,V,Rc(L,H),J);Dc(L,H)}return null}function X(L,V,H,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,S(V,L,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return L=L.get(J.key===null?H:J.key)||null,D(V,L,J,me);case O:return L=L.get(J.key===null?H:J.key)||null,F(V,L,J,me);case R:return J=Fr(J),X(L,V,H,J,me)}if(dt(J)||z(J))return L=L.get(H)||null,Q(V,L,J,me,null);if(typeof J.then=="function")return X(L,V,H,kc(J),me);if(J.$$typeof===B)return X(L,V,H,Rc(V,J),me);Dc(V,J)}return null}function he(L,V,H,J){for(var me=null,Be=null,fe=V,Ne=V=0,Ve=null;fe!==null&&Ne<H.length;Ne++){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var $e=G(L,fe,H[Ne],J);if($e===null){fe===null&&(fe=Ve);break}i&&fe&&$e.alternate===null&&r(L,fe),V=m($e,V,Ne),Be===null?me=$e:Be.sibling=$e,Be=$e,fe=Ve}if(Ne===H.length)return o(L,fe),Pe&&ls(L,Ne),me;if(fe===null){for(;Ne<H.length;Ne++)fe=ee(L,H[Ne],J),fe!==null&&(V=m(fe,V,Ne),Be===null?me=fe:Be.sibling=fe,Be=fe);return Pe&&ls(L,Ne),me}for(fe=u(fe);Ne<H.length;Ne++)Ve=X(fe,L,Ne,H[Ne],J),Ve!==null&&(i&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ne:Ve.key),V=m(Ve,V,Ne),Be===null?me=Ve:Be.sibling=Ve,Be=Ve);return i&&fe.forEach(function(or){return r(L,or)}),Pe&&ls(L,Ne),me}function ge(L,V,H,J){if(H==null)throw Error(s(151));for(var me=null,Be=null,fe=V,Ne=V=0,Ve=null,$e=H.next();fe!==null&&!$e.done;Ne++,$e=H.next()){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var or=G(L,fe,$e.value,J);if(or===null){fe===null&&(fe=Ve);break}i&&fe&&or.alternate===null&&r(L,fe),V=m(or,V,Ne),Be===null?me=or:Be.sibling=or,Be=or,fe=Ve}if($e.done)return o(L,fe),Pe&&ls(L,Ne),me;if(fe===null){for(;!$e.done;Ne++,$e=H.next())$e=ee(L,$e.value,J),$e!==null&&(V=m($e,V,Ne),Be===null?me=$e:Be.sibling=$e,Be=$e);return Pe&&ls(L,Ne),me}for(fe=u(fe);!$e.done;Ne++,$e=H.next())$e=X(fe,L,Ne,$e.value,J),$e!==null&&(i&&$e.alternate!==null&&fe.delete($e.key===null?Ne:$e.key),V=m($e,V,Ne),Be===null?me=$e:Be.sibling=$e,Be=$e);return i&&fe.forEach(function(y2){return r(L,y2)}),Pe&&ls(L,Ne),me}function et(L,V,H,J){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var me=H.key;V!==null;){if(V.key===me){if(me=H.type,me===I){if(V.tag===7){o(L,V.sibling),J=f(V,H.props.children),J.return=L,L=J;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Fr(me)===V.type){o(L,V.sibling),J=f(V,H.props),Sl(J,H),J.return=L,L=J;break e}o(L,V);break}else r(L,V);V=V.sibling}H.type===I?(J=zr(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=Sc(H.type,H.key,H.props,null,L.mode,J),Sl(J,H),J.return=L,L=J)}return b(L);case O:e:{for(me=H.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){o(L,V.sibling),J=f(V,H.children||[]),J.return=L,L=J;break e}else{o(L,V);break}else r(L,V);V=V.sibling}J=Wd(H,L.mode,J),J.return=L,L=J}return b(L);case R:return H=Fr(H),et(L,V,H,J)}if(dt(H))return he(L,V,H,J);if(z(H)){if(me=z(H),typeof me!="function")throw Error(s(150));return H=me.call(H),ge(L,V,H,J)}if(typeof H.then=="function")return et(L,V,kc(H),J);if(H.$$typeof===B)return et(L,V,Rc(L,H),J);Dc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(o(L,V.sibling),J=f(V,H),J.return=L,L=J):(o(L,V),J=Qd(H,L.mode,J),J.return=L,L=J),b(L)):o(L,V)}return function(L,V,H,J){try{El=0;var me=et(L,V,H,J);return Ya=null,me}catch(fe){if(fe===Ka||fe===Nc)throw fe;var Be=Cn(29,fe,null,L.mode);return Be.lanes=J,Be.return=L,Be}finally{}}}var Kr=yy(!0),vy=yy(!1),Hs=!1;function cf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(He&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Ec(i),ty(i,null,o),r}return Tc(i,u,r,o),Ec(i)}function xl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Jo(i,o)}}function df(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var ff=!1;function Al(){if(ff){var i=Ga;if(i!==null)throw i}}function Rl(i,r,o,u){ff=!1;var f=i.updateQueue;Hs=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,F=D.next;D.next=null,b===null?m=F:b.next=F,b=D;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==b&&(S===null?Q.firstBaseUpdate=F:S.next=F,Q.lastBaseUpdate=D))}if(m!==null){var ee=f.baseState;b=0,Q=F=D=null,S=m;do{var G=S.lane&-536870913,X=G!==S.lane;if(X?(je&G)===G:(u&G)===G){G!==0&&G===Fa&&(ff=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=i,ge=S;G=r;var et=o;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){ee=he.call(et,ee,G);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,G=typeof he=="function"?he.call(et,ee,G):he,G==null)break e;ee=_({},ee,G);break e;case 2:Hs=!0}}G=S.callback,G!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[G]:X.push(G))}else X={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(F=Q=X,D=ee):Q=Q.next=X,b|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Q===null&&(D=ee),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=Q,m===null&&(f.shared.lanes=0),Ws|=b,i.lanes=b,i.memoizedState=ee}}function _y(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function by(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)_y(o[i],r)}var Xa=U(null),Ic=U(0);function wy(i,r){i=_s,le(Ic,i),le(Xa,r),_s=i|r.baseLanes}function pf(){le(Ic,_s),le(Xa,Xa.current)}function mf(){_s=Ic.current,te(Xa),te(Ic)}var Nn=U(null),Qn=null;function Ks(i){var r=i.alternate;le(bt,bt.current&1),le(Nn,i),Qn===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(Qn=i)}function gf(i){le(bt,bt.current),le(Nn,i),Qn===null&&(Qn=i)}function Ty(i){i.tag===22?(le(bt,bt.current),le(Nn,i),Qn===null&&(Qn=i)):Ys()}function Ys(){le(bt,bt.current),le(Nn,Nn.current)}function On(i){te(Nn),Qn===i&&(Qn=null),te(bt)}var bt=U(0);function Mc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Tp(o)||Ep(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hs=0,xe=null,Je=null,Ct=null,jc=!1,Qa=!1,Yr=!1,Vc=0,Cl=0,Wa=null,oA=0;function ft(){throw Error(s(321))}function yf(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Rn(i[o],r[o]))return!1;return!0}function vf(i,r,o,u,f,m){return hs=m,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?rv:If,Yr=!1,m=o(u,f),Yr=!1,Qa&&(m=Sy(r,o,u,f)),Ey(i),m}function Ey(i){W.H=kl;var r=Je!==null&&Je.next!==null;if(hs=0,Ct=Je=xe=null,jc=!1,Cl=0,Wa=null,r)throw Error(s(300));i===null||Nt||(i=i.dependencies,i!==null&&Ac(i)&&(Nt=!0))}function Sy(i,r,o,u){xe=i;var f=0;do{if(Qa&&(Wa=null),Cl=0,Qa=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Je=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=av,m=r(o,u)}while(Qa);return m}function lA(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Nl(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(xe.flags|=1024),r}function _f(){var i=Vc!==0;return Vc=0,i}function bf(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function wf(i){if(jc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}jc=!1}hs=0,Ct=Je=xe=null,Qa=!1,Cl=Vc=0,Wa=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?xe.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function wt(){if(Je===null){var i=xe.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=Ct===null?xe.memoizedState:Ct.next;if(r!==null)Ct=r,Je=i;else{if(i===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?xe.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(i){var r=Cl;return Cl+=1,Wa===null&&(Wa=[]),i=py(Wa,i,r),r=xe,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?rv:If),i}function Uc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nl(i);if(i.$$typeof===B)return Jt(i)}throw Error(s(438,String(i)))}function Tf(i){var r=null,o=xe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Pc(),xe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=j;return r.index++,o}function ds(i,r){return typeof r=="function"?r(i):r}function Lc(i){var r=wt();return Ef(r,Je,i)}function Ef(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var S=b=null,D=null,F=r,Q=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(je&ee)===ee:(hs&ee)===ee){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Fa&&(Q=!0);else if((hs&G)===G){F=F.next,G===Fa&&(Q=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=ee,b=m):D=D.next=ee,xe.lanes|=G,Ws|=G;ee=F.action,Yr&&o(m,ee),m=F.hasEagerState?F.eagerState:o(m,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(S=D=G,b=m):D=D.next=G,xe.lanes|=ee,Ws|=ee;F=F.next}while(F!==null&&F!==r);if(D===null?b=m:D.next=S,!Rn(m,i.memoizedState)&&(Nt=!0,Q&&(o=Ga,o!==null)))throw o;i.memoizedState=m,i.baseState=b,i.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Sf(i){var r=wt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do m=i(m,b.action),b=b.next;while(b!==f);Rn(m,r.memoizedState)||(Nt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function xy(i,r,o){var u=xe,f=wt(),m=Pe;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Rn((Je||f).memoizedState,o);if(b&&(f.memoizedState=o,Nt=!0),f=f.queue,Rf(Cy.bind(null,u,f,i),[i]),f.getSnapshot!==r||b||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Ja(9,{destroy:void 0},Ry.bind(null,u,f,o,r),null),nt===null)throw Error(s(349));m||(hs&127)!==0||Ay(u,r,o)}return o}function Ay(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=xe.updateQueue,r===null?(r=Pc(),xe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Ry(i,r,o,u){r.value=o,r.getSnapshot=u,Ny(r)&&Oy(i)}function Cy(i,r,o){return o(function(){Ny(r)&&Oy(i)})}function Ny(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Rn(i,o)}catch{return!0}}function Oy(i){var r=Lr(i,2);r!==null&&bn(r,i,2)}function xf(i){var r=hn();if(typeof i=="function"){var o=i;if(i=o(),Yr){zn(!0);try{o()}finally{zn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},r}function ky(i,r,o,u){return i.baseState=o,Ef(i,Je,typeof u=="function"?u:ds)}function uA(i,r,o,u,f){if($c(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,Dy(r,m)):(m.next=o.next,r.pending=o.next=m)}}function Dy(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=W.T,b={};W.T=b;try{var S=o(f,u),D=W.S;D!==null&&D(b,S),Iy(i,r,S)}catch(F){Af(i,r,F)}finally{m!==null&&b.types!==null&&(m.types=b.types),W.T=m}}else try{m=o(f,u),Iy(i,r,m)}catch(F){Af(i,r,F)}}function Iy(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){My(i,r,u)},function(u){return Af(i,r,u)}):My(i,r,o)}function My(i,r,o){r.status="fulfilled",r.value=o,jy(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Dy(i,o)))}function Af(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,jy(r),r=r.next;while(r!==u)}i.action=null}function jy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Vy(i,r){return r}function Py(i,r){if(Pe){var o=nt.formState;if(o!==null){e:{var u=xe;if(Pe){if(rt){t:{for(var f=rt,m=Xn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Wn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){rt=Wn(f.nextSibling),u=f.data==="F!";break e}}$s(u)}u=!1}u&&(r=o[0])}}return o=hn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:r},o.queue=u,o=nv.bind(null,xe,u),u.dispatch=o,u=xf(!1),m=Df.bind(null,xe,!1,u.queue),u=hn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=uA.bind(null,xe,f,m,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function Uy(i){var r=wt();return Ly(r,Je,i)}function Ly(i,r,o){if(r=Ef(i,r,Vy)[0],i=Lc(ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Nl(r)}catch(b){throw b===Ka?Nc:b}else u=r;r=wt();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(xe.flags|=2048,Ja(9,{destroy:void 0},cA.bind(null,f,o),null)),[u,m,i]}function cA(i,r){i.action=r}function zy(i){var r=wt(),o=Je;if(o!==null)return Ly(r,o,i);wt(),r=r.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Ja(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Pc(),xe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function By(){return wt().memoizedState}function zc(i,r,o,u){var f=hn();xe.flags|=i,f.memoizedState=Ja(1|r,{destroy:void 0},o,u===void 0?null:u)}function Bc(i,r,o,u){var f=wt();u=u===void 0?null:u;var m=f.memoizedState.inst;Je!==null&&u!==null&&yf(u,Je.memoizedState.deps)?f.memoizedState=Ja(r,m,o,u):(xe.flags|=i,f.memoizedState=Ja(1|r,m,o,u))}function $y(i,r){zc(8390656,8,i,r)}function Rf(i,r){Bc(2048,8,i,r)}function hA(i){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=Pc(),xe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function qy(i){var r=wt().memoizedState;return hA({ref:r,nextImpl:i}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Hy(i,r){return Bc(4,2,i,r)}function Fy(i,r){return Bc(4,4,i,r)}function Gy(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Ky(i,r,o){o=o!=null?o.concat([i]):null,Bc(4,4,Gy.bind(null,r,i),o)}function Cf(){}function Yy(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&yf(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Xy(i,r){var o=wt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&yf(r,u[1]))return u[0];if(u=i(),Yr){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[u,r],u}function Nf(i,r,o){return o===void 0||(hs&1073741824)!==0&&(je&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Qv(),xe.lanes|=i,Ws|=i,o)}function Qy(i,r,o,u){return Rn(o,r)?o:Xa.current!==null?(i=Nf(i,o,u),Rn(i,r)||(Nt=!0),i):(hs&42)===0||(hs&1073741824)!==0&&(je&261930)===0?(Nt=!0,i.memoizedState=o):(i=Qv(),xe.lanes|=i,Ws|=i,r)}function Wy(i,r,o,u,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var b=W.T,S={};W.T=S,Df(i,!1,r,o);try{var D=f(),F=W.S;if(F!==null&&F(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=aA(D,u);Ol(i,r,Q,In(i))}else Ol(i,r,u,In(i))}catch(ee){Ol(i,r,{then:function(){},status:"rejected",reason:ee},In())}finally{ae.p=m,b!==null&&S.types!==null&&(b.types=S.types),W.T=b}}function dA(){}function Of(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=Jy(i).queue;Wy(i,f,r,ce,o===null?dA:function(){return Zy(i),o(u)})}function Jy(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Zy(i){var r=Jy(i);r.next===null&&(r=i.alternate.memoizedState),Ol(i,r.next.queue,{},In())}function kf(){return Jt(Kl)}function ev(){return wt().memoizedState}function tv(){return wt().memoizedState}function fA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=In();i=Fs(o);var u=Gs(r,i,o);u!==null&&(bn(u,r,o),xl(u,r,o)),r={cache:af()},i.payload=r;return}r=r.return}}function pA(i,r,o){var u=In();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$c(i)?iv(r,o):(o=Yd(i,r,o,u),o!==null&&(bn(o,i,u),sv(o,r,u)))}function nv(i,r,o){var u=In();Ol(i,r,o,u)}function Ol(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if($c(i))iv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,S=m(b,o);if(f.hasEagerState=!0,f.eagerState=S,Rn(S,b))return Tc(i,r,f,0),nt===null&&wc(),!1}catch{}finally{}if(o=Yd(i,r,f,u),o!==null)return bn(o,i,u),sv(o,r,u),!0}return!1}function Df(i,r,o,u){if(u={lane:2,revertLane:cp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},$c(i)){if(r)throw Error(s(479))}else r=Yd(i,o,u,2),r!==null&&bn(r,i,2)}function $c(i){var r=i.alternate;return i===xe||r!==null&&r===xe}function iv(i,r){Qa=jc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function sv(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Jo(i,o)}}var kl={readContext:Jt,use:Uc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};kl.useEffectEvent=ft;var rv={readContext:Jt,use:Uc,useCallback:function(i,r){return hn().memoizedState=[i,r===void 0?null:r],i},useContext:Jt,useEffect:$y,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,zc(4194308,4,Gy.bind(null,r,i),o)},useLayoutEffect:function(i,r){return zc(4194308,4,i,r)},useInsertionEffect:function(i,r){zc(4,2,i,r)},useMemo:function(i,r){var o=hn();r=r===void 0?null:r;var u=i();if(Yr){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=hn();if(o!==void 0){var f=o(r);if(Yr){zn(!0);try{o(r)}finally{zn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=pA.bind(null,xe,i),[u.memoizedState,i]},useRef:function(i){var r=hn();return i={current:i},r.memoizedState=i},useState:function(i){i=xf(i);var r=i.queue,o=nv.bind(null,xe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Cf,useDeferredValue:function(i,r){var o=hn();return Nf(o,i,r)},useTransition:function(){var i=xf(!1);return i=Wy.bind(null,xe,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=xe,f=hn();if(Pe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),nt===null)throw Error(s(349));(je&127)!==0||Ay(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,$y(Cy.bind(null,u,m,i),[i]),u.flags|=2048,Ja(9,{destroy:void 0},Ry.bind(null,u,m,o,r),null),o},useId:function(){var i=hn(),r=nt.identifierPrefix;if(Pe){var o=Hi,u=qi;o=(u&~(1<<32-vt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Vc++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=oA++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:kf,useFormState:Py,useActionState:Py,useOptimistic:function(i){var r=hn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Df.bind(null,xe,!0,o),o.dispatch=r,[i,r]},useMemoCache:Tf,useCacheRefresh:function(){return hn().memoizedState=fA.bind(null,xe)},useEffectEvent:function(i){var r=hn(),o={impl:i};return r.memoizedState=o,function(){if((He&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},If={readContext:Jt,use:Uc,useCallback:Yy,useContext:Jt,useEffect:Rf,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Xy,useReducer:Lc,useRef:By,useState:function(){return Lc(ds)},useDebugValue:Cf,useDeferredValue:function(i,r){var o=wt();return Qy(o,Je.memoizedState,i,r)},useTransition:function(){var i=Lc(ds)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:Nl(i),r]},useSyncExternalStore:xy,useId:ev,useHostTransitionStatus:kf,useFormState:Uy,useActionState:Uy,useOptimistic:function(i,r){var o=wt();return ky(o,Je,i,r)},useMemoCache:Tf,useCacheRefresh:tv};If.useEffectEvent=qy;var av={readContext:Jt,use:Uc,useCallback:Yy,useContext:Jt,useEffect:Rf,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Xy,useReducer:Sf,useRef:By,useState:function(){return Sf(ds)},useDebugValue:Cf,useDeferredValue:function(i,r){var o=wt();return Je===null?Nf(o,i,r):Qy(o,Je.memoizedState,i,r)},useTransition:function(){var i=Sf(ds)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:Nl(i),r]},useSyncExternalStore:xy,useId:ev,useHostTransitionStatus:kf,useFormState:zy,useActionState:zy,useOptimistic:function(i,r){var o=wt();return Je!==null?ky(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:tv};av.useEffectEvent=qy;function Mf(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var jf={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=In(),f=Fs(u);f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(bn(r,i,u),xl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=In(),f=Fs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(bn(r,i,u),xl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=In(),u=Fs(o);u.tag=2,r!=null&&(u.callback=r),r=Gs(i,u,o),r!==null&&(bn(r,i,o),xl(r,i,o))}};function ov(i,r,o,u,f,m,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,b):r.prototype&&r.prototype.isPureReactComponent?!yl(o,u)||!yl(f,m):!0}function lv(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&jf.enqueueReplaceState(r,r.state,null)}function Xr(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function uv(i){bc(i)}function cv(i){console.error(i)}function hv(i){bc(i)}function qc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function dv(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vf(i,r,o){return o=Fs(o),o.tag=3,o.payload={element:null},o.callback=function(){qc(i,r)},o}function fv(i){return i=Fs(i),i.tag=3,i}function pv(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){dv(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){dv(r,o,u),typeof f!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function mA(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ha(r,o,f,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Qn===null?th():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Oc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),op(i,u,f)),!1;case 22:return o.flags|=65536,u===Oc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),op(i,u,f)),!1}throw Error(s(435,o.tag))}return op(i,u,f),th(),!1}if(Pe)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==ef&&(i=Error(s(422),{cause:u}),bl(Gn(i,o)))):(u!==ef&&(r=Error(s(423),{cause:u}),bl(Gn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Gn(u,o),f=Vf(i.stateNode,u,f),df(i,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:u});if(m=Gn(m,o),Ll===null?Ll=[m]:Ll.push(m),pt!==4&&(pt=2),r===null)return!0;u=Gn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Vf(o.stateNode,u,i),df(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Js===null||!Js.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=fv(f),pv(f,i,o,u),df(o,f),!1}o=o.return}while(o!==null);return!1}var Pf=Error(s(461)),Nt=!1;function Zt(i,r,o,u){r.child=i===null?vy(r,null,o,u):Kr(r,i.child,o,u)}function mv(i,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return qr(r),u=vf(i,r,o,b,m,f),S=_f(),i!==null&&!Nt?(bf(i,r,f),fs(i,r,f)):(Pe&&S&&Jd(r),r.flags|=1,Zt(i,r,u,f),r.child)}function gv(i,r,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!Xd(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,yv(i,r,m,u,f)):(i=Sc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Ff(i,f)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:yl,o(b,u)&&i.ref===r.ref)return fs(i,r,f)}return r.flags|=1,i=os(m,u),i.ref=r.ref,i.return=r,r.child=i}function yv(i,r,o,u,f){if(i!==null){var m=i.memoizedProps;if(yl(m,u)&&i.ref===r.ref)if(Nt=!1,r.pendingProps=u=m,Ff(i,f))(i.flags&131072)!==0&&(Nt=!0);else return r.lanes=i.lanes,fs(i,r,f)}return Uf(i,r,o,u,f)}function vv(i,r,o,u){var f=u.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return _v(i,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Cc(r,m!==null?m.cachePool:null),m!==null?wy(r,m):pf(),Ty(r);else return u=r.lanes=536870912,_v(i,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Cc(r,m.cachePool),wy(r,m),Ys(),r.memoizedState=null):(i!==null&&Cc(r,null),pf(),Ys());return Zt(i,r,f,o),r.child}function Dl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function _v(i,r,o,u,f){var m=lf();return m=m===null?null:{parent:Rt._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},i!==null&&Cc(r,null),pf(),Ty(r),i!==null&&Ha(i,r,u,!0),r.childLanes=f,null}function Hc(i,r){return r=Gc({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function bv(i,r,o){return Kr(r,i.child,null,o),i=Hc(r,r.pendingProps),i.flags|=2,On(r),r.memoizedState=null,i}function gA(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Pe){if(u.mode==="hidden")return i=Hc(r,u),r.lanes=536870912,Dl(null,i);if(gf(r),(i=rt)?(i=D_(i,Xn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},o=iy(i),o.return=r,r.child=o,Wt=r,rt=null)):i=null,i===null)throw $s(r);return r.lanes=536870912,null}return Hc(r,u)}var m=i.memoizedState;if(m!==null){var b=m.dehydrated;if(gf(r),f)if(r.flags&256)r.flags&=-257,r=bv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||Ha(i,r,o,!1),f=(o&i.childLanes)!==0,Nt||f){if(u=nt,u!==null&&(b=Zo(u,o),b!==0&&b!==m.retryLane))throw m.retryLane=b,Lr(i,b),bn(u,i,b),Pf;th(),r=bv(i,r,o)}else i=m.treeContext,rt=Wn(b.nextSibling),Wt=r,Pe=!0,Bs=null,Xn=!1,i!==null&&ay(r,i),r=Hc(r,u),r.flags|=4096;return r}return i=os(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Fc(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Uf(i,r,o,u,f){return qr(r),o=vf(i,r,o,u,void 0,f),u=_f(),i!==null&&!Nt?(bf(i,r,f),fs(i,r,f)):(Pe&&u&&Jd(r),r.flags|=1,Zt(i,r,o,f),r.child)}function wv(i,r,o,u,f,m){return qr(r),r.updateQueue=null,o=Sy(r,u,o,f),Ey(i),u=_f(),i!==null&&!Nt?(bf(i,r,m),fs(i,r,m)):(Pe&&u&&Jd(r),r.flags|=1,Zt(i,r,o,m),r.child)}function Tv(i,r,o,u,f){if(qr(r),r.stateNode===null){var m=za,b=o.contextType;typeof b=="object"&&b!==null&&(m=Jt(b)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},cf(r),b=o.contextType,m.context=typeof b=="object"&&b!==null?Jt(b):za,m.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Mf(r,o,b,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&jf.enqueueReplaceState(m,m.state,null),Rl(r,u,m,f),Al(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var S=r.memoizedProps,D=Xr(o,S);m.props=D;var F=m.context,Q=o.contextType;b=za,typeof Q=="object"&&Q!==null&&(b=Jt(Q));var ee=o.getDerivedStateFromProps;Q=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||F!==b)&&lv(r,m,u,b),Hs=!1;var G=r.memoizedState;m.state=G,Rl(r,u,m,f),Al(),F=r.memoizedState,S||G!==F||Hs?(typeof ee=="function"&&(Mf(r,o,ee,u),F=r.memoizedState),(D=Hs||ov(r,o,D,u,G,F,b))?(Q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),m.props=u,m.state=F,m.context=b,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,hf(i,r),b=r.memoizedProps,Q=Xr(o,b),m.props=Q,ee=r.pendingProps,G=m.context,F=o.contextType,D=za,typeof F=="object"&&F!==null&&(D=Jt(F)),S=o.getDerivedStateFromProps,(F=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||G!==D)&&lv(r,m,u,D),Hs=!1,G=r.memoizedState,m.state=G,Rl(r,u,m,f),Al();var X=r.memoizedState;b!==ee||G!==X||Hs||i!==null&&i.dependencies!==null&&Ac(i.dependencies)?(typeof S=="function"&&(Mf(r,o,S,u),X=r.memoizedState),(Q=Hs||ov(r,o,Q,u,G,X,D)||i!==null&&i.dependencies!==null&&Ac(i.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),m.props=u,m.state=X,m.context=D,u=Q):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,Fc(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=Kr(r,i.child,null,f),r.child=Kr(r,null,o,f)):Zt(i,r,o,f),r.memoizedState=m.state,i=r.child):i=fs(i,r,f),i}function Ev(i,r,o,u){return Br(),r.flags|=256,Zt(i,r,o,u),r.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(i){return{baseLanes:i,cachePool:dy()}}function Bf(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Dn),i}function Sv(i,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(Pe){if(f?Ks(r):Ys(),(i=rt)?(i=D_(i,Xn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:zs!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},o=iy(i),o.return=r,r.child=o,Wt=r,rt=null)):i=null,i===null)throw $s(r);return Ep(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(Ys(),f=r.mode,S=Gc({mode:"hidden",children:S},f),u=zr(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=zf(o),u.childLanes=Bf(i,b,o),r.memoizedState=Lf,Dl(null,u)):(Ks(r),$f(r,S))}var D=i.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(Ks(r),r.flags&=-257,r=qf(i,r,o)):r.memoizedState!==null?(Ys(),r.child=i.child,r.flags|=128,r=null):(Ys(),S=u.fallback,f=r.mode,u=Gc({mode:"visible",children:u.children},f),S=zr(S,f,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Kr(r,i.child,null,o),u=r.child,u.memoizedState=zf(o),u.childLanes=Bf(i,b,o),r.memoizedState=Lf,r=Dl(null,u));else if(Ks(r),Ep(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(s(419)),u.stack="",u.digest=b,bl({value:u,source:null,stack:null}),r=qf(i,r,o)}else if(Nt||Ha(i,r,o,!1),b=(o&i.childLanes)!==0,Nt||b){if(b=nt,b!==null&&(u=Zo(b,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,Lr(i,u),bn(b,i,u),Pf;Tp(S)||th(),r=qf(i,r,o)}else Tp(S)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,rt=Wn(S.nextSibling),Wt=r,Pe=!0,Bs=null,Xn=!1,i!==null&&ay(r,i),r=$f(r,u.children),r.flags|=4096);return r}return f?(Ys(),S=u.fallback,f=r.mode,D=i.child,F=D.sibling,u=os(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,F!==null?S=os(F,S):(S=zr(S,f,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Dl(null,u),u=r.child,S=i.child.memoizedState,S===null?S=zf(o):(f=S.cachePool,f!==null?(D=Rt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=dy(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=Bf(i,b,o),r.memoizedState=Lf,Dl(i.child,u)):(Ks(r),o=i.child,i=o.sibling,o=os(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function $f(i,r){return r=Gc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Gc(i,r){return i=Cn(22,i,null,r),i.lanes=0,i}function qf(i,r,o){return Kr(r,i.child,null,o),i=$f(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function xv(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),sf(i.return,r,o)}function Hf(i,r,o,u,f,m){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=m)}function Av(i,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var b=bt.current,S=(b&2)!==0;if(S?(b=b&1|2,r.flags|=128):b&=1,le(bt,b),Zt(i,r,u,o),u=Pe?_l:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xv(i,o,r);else if(i.tag===19)xv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Mc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Hf(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Mc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Hf(r,!0,o,null,m,u);break;case"together":Hf(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ws|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ha(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=os(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=os(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ff(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ac(i)))}function yA(i,r,o){switch(r.tag){case 3:jt(r,r.stateNode.containerInfo),qs(r,Rt,i.memoizedState.cache),Br();break;case 27:case 5:wr(r);break;case 4:jt(r,r.stateNode.containerInfo);break;case 10:qs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,gf(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Sv(i,r,o):(Ks(r),i=fs(i,r,o),i!==null?i.sibling:null);Ks(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ha(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return Av(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(bt,bt.current),u)break;return null;case 22:return r.lanes=0,vv(i,r,o,r.pendingProps);case 24:qs(r,Rt,i.memoizedState.cache)}return fs(i,r,o)}function Rv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Ff(i,o)&&(r.flags&128)===0)return Nt=!1,yA(i,r,o);Nt=(i.flags&131072)!==0}else Nt=!1,Pe&&(r.flags&1048576)!==0&&ry(r,_l,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Fr(r.elementType),r.type=i,typeof i=="function")Xd(i)?(u=Xr(i,u),r.tag=1,r=Tv(null,r,i,u,o)):(r.tag=0,r=Uf(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===Z){r.tag=11,r=mv(null,r,i,u,o);break e}else if(f===C){r.tag=14,r=gv(null,r,i,u,o);break e}}throw r=tt(i)||i,Error(s(306,r,""))}}return r;case 0:return Uf(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Xr(u,r.pendingProps),Tv(i,r,u,f,o);case 3:e:{if(jt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,hf(i,r),Rl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,qs(r,Rt,u),u!==m.cache&&rf(r,[Rt],o,!0),Al(),u=b.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Ev(i,r,u,o);break e}else if(u!==f){f=Gn(Error(s(424)),r),bl(f),r=Ev(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=Wn(i.firstChild),Wt=r,Pe=!0,Bs=null,Xn=!0,o=vy(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Br(),u===f){r=fs(i,r,o);break e}Zt(i,r,u,o)}r=r.child}return r;case 26:return Fc(i,r),i===null?(o=U_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Pe||(o=r.type,i=r.pendingProps,u=lh(Ce.current).createElement(o),u[St]=r,u[Bt]=i,en(u,o,i),xt(u),r.stateNode=u):r.memoizedState=U_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return wr(r),i===null&&Pe&&(u=r.stateNode=j_(r.type,r.pendingProps,Ce.current),Wt=r,Xn=!0,f=rt,nr(r.type)?(Sp=f,rt=Wn(u.firstChild)):rt=f),Zt(i,r,r.pendingProps.children,o),Fc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Pe&&((f=u=rt)&&(u=KA(u,r.type,r.pendingProps,Xn),u!==null?(r.stateNode=u,Wt=r,rt=Wn(u.firstChild),Xn=!1,f=!0):f=!1),f||$s(r)),wr(r),f=r.type,m=r.pendingProps,b=i!==null?i.memoizedProps:null,u=m.children,_p(f,m)?u=null:b!==null&&_p(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=vf(i,r,lA,null,null,o),Kl._currentValue=f),Fc(i,r),Zt(i,r,u,o),r.child;case 6:return i===null&&Pe&&((i=o=rt)&&(o=YA(o,r.pendingProps,Xn),o!==null?(r.stateNode=o,Wt=r,rt=null,i=!0):i=!1),i||$s(r)),null;case 13:return Sv(i,r,o);case 4:return jt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Kr(r,null,u,o):Zt(i,r,u,o),r.child;case 11:return mv(i,r,r.type,r.pendingProps,o);case 7:return Zt(i,r,r.pendingProps,o),r.child;case 8:return Zt(i,r,r.pendingProps.children,o),r.child;case 12:return Zt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,qs(r,r.type,u.value),Zt(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,qr(r),f=Jt(f),u=u(f),r.flags|=1,Zt(i,r,u,o),r.child;case 14:return gv(i,r,r.type,r.pendingProps,o);case 15:return yv(i,r,r.type,r.pendingProps,o);case 19:return Av(i,r,o);case 31:return gA(i,r,o);case 22:return vv(i,r,o,r.pendingProps);case 24:return qr(r),u=Jt(Rt),i===null?(f=lf(),f===null&&(f=nt,m=af(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},cf(r),qs(r,Rt,f)):((i.lanes&o)!==0&&(hf(i,r),Rl(r,null,null,o),Al()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qs(r,Rt,u)):(u=m.cache,qs(r,Rt,u),u!==f.cache&&rf(r,[Rt],o,!0))),Zt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ps(i){i.flags|=4}function Gf(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(e_())i.flags|=8192;else throw Gr=Oc,uf}else i.flags&=-16777217}function Cv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!q_(r))if(e_())i.flags|=8192;else throw Gr=Oc,uf}function Kc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Zu():536870912,i.lanes|=r,no|=r)}function Il(i,r){if(!Pe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function at(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function vA(i,r,o){var u=r.pendingProps;switch(Zd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cs(Rt),ot(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(qa(r)?ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,tf())),at(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(ps(r),m!==null?(at(r),Cv(r,m)):(at(r),Gf(r,f,null,u,o))):m?m!==i.memoizedState?(ps(r),at(r),Cv(r,m)):(at(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ps(r),at(r),Gf(r,f,i,u,o)),null;case 27:if(wa(r),o=Ce.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return at(r),null}i=ue.current,qa(r)?oy(r):(i=j_(f,u,o),r.stateNode=i,ps(r))}return at(r),null;case 5:if(wa(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(m=ue.current,qa(r))oy(r);else{var b=lh(Ce.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}m[St]=r,m[Bt]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;e:switch(en(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ps(r)}}return at(r),Gf(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,qa(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[St]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||S_(i.nodeValue,o)),i||$s(r,!0)}else i=lh(i).createTextNode(u),i[St]=r,r.stateNode=i}return at(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=qa(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[St]=r}else Br(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),i=!1}else o=tf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=qa(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else Br(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=tf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Kc(r,r.updateQueue),at(r),null);case 4:return ot(),i===null&&pp(r.stateNode.containerInfo),at(r),null;case 10:return cs(r.type),at(r),null;case 19:if(te(bt),u=r.memoizedState,u===null)return at(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)Il(u,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Mc(i),m!==null){for(r.flags|=128,Il(u,!1),i=m.updateQueue,r.updateQueue=i,Kc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)ny(o,i),o=o.sibling;return le(bt,bt.current&1|2),Pe&&ls(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&un()>Jc&&(r.flags|=128,f=!0,Il(u,!1),r.lanes=4194304)}else{if(!f)if(i=Mc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Kc(r,i),Il(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Pe)return at(r),null}else 2*un()-u.renderingStartTime>Jc&&o!==536870912&&(r.flags|=128,f=!0,Il(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(i=u.last,i!==null?i.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=un(),i.sibling=null,o=bt.current,le(bt,f?o&1|2:o&1),Pe&&ls(r,u.treeForkCount),i):(at(r),null);case 22:case 23:return On(r),mf(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),o=r.updateQueue,o!==null&&Kc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&te(Hr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),cs(Rt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _A(i,r){switch(Zd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return cs(Rt),ot(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wa(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));Br()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(On(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Br()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(bt),null;case 4:return ot(),null;case 10:return cs(r.type),null;case 22:case 23:return On(r),mf(),i!==null&&te(Hr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return cs(Rt),null;case 25:return null;default:return null}}function Nv(i,r){switch(Zd(r),r.tag){case 3:cs(Rt),ot();break;case 26:case 27:case 5:wa(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:te(bt);break;case 10:cs(r.type);break;case 22:case 23:On(r),mf(),i!==null&&te(Hr);break;case 24:cs(Rt)}}function Ml(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,b=o.inst;u=m(),b.destroy=u}o=o.next}while(o!==f)}}catch(S){Qe(r,r.return,S)}}function Xs(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=r;var D=o,F=S;try{F()}catch(Q){Qe(f,D,Q)}}}u=u.next}while(u!==m)}}catch(Q){Qe(r,r.return,Q)}}function Ov(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{by(r,o)}catch(u){Qe(i,i.return,u)}}}function kv(i,r,o){o.props=Xr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Qe(i,r,u)}}function jl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Qe(i,r,f)}}function Fi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Qe(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Qe(i,r,f)}else o.current=null}function Dv(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Qe(i,i.return,f)}}function Kf(i,r,o){try{var u=i.stateNode;BA(u,i.type,o,r),u[Bt]=r}catch(f){Qe(i,i.return,f)}}function Iv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function Yf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Iv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xf(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ai));else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Xf(i,r,o),i=i.sibling;i!==null;)Xf(i,r,o),i=i.sibling}function Yc(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Yc(i,r,o),i=i.sibling;i!==null;)Yc(i,r,o),i=i.sibling}function Mv(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);en(r,u,o),r[St]=i,r[Bt]=o}catch(m){Qe(i,i.return,m)}}var ms=!1,Ot=!1,Qf=!1,jv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function bA(i,r){if(i=i.containerInfo,yp=mh,i=K0(i),$d(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var b=0,S=-1,D=-1,F=0,Q=0,ee=i,G=null;t:for(;;){for(var X;ee!==o||f!==0&&ee.nodeType!==3||(S=b+f),ee!==m||u!==0&&ee.nodeType!==3||(D=b+u),ee.nodeType===3&&(b+=ee.nodeValue.length),(X=ee.firstChild)!==null;)G=ee,ee=X;for(;;){if(ee===i)break t;if(G===o&&++F===f&&(S=b),G===m&&++Q===u&&(D=b),(X=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=X}o=S===-1||D===-1?null:{start:S,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(vp={focusedElem:i,selectionRange:o},mh=!1,qt=r;qt!==null;)if(r=qt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,qt=i;else for(;qt!==null;){switch(r=qt,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var he=Xr(o.type,f);i=u.getSnapshotBeforeUpdate(he,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(ge){Qe(o,o.return,ge)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)wp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,qt=i;break}qt=r.return}}function Vv(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ys(i,o),u&4&&Ml(5,o);break;case 1:if(ys(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Qe(o,o.return,b)}else{var f=Xr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Qe(o,o.return,b)}}u&64&&Ov(o),u&512&&jl(o,o.return);break;case 3:if(ys(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{by(i,r)}catch(b){Qe(o,o.return,b)}}break;case 27:r===null&&u&4&&Mv(o);case 26:case 5:ys(i,o),r===null&&u&4&&Dv(o),u&512&&jl(o,o.return);break;case 12:ys(i,o);break;case 31:ys(i,o),u&4&&Lv(i,o);break;case 13:ys(i,o),u&4&&zv(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=NA.bind(null,o),XA(i,o))));break;case 22:if(u=o.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||Ot,f=ms;var m=Ot;ms=u,(Ot=r)&&!m?vs(i,o,(o.subtreeFlags&8772)!==0):ys(i,o),ms=f,Ot=m}break;case 30:break;default:ys(i,o)}}function Pv(i){var r=i.alternate;r!==null&&(i.alternate=null,Pv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Aa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ut=null,gn=!1;function gs(i,r,o){for(o=o.child;o!==null;)Uv(i,r,o),o=o.sibling}function Uv(i,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ni,o)}catch{}switch(o.tag){case 26:Ot||Fi(o,r),gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||Fi(o,r);var u=ut,f=gn;nr(o.type)&&(ut=o.stateNode,gn=!1),gs(i,r,o),Hl(o.stateNode),ut=u,gn=f;break;case 5:Ot||Fi(o,r);case 6:if(u=ut,f=gn,ut=null,gs(i,r,o),ut=u,gn=f,ut!==null)if(gn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(m){Qe(o,r,m)}else try{ut.removeChild(o.stateNode)}catch(m){Qe(o,r,m)}break;case 18:ut!==null&&(gn?(i=ut,O_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),co(i)):O_(ut,o.stateNode));break;case 4:u=ut,f=gn,ut=o.stateNode.containerInfo,gn=!0,gs(i,r,o),ut=u,gn=f;break;case 0:case 11:case 14:case 15:Xs(2,o,r),Ot||Xs(4,o,r),gs(i,r,o);break;case 1:Ot||(Fi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&kv(o,r,u)),gs(i,r,o);break;case 21:gs(i,r,o);break;case 22:Ot=(u=Ot)||o.memoizedState!==null,gs(i,r,o),Ot=u;break;default:gs(i,r,o)}}function Lv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{co(i)}catch(o){Qe(r,r.return,o)}}}function zv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{co(i)}catch(o){Qe(r,r.return,o)}}function wA(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new jv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new jv),r;default:throw Error(s(435,i.tag))}}function Xc(i,r){var o=wA(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=OA.bind(null,i,u);u.then(f,f)}})}function yn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(nr(S.type)){ut=S.stateNode,gn=!1;break e}break;case 5:ut=S.stateNode,gn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,gn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));Uv(m,b,f),ut=null,gn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Bv(r,i),r=r.sibling}var di=null;function Bv(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(r,i),vn(i),u&4&&(Xs(3,i,i.return),Ml(3,i),Xs(5,i,i.return));break;case 1:yn(r,i),vn(i),u&512&&(Ot||o===null||Fi(o,o.return)),u&64&&ms&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=di;if(yn(r,i),vn(i),u&512&&(Ot||o===null||Fi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ki]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),en(m,u,o),m[St]=i,xt(m),u=m;break e;case"link":var b=B_("link","href",f).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}m=f.createElement(u),en(m,u,o),f.head.appendChild(m);break;case"meta":if(b=B_("meta","content",f).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}m=f.createElement(u),en(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[St]=i,xt(m),u=m}i.stateNode=u}else $_(f,i.type,i.stateNode);else i.stateNode=z_(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?$_(f,i.type,i.stateNode):z_(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Kf(i,i.memoizedProps,o.memoizedProps)}break;case 27:yn(r,i),vn(i),u&512&&(Ot||o===null||Fi(o,o.return)),o!==null&&u&4&&Kf(i,i.memoizedProps,o.memoizedProps);break;case 5:if(yn(r,i),vn(i),u&512&&(Ot||o===null||Fi(o,o.return)),i.flags&32){f=i.stateNode;try{mn(f,"")}catch(he){Qe(i,i.return,he)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Kf(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Qf=!0);break;case 6:if(yn(r,i),vn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(he){Qe(i,i.return,he)}}break;case 3:if(hh=null,f=di,di=uh(r.containerInfo),yn(r,i),di=f,vn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(he){Qe(i,i.return,he)}Qf&&(Qf=!1,$v(i));break;case 4:u=di,di=uh(i.stateNode.containerInfo),yn(r,i),vn(i),di=u;break;case 12:yn(r,i),vn(i);break;case 31:yn(r,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Xc(i,u)));break;case 13:yn(r,i),vn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wc=un()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Xc(i,u)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,F=ms,Q=Ot;if(ms=F||f,Ot=Q||D,yn(r,i),Ot=Q,ms=F,vn(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||ms||Ot||Qr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(m=D.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=D.stateNode;var ee=D.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Qe(D,D.return,he)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(he){Qe(D,D.return,he)}}}else if(r.tag===18){if(o===null){D=r;try{var X=D.stateNode;f?k_(X,!0):k_(D.stateNode,!1)}catch(he){Qe(D,D.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Xc(i,o))));break;case 19:yn(r,i),vn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Xc(i,u)));break;case 30:break;case 21:break;default:yn(r,i),vn(i)}}function vn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Iv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=Yf(i);Yc(i,m,f);break;case 5:var b=o.stateNode;o.flags&32&&(mn(b,""),o.flags&=-33);var S=Yf(i);Yc(i,S,b);break;case 3:case 4:var D=o.stateNode.containerInfo,F=Yf(i);Xf(i,F,D);break;default:throw Error(s(161))}}catch(Q){Qe(i,i.return,Q)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function $v(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;$v(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ys(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Vv(i,r.alternate,r),r=r.sibling}function Qr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Xs(4,r,r.return),Qr(r);break;case 1:Fi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&kv(r,r.return,o),Qr(r);break;case 27:Hl(r.stateNode);case 26:case 5:Fi(r,r.return),Qr(r);break;case 22:r.memoizedState===null&&Qr(r);break;case 30:Qr(r);break;default:Qr(r)}i=i.sibling}}function vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:vs(f,m,o),Ml(4,m);break;case 1:if(vs(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Qe(u,u.return,F)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)_y(D[f],S)}catch(F){Qe(u,u.return,F)}}o&&b&64&&Ov(m),jl(m,m.return);break;case 27:Mv(m);case 26:case 5:vs(f,m,o),o&&u===null&&b&4&&Dv(m),jl(m,m.return);break;case 12:vs(f,m,o);break;case 31:vs(f,m,o),o&&b&4&&Lv(f,m);break;case 13:vs(f,m,o),o&&b&4&&zv(f,m);break;case 22:m.memoizedState===null&&vs(f,m,o),jl(m,m.return);break;case 30:break;default:vs(f,m,o)}r=r.sibling}}function Wf(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&wl(o))}function Jf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&wl(i))}function fi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qv(i,r,o,u),r=r.sibling}function qv(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:fi(i,r,o,u),f&2048&&Ml(9,r);break;case 1:fi(i,r,o,u);break;case 3:fi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&wl(i)));break;case 12:if(f&2048){fi(i,r,o,u),i=r.stateNode;try{var m=r.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Qe(r,r.return,D)}}else fi(i,r,o,u);break;case 31:fi(i,r,o,u);break;case 13:fi(i,r,o,u);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?fi(i,r,o,u):Vl(i,r):m._visibility&2?fi(i,r,o,u):(m._visibility|=2,Za(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Wf(b,r);break;case 24:fi(i,r,o,u),f&2048&&Jf(r.alternate,r);break;default:fi(i,r,o,u)}}function Za(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,b=r,S=o,D=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:Za(m,b,S,D,f),Ml(8,b);break;case 23:break;case 22:var Q=b.stateNode;b.memoizedState!==null?Q._visibility&2?Za(m,b,S,D,f):Vl(m,b):(Q._visibility|=2,Za(m,b,S,D,f)),f&&F&2048&&Wf(b.alternate,b);break;case 24:Za(m,b,S,D,f),f&&F&2048&&Jf(b.alternate,b);break;default:Za(m,b,S,D,f)}r=r.sibling}}function Vl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Vl(o,u),f&2048&&Wf(u.alternate,u);break;case 24:Vl(o,u),f&2048&&Jf(u.alternate,u);break;default:Vl(o,u)}r=r.sibling}}var Pl=8192;function eo(i,r,o){if(i.subtreeFlags&Pl)for(i=i.child;i!==null;)Hv(i,r,o),i=i.sibling}function Hv(i,r,o){switch(i.tag){case 26:eo(i,r,o),i.flags&Pl&&i.memoizedState!==null&&o2(o,di,i.memoizedState,i.memoizedProps);break;case 5:eo(i,r,o);break;case 3:case 4:var u=di;di=uh(i.stateNode.containerInfo),eo(i,r,o),di=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Pl,Pl=16777216,eo(i,r,o),Pl=u):eo(i,r,o));break;default:eo(i,r,o)}}function Fv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ul(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qt=u,Kv(u,i)}Fv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gv(i),i=i.sibling}function Gv(i){switch(i.tag){case 0:case 11:case 15:Ul(i),i.flags&2048&&Xs(9,i,i.return);break;case 3:Ul(i);break;case 12:Ul(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Qc(i)):Ul(i);break;default:Ul(i)}}function Qc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];qt=u,Kv(u,i)}Fv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Xs(8,r,r.return),Qc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Qc(r));break;default:Qc(r)}i=i.sibling}}function Kv(i,r){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:Xs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=i;qt!==null;){u=qt;var f=u.sibling,m=u.return;if(Pv(u),u===o){qt=null;break e}if(f!==null){f.return=m,qt=f;break e}qt=m}}}var TA={getCacheForType:function(i){var r=Jt(Rt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Jt(Rt).controller.signal}},EA=typeof WeakMap=="function"?WeakMap:Map,He=0,nt=null,ke=null,je=0,Xe=0,kn=null,Qs=!1,to=!1,Zf=!1,_s=0,pt=0,Ws=0,Wr=0,ep=0,Dn=0,no=0,Ll=null,_n=null,tp=!1,Wc=0,Yv=0,Jc=1/0,Zc=null,Js=null,Pt=0,Zs=null,io=null,bs=0,np=0,ip=null,Xv=null,zl=0,sp=null;function In(){return(He&2)!==0&&je!==0?je&-je:W.T!==null?cp():ec()}function Qv(){if(Dn===0)if((je&536870912)===0||Pe){var i=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Dn=i}else Dn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Dn}function bn(i,r,o){(i===nt&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(so(i,0),er(i,je,Dn,!1)),xr(i,o),((He&2)===0||i!==nt)&&(i===nt&&((He&2)===0&&(Wr|=o),pt===4&&er(i,je,Dn,!1)),Gi(i))}function Wv(i,r,o){if((He&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ii(i,r),f=u?AA(i,r):ap(i,r,!0),m=u;do{if(f===0){to&&!u&&er(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!SA(o)){f=ap(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var S=i;f=Ll;var D=S.current.memoizedState.isDehydrated;if(D&&(so(S,b).flags|=256),b=ap(S,b,!1),b!==2){if(Zf&&!D){S.errorRecoveryDisabledLanes|=m,Wr|=m,f=4;break e}m=_n,_n=f,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){so(i,0),er(i,r,0,!0);break}e:{switch(u=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:er(u,r,Dn,!Qs);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Wc+300-un(),10<f)){if(er(u,r,Dn,!Qs),Ci(u,0,!0)!==0)break e;bs=r,u.timeoutHandle=C_(Jv.bind(null,u,o,_n,Zc,tp,r,Dn,Wr,no,Qs,m,"Throttled",-0,0),f);break e}Jv(u,o,_n,Zc,tp,r,Dn,Wr,no,Qs,m,null,-0,0)}}break}while(!0);Gi(i)}function Jv(i,r,o,u,f,m,b,S,D,F,Q,ee,G,X){if(i.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},Hv(r,m,ee);var he=(m&62914560)===m?Wc-un():(m&4194048)===m?Yv-un():0;if(he=l2(ee,he),he!==null){bs=m,i.cancelPendingCommit=he(a_.bind(null,i,r,m,o,u,f,b,S,D,Q,ee,null,G,X)),er(i,m,b,!F);return}}a_(i,r,m,o,u,f,b,S,D)}function SA(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Rn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function er(i,r,o,u){r&=~ep,r&=~Wr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-vt(f),b=1<<m;u[m]=-1,f&=~b}o!==0&&Ar(i,o,r)}function eh(){return(He&6)===0?(Bl(0),!1):!0}function rp(){if(ke!==null){if(Xe===0)var i=ke.return;else i=ke,us=$r=null,wf(i),Ya=null,El=0,i=ke;for(;i!==null;)Nv(i.alternate,i),i=i.return;ke=null}}function so(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,HA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),bs=0,rp(),nt=i,ke=o=os(i.current,null),je=r,Xe=0,kn=null,Qs=!1,to=ii(i,r),Zf=!1,no=Dn=ep=Wr=Ws=pt=0,_n=Ll=null,tp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-vt(u),m=1<<f;r|=i[f],u&=~m}return _s=r,wc(),o}function Zv(i,r){xe=null,W.H=kl,r===Ka||r===Nc?(r=my(),Xe=3):r===uf?(r=my(),Xe=4):Xe=r===Pf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,ke===null&&(pt=1,qc(i,Gn(r,i.current)))}function e_(){var i=Nn.current;return i===null?!0:(je&4194048)===je?Qn===null:(je&62914560)===je||(je&536870912)!==0?i===Qn:!1}function t_(){var i=W.H;return W.H=kl,i===null?kl:i}function n_(){var i=W.A;return W.A=TA,i}function th(){pt=4,Qs||(je&4194048)!==je&&Nn.current!==null||(to=!0),(Ws&134217727)===0&&(Wr&134217727)===0||nt===null||er(nt,je,Dn,!1)}function ap(i,r,o){var u=He;He|=2;var f=t_(),m=n_();(nt!==i||je!==r)&&(Zc=null,so(i,r)),r=!1;var b=pt;e:do try{if(Xe!==0&&ke!==null){var S=ke,D=kn;switch(Xe){case 8:rp(),b=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var F=Xe;if(Xe=0,kn=null,ro(i,S,D,F),o&&to){b=0;break e}break;default:F=Xe,Xe=0,kn=null,ro(i,S,D,F)}}xA(),b=pt;break}catch(Q){Zv(i,Q)}while(!0);return r&&i.shellSuspendCounter++,us=$r=null,He=u,W.H=f,W.A=m,ke===null&&(nt=null,je=0,wc()),b}function xA(){for(;ke!==null;)i_(ke)}function AA(i,r){var o=He;He|=2;var u=t_(),f=n_();nt!==i||je!==r?(Zc=null,Jc=un()+500,so(i,r)):to=ii(i,r);e:do try{if(Xe!==0&&ke!==null){r=ke;var m=kn;t:switch(Xe){case 1:Xe=0,kn=null,ro(i,r,m,1);break;case 2:case 9:if(fy(m)){Xe=0,kn=null,s_(r);break}r=function(){Xe!==2&&Xe!==9||nt!==i||(Xe=7),Gi(i)},m.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:fy(m)?(Xe=0,kn=null,s_(r)):(Xe=0,kn=null,ro(i,r,m,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var S=ke;if(b?q_(b):S.stateNode.complete){Xe=0,kn=null;var D=S.sibling;if(D!==null)ke=D;else{var F=S.return;F!==null?(ke=F,nh(F)):ke=null}break t}}Xe=0,kn=null,ro(i,r,m,5);break;case 6:Xe=0,kn=null,ro(i,r,m,6);break;case 8:rp(),pt=6;break e;default:throw Error(s(462))}}RA();break}catch(Q){Zv(i,Q)}while(!0);return us=$r=null,W.H=u,W.A=f,He=o,ke!==null?0:(nt=null,je=0,wc(),pt)}function RA(){for(;ke!==null&&!jd();)i_(ke)}function i_(i){var r=Rv(i.alternate,i,_s);i.memoizedProps=i.pendingProps,r===null?nh(i):ke=r}function s_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=wv(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=wv(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:wf(r);default:Nv(o,r),r=ke=ny(r,_s),r=Rv(o,r,_s)}i.memoizedProps=i.pendingProps,r===null?nh(i):ke=r}function ro(i,r,o,u){us=$r=null,wf(r),Ya=null,El=0;var f=r.return;try{if(mA(i,f,r,o,je)){pt=1,qc(i,Gn(o,i.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;pt=1,qc(i,Gn(o,i.current)),ke=null;return}r.flags&32768?(Pe||u===1?i=!0:to||(je&536870912)!==0?i=!1:(Qs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),r_(r,i)):nh(r)}function nh(i){var r=i;do{if((r.flags&32768)!==0){r_(r,Qs);return}i=r.return;var o=vA(r.alternate,r,_s);if(o!==null){ke=o;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=i}while(r!==null);pt===0&&(pt=5)}function r_(i,r){do{var o=_A(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);pt=6,ke=null}function a_(i,r,o,u,f,m,b,S,D){i.cancelPendingCommit=null;do ih();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Kd,Ud(i,o,m,b,S,D),i===nt&&(ke=nt=null,je=0),io=r,Zs=i,bs=o,np=m,ip=f,Xv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,kA(Os,function(){return h_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=ae.p,ae.p=2,b=He,He|=4;try{bA(i,r,o)}finally{He=b,ae.p=f,W.T=u}}Pt=1,o_(),l_(),u_()}}function o_(){if(Pt===1){Pt=0;var i=Zs,r=io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var f=He;He|=4;try{Bv(r,i);var m=vp,b=K0(i.containerInfo),S=m.focusedElem,D=m.selectionRange;if(b!==S&&S&&S.ownerDocument&&G0(S.ownerDocument.documentElement,S)){if(D!==null&&$d(S)){var F=D.start,Q=D.end;if(Q===void 0&&(Q=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(Q,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var X=G.getSelection(),he=S.textContent.length,ge=Math.min(D.start,he),et=D.end===void 0?ge:Math.min(D.end,he);!X.extend&&ge>et&&(b=et,et=ge,ge=b);var L=F0(S,ge),V=F0(S,et);if(L&&V&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var H=ee.createRange();H.setStart(L.node,L.offset),X.removeAllRanges(),ge>et?(X.addRange(H),X.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),X.addRange(H))}}}}for(ee=[],X=S;X=X.parentNode;)X.nodeType===1&&ee.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}mh=!!yp,vp=yp=null}finally{He=f,ae.p=u,W.T=o}}i.current=r,Pt=2}}function l_(){if(Pt===2){Pt=0;var i=Zs,r=io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var f=He;He|=4;try{Vv(i,r.alternate,r)}finally{He=f,ae.p=u,W.T=o}}Pt=3}}function u_(){if(Pt===4||Pt===3){Pt=0,Ku();var i=Zs,r=io,o=bs,u=Xv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,io=Zs=null,c_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Js=null),is(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var m=i.onRecoverableError,b=0;b<u.length;b++){var S=u[b];m(S.value,{componentStack:S.stack})}}finally{W.T=r,ae.p=f}}(bs&3)!==0&&ih(),Gi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===sp?zl++:(zl=0,sp=i):zl=0,Bl(0)}}function c_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,wl(r)))}function ih(){return o_(),l_(),u_(),h_()}function h_(){if(Pt!==5)return!1;var i=Zs,r=np;np=0;var o=is(bs),u=W.T,f=ae.p;try{ae.p=32>o?32:o,W.T=null,o=ip,ip=null;var m=Zs,b=bs;if(Pt=0,io=Zs=null,bs=0,(He&6)!==0)throw Error(s(331));var S=He;if(He|=4,Gv(m.current),qv(m,m.current,b,o),He=S,Bl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ni,m)}catch{}return!0}finally{ae.p=f,W.T=u,c_(i,r)}}function d_(i,r,o){r=Gn(o,r),r=Vf(i.stateNode,r,2),i=Gs(i,r,2),i!==null&&(xr(i,2),Gi(i))}function Qe(i,r,o){if(i.tag===3)d_(i,i,o);else for(;r!==null;){if(r.tag===3){d_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){i=Gn(o,i),o=fv(2),u=Gs(r,o,2),u!==null&&(pv(o,u,r,i),xr(u,2),Gi(u));break}}r=r.return}}function op(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new EA;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Zf=!0,f.add(o),i=CA.bind(null,i,r,o),r.then(i,i))}function CA(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(je&o)===o&&(pt===4||pt===3&&(je&62914560)===je&&300>un()-Wc?(He&2)===0&&so(i,0):ep|=o,no===je&&(no=0)),Gi(i)}function f_(i,r){r===0&&(r=Zu()),i=Lr(i,r),i!==null&&(xr(i,r),Gi(i))}function NA(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),f_(i,o)}function OA(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),f_(i,o)}function kA(i,r){return Vt(i,r)}var sh=null,ao=null,lp=!1,rh=!1,up=!1,tr=0;function Gi(i){i!==ao&&i.next===null&&(ao===null?sh=ao=i:ao=ao.next=i),rh=!0,lp||(lp=!0,IA())}function Bl(i,r){if(!up&&rh){up=!0;do for(var o=!1,u=sh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var b=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-vt(42|i)+1)-1,m&=f&~(b&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,y_(u,m))}else m=je,m=Ci(u,u===nt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ii(u,m)||(o=!0,y_(u,m));u=u.next}while(o);up=!1}}function DA(){p_()}function p_(){rh=lp=!1;var i=0;tr!==0&&qA()&&(i=tr);for(var r=un(),o=null,u=sh;u!==null;){var f=u.next,m=m_(u,r);m===0?(u.next=null,o===null?sh=f:o.next=f,f===null&&(ao=o)):(o=u,(i!==0||(m&3)!==0)&&(rh=!0)),u=f}Pt!==0&&Pt!==5||Bl(i),tr!==0&&(tr=0)}function m_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var b=31-vt(m),S=1<<b,D=f[b];D===-1?((S&o)===0||(S&u)!==0)&&(f[b]=Pd(S,r)):D<=r&&(i.expiredLanes|=S),m&=~S}if(r=nt,o=je,o=Ci(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ns(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ii(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ns(u),is(o)){case 2:case 8:o=Wo;break;case 32:o=Os;break;case 268435456:o=Yu;break;default:o=Os}return u=g_.bind(null,i),o=Vt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ns(u),i.callbackPriority=2,i.callbackNode=null,2}function g_(i,r){if(Pt!==0&&Pt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ih()&&i.callbackNode!==o)return null;var u=je;return u=Ci(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Wv(i,u,r),m_(i,un()),i.callbackNode!=null&&i.callbackNode===o?g_.bind(null,i):null)}function y_(i,r){if(ih())return null;Wv(i,r,!0)}function IA(){FA(function(){(He&6)!==0?Vt(Qo,DA):p_()})}function cp(){if(tr===0){var i=Fa;i===0&&(i=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),tr=i}return tr}function v_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oa(""+i)}function __(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function MA(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=v_((f[Bt]||null).action),b=u.submitter;b&&(r=(r=b[Bt]||null)?v_(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var S=new Li("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(tr!==0){var D=b?__(f,b):new FormData(f);Of(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=b?__(f,b):new FormData(f),Of(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var hp=0;hp<Gd.length;hp++){var dp=Gd[hp],jA=dp.toLowerCase(),VA=dp[0].toUpperCase()+dp.slice(1);hi(jA,"on"+VA)}hi(Q0,"onAnimationEnd"),hi(W0,"onAnimationIteration"),hi(J0,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Jx,"onTransitionRun"),hi(Zx,"onTransitionStart"),hi(eA,"onTransitionCancel"),hi(Z0,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function b_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var b=u.length-1;0<=b;b--){var S=u[b],D=S.instance,F=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=F;try{m(f)}catch(Q){bc(Q)}f.currentTarget=null,m=D}else for(b=0;b<u.length;b++){if(S=u[b],D=S.instance,F=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=F;try{m(f)}catch(Q){bc(Q)}f.currentTarget=null,m=D}}}}function De(i,r){var o=r[xa];o===void 0&&(o=r[xa]=new Set);var u=i+"__bubble";o.has(u)||(w_(r,i,2,!1),o.add(u))}function fp(i,r,o){var u=0;r&&(u|=4),w_(o,i,u,r)}var ah="_reactListening"+Math.random().toString(36).slice(2);function pp(i){if(!i[ah]){i[ah]=!0,el.forEach(function(o){o!=="selectionchange"&&(PA.has(o)||fp(o,!1,i),fp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ah]||(r[ah]=!0,fp("selectionchange",!1,r))}}function w_(i,r,o,u){switch(Q_(r)){case 2:var f=h2;break;case 8:f=d2;break;default:f=Np}o=f.bind(null,r,o,i),f=void 0,!kr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function mp(i,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=u.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=Di(S),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){u=m=b;continue e}S=S.parentNode}}u=u.return}Vs(function(){var F=m,Q=$n(o),ee=[];e:{var G=ey.get(i);if(G!==void 0){var X=Li,he=i;switch(i){case"keypress":if(Ir(o)===0)break e;case"keydown":case"keyup":X=yc;break;case"focusin":he="focus",X=jr;break;case"focusout":he="blur",X=jr;break;case"beforeblur":case"afterblur":X=jr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Q0:case W0:case J0:X=cc;break;case Z0:X=x;break;case"scroll":case"scrollend":X=dl;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=as;break;case"toggle":case"beforetoggle":X=Se}var ge=(r&4)!==0,et=!ge&&(i==="scroll"||i==="scrollend"),L=ge?G!==null?G+"Capture":null:G;ge=[];for(var V=F,H;V!==null;){var J=V;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=oi(V,L),J!=null&&ge.push(ql(V,J,H))),et)break;V=V.return}0<ge.length&&(G=new X(G,he,null,o,Q),ee.push({event:G,listeners:ge}))}}if((r&7)===0){e:{if(G=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",G&&o!==ul&&(he=o.relatedTarget||o.fromElement)&&(Di(he)||he[Oi]))break e;if((X||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,X?(he=o.relatedTarget||o.toElement,X=F,he=he?Di(he):null,he!==null&&(et=l(he),ge=he.tag,he!==et||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(X=null,he=F),X!==he)){if(ge=fl,J="onMouseLeave",L="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(ge=as,J="onPointerLeave",L="onPointerEnter",V="pointer"),et=X==null?G:xn(X),H=he==null?G:xn(he),G=new ge(J,V+"leave",X,o,Q),G.target=et,G.relatedTarget=H,J=null,Di(Q)===F&&(ge=new ge(L,V+"enter",he,o,Q),ge.target=H,ge.relatedTarget=et,J=ge),et=J,X&&he)t:{for(ge=UA,L=X,V=he,H=0,J=L;J;J=ge(J))H++;J=0;for(var me=V;me;me=ge(me))J++;for(;0<H-J;)L=ge(L),H--;for(;0<J-H;)V=ge(V),J--;for(;H--;){if(L===V||V!==null&&L===V.alternate){ge=L;break t}L=ge(L),V=ge(V)}ge=null}else ge=null;X!==null&&T_(ee,G,X,ge,!1),he!==null&&et!==null&&T_(ee,et,he,ge,!0)}}e:{if(G=F?xn(F):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var Be=L0;else if(P0(G))if(z0)Be=Xx;else{Be=Kx;var fe=Gx}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Na(F.elementType)&&(Be=L0):Be=Yx;if(Be&&(Be=Be(i,F))){U0(ee,Be,o,Q);break e}fe&&fe(i,G,F),i==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&al(G,"number",G.value)}switch(fe=F?xn(F):window,i){case"focusin":(P0(fe)||fe.contentEditable==="true")&&(Pa=fe,qd=F,vl=null);break;case"focusout":vl=qd=Pa=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,Y0(ee,o,Q);break;case"selectionchange":if(Wx)break;case"keydown":case"keyup":Y0(ee,o,Q)}var Ne;if(qe)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Va?Vr(i,o)&&(Ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&($i&&o.locale!=="ko"&&(Va||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Va&&(Ne=hl()):(Ui=Q,cl="value"in Ui?Ui.value:Ui.textContent,Va=!0)),fe=oh(F,Ve),0<fe.length&&(Ve=new Bi(Ve,i,null,o,Q),ee.push({event:Ve,listeners:fe}),Ne?Ve.data=Ne:(Ne=ja(o),Ne!==null&&(Ve.data=Ne)))),(Ne=Hn?$x(i,o):qx(i,o))&&(Ve=oh(F,"onBeforeInput"),0<Ve.length&&(fe=new Bi("onBeforeInput","beforeinput",null,o,Q),ee.push({event:fe,listeners:Ve}),fe.data=Ne)),MA(ee,i,F,o,Q)}b_(ee,r)})}function ql(i,r,o){return{instance:i,listener:r,currentTarget:o}}function oh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=oi(i,o),f!=null&&u.unshift(ql(i,f,m)),f=oi(i,r),f!=null&&u.push(ql(i,f,m))),i.tag===3)return u;i=i.return}return[]}function UA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function T_(i,r,o,u,f){for(var m=r._reactName,b=[];o!==null&&o!==u;){var S=o,D=S.alternate,F=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||F===null||(D=F,f?(F=oi(o,m),F!=null&&b.unshift(ql(o,F,D))):f||(F=oi(o,m),F!=null&&b.push(ql(o,F,D)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var LA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function E_(i){return(typeof i=="string"?i:""+i).replace(LA,`
`).replace(zA,"")}function S_(i,r){return r=E_(r),E_(i)===r}function Ze(i,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||mn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&mn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":ll(i,u,m);break;case"data":if(r!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Ze(i,r,"name",f.name,f,null),Ze(i,r,"formEncType",f.formEncType,f,null),Ze(i,r,"formMethod",f.formMethod,f,null),Ze(i,r,"formTarget",f.formTarget,f,null)):(Ze(i,r,"encType",f.encType,f,null),Ze(i,r,"method",f.method,f,null),Ze(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ai);break;case"onScroll":u!=null&&De("scroll",i);break;case"onScrollEnd":u!=null&&De("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Oa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":De("beforetoggle",i),De("toggle",i),Ra(i,"popover",u);break;case"xlinkActuate":At(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":At(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":At(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":At(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":At(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":At(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":At(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":At(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":At(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ra(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=oc.get(o)||o,Ra(i,o,u))}}function gp(i,r,o,u,f,m){switch(o){case"style":ll(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?mn(i,u):(typeof u=="number"||typeof u=="bigint")&&mn(i,""+u);break;case"onScroll":u!=null&&De("scroll",i);break;case"onScrollEnd":u!=null&&De("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[Bt]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ra(i,o,u)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",i),De("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(i,r,m,b,o,null)}}f&&Ze(i,r,"srcSet",o.srcSet,o,null),u&&Ze(i,r,"src",o.src,o,null);return;case"input":De("invalid",i);var S=m=b=f=null,D=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Q=o[u];if(Q!=null)switch(u){case"name":f=Q;break;case"type":b=Q;break;case"checked":D=Q;break;case"defaultChecked":F=Q;break;case"value":m=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Ze(i,r,u,Q,o,null)}}sc(i,m,S,D,F,b,f,!1);return;case"select":De("invalid",i),u=b=m=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:Ze(i,r,f,S,o,null)}r=m,o=b,i.multiple=!!u,r!=null?Ds(i,!!u,r,!1):o!=null&&Ds(i,!!u,o,!0);return;case"textarea":De("invalid",i),m=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(i,r,b,S,o,null)}Is(i,u,f,m);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(i,r,D,u,o,null)}return;case"dialog":De("beforetoggle",i),De("toggle",i),De("cancel",i),De("close",i);break;case"iframe":case"object":De("load",i);break;case"video":case"audio":for(u=0;u<$l.length;u++)De($l[u],i);break;case"image":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"embed":case"source":case"link":De("error",i),De("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(i,r,F,u,o,null)}return;default:if(Na(r)){for(Q in o)o.hasOwnProperty(Q)&&(u=o[Q],u!==void 0&&gp(i,r,Q,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Ze(i,r,S,u,o,null))}function BA(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,S=null,D=null,F=null,Q=null;for(X in o){var ee=o[X];if(o.hasOwnProperty(X)&&ee!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ee;default:u.hasOwnProperty(X)||Ze(i,r,X,null,u,ee)}}for(var G in u){var X=u[G];if(ee=o[G],u.hasOwnProperty(G)&&(X!=null||ee!=null))switch(G){case"type":m=X;break;case"name":f=X;break;case"checked":F=X;break;case"defaultChecked":Q=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ee&&Ze(i,r,G,X,u,ee)}}Ca(i,b,S,D,F,Q,m,f);return;case"select":X=b=S=G=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:u.hasOwnProperty(m)||Ze(i,r,m,null,u,D)}for(f in u)if(m=u[f],D=o[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==D&&Ze(i,r,f,m,u,D)}r=S,o=b,u=X,G!=null?Ds(i,!!o,G,!1):!!u!=!!o&&(r!=null?Ds(i,!!o,r,!0):Ds(i,!!o,o?[]:"",!1));return;case"textarea":X=G=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(i,r,S,null,u,f)}for(b in u)if(f=u[b],m=o[b],u.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":G=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ze(i,r,b,f,u,m)}rc(i,G,X);return;case"option":for(var he in o)if(G=o[he],o.hasOwnProperty(he)&&G!=null&&!u.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:Ze(i,r,he,null,u,G)}for(D in u)if(G=u[D],X=o[D],u.hasOwnProperty(D)&&G!==X&&(G!=null||X!=null))switch(D){case"selected":i.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(i,r,D,G,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in o)G=o[ge],o.hasOwnProperty(ge)&&G!=null&&!u.hasOwnProperty(ge)&&Ze(i,r,ge,null,u,G);for(F in u)if(G=u[F],X=o[F],u.hasOwnProperty(F)&&G!==X&&(G!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Ze(i,r,F,G,u,X)}return;default:if(Na(r)){for(var et in o)G=o[et],o.hasOwnProperty(et)&&G!==void 0&&!u.hasOwnProperty(et)&&gp(i,r,et,void 0,u,G);for(Q in u)G=u[Q],X=o[Q],!u.hasOwnProperty(Q)||G===X||G===void 0&&X===void 0||gp(i,r,Q,G,u,X);return}}for(var L in o)G=o[L],o.hasOwnProperty(L)&&G!=null&&!u.hasOwnProperty(L)&&Ze(i,r,L,null,u,G);for(ee in u)G=u[ee],X=o[ee],!u.hasOwnProperty(ee)||G===X||G==null&&X==null||Ze(i,r,ee,G,u,X)}function x_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $A(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,b=f.initiatorType,S=f.duration;if(m&&S&&x_(b)){for(b=0,S=f.responseEnd,u+=1;u<o.length;u++){var D=o[u],F=D.startTime;if(F>S)break;var Q=D.transferSize,ee=D.initiatorType;Q&&x_(ee)&&(D=D.responseEnd,b+=Q*(D<S?1:(S-F)/(D-F)))}if(--u,r+=8*(m+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var yp=null,vp=null;function lh(i){return i.nodeType===9?i:i.ownerDocument}function A_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function _p(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function qA(){var i=window.event;return i&&i.type==="popstate"?i===bp?!1:(bp=i,!0):(bp=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(i){return N_.resolve(null).then(i).catch(GA)}:C_;function GA(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function O_(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),co(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Hl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Hl(o);for(var m=o.firstChild;m;){var b=m.nextSibling,S=m.nodeName;m[ki]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=b}}else o==="body"&&Hl(i.ownerDocument.body);o=f}while(o);co(r)}function k_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function wp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wp(o),Aa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function KA(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ki])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function YA(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function D_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Wn(i.nextSibling),i===null))return null;return i}function Tp(i){return i.data==="$?"||i.data==="$~"}function Ep(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function XA(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Sp=null;function I_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Wn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function M_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function j_(i,r,o){switch(r=lh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Hl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Aa(i)}var Jn=new Map,V_=new Set;function uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ws=ae.d;ae.d={f:QA,r:WA,D:JA,C:ZA,L:e2,m:t2,X:i2,S:n2,M:s2};function QA(){var i=ws.f(),r=eh();return i||r}function WA(i){var r=Bn(i);r!==null&&r.tag===5&&r.type==="form"?Zy(r):ws.r(i)}var oo=typeof document>"u"?null:document;function P_(i,r,o){var u=oo;if(u&&typeof r=="string"&&r){var f=pn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),V_.has(f)||(V_.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),en(r,"link",i),xt(r),u.head.appendChild(r)))}}function JA(i){ws.D(i),P_("dns-prefetch",i,null)}function ZA(i,r){ws.C(i,r),P_("preconnect",i,r)}function e2(i,r,o){ws.L(i,r,o);var u=oo;if(u&&i&&r){var f='link[rel="preload"][as="'+pn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pn(o.imageSizes)+'"]')):f+='[href="'+pn(i)+'"]';var m=f;switch(r){case"style":m=lo(i);break;case"script":m=uo(i)}Jn.has(m)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Jn.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Fl(m))||r==="script"&&u.querySelector(Gl(m))||(r=u.createElement("link"),en(r,"link",i),xt(r),u.head.appendChild(r)))}}function t2(i,r){ws.m(i,r);var o=oo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(i)}if(!Jn.has(m)&&(i=_({rel:"modulepreload",href:i},r),Jn.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gl(m)))return}u=o.createElement("link"),en(u,"link",i),xt(u),o.head.appendChild(u)}}}function n2(i,r,o){ws.S(i,r,o);var u=oo;if(u&&i){var f=Ii(u).hoistableStyles,m=lo(i);r=r||"default";var b=f.get(m);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(Fl(m)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Jn.get(m))&&xp(i,o);var D=b=u.createElement("link");xt(D),en(D,"link",i),D._p=new Promise(function(F,Q){D.onload=F,D.onerror=Q}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ch(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(m,b)}}}function i2(i,r){ws.X(i,r);var o=oo;if(o&&i){var u=Ii(o).hoistableScripts,f=uo(i),m=u.get(f);m||(m=o.querySelector(Gl(f)),m||(i=_({src:i,async:!0},r),(r=Jn.get(f))&&Ap(i,r),m=o.createElement("script"),xt(m),en(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function s2(i,r){ws.M(i,r);var o=oo;if(o&&i){var u=Ii(o).hoistableScripts,f=uo(i),m=u.get(f);m||(m=o.querySelector(Gl(f)),m||(i=_({src:i,async:!0,type:"module"},r),(r=Jn.get(f))&&Ap(i,r),m=o.createElement("script"),xt(m),en(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function U_(i,r,o,u){var f=(f=Ce.current)?uh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=lo(o.href),o=Ii(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=lo(o.href);var m=Ii(f).hoistableStyles,b=m.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,b),(m=f.querySelector(Fl(i)))&&!m._p&&(b.instance=m,b.state.loading=5),Jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(i,o),m||r2(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(o),o=Ii(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function lo(i){return'href="'+pn(i)+'"'}function Fl(i){return'link[rel="stylesheet"]['+i+"]"}function L_(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function r2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),en(r,"link",o),xt(r),i.head.appendChild(r))}function uo(i){return'[src="'+pn(i)+'"]'}function Gl(i){return"script[async]"+i}function z_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return r.instance=u,xt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),xt(u),en(u,"style",f),ch(u,o.precedence,i),r.instance=u;case"stylesheet":f=lo(o.href);var m=i.querySelector(Fl(f));if(m)return r.state.loading|=4,r.instance=m,xt(m),m;u=L_(o),(f=Jn.get(f))&&xp(u,f),m=(i.ownerDocument||i).createElement("link"),xt(m);var b=m;return b._p=new Promise(function(S,D){b.onload=S,b.onerror=D}),en(m,"link",u),r.state.loading|=4,ch(m,o.precedence,i),r.instance=m;case"script":return m=uo(o.src),(f=i.querySelector(Gl(m)))?(r.instance=f,xt(f),f):(u=o,(f=Jn.get(m))&&(u=_({},o),Ap(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),xt(f),en(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ch(u,o.precedence,i));return r.instance}function ch(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Ap(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var hh=null;function B_(i,r,o){if(hh===null){var u=new Map,f=hh=new Map;f.set(o,u)}else f=hh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[ki]||m[St]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=i+b;var S=u.get(b);S?S.push(m):u.set(b,[m])}}return u}function $_(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function a2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function q_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function o2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=lo(u.href),m=r.querySelector(Fl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=dh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=m,xt(m);return}m=r.ownerDocument||r,u=L_(u),(f=Jn.get(f))&&xp(u,f),m=m.createElement("link"),xt(m);var b=m;b._p=new Promise(function(S,D){b.onload=S,b.onerror=D}),en(m,"link",u),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=dh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Rp=0;function l2(i,r){return i.stylesheets&&i.count===0&&ph(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&Rp===0&&(Rp=62500*$A());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>Rp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var fh=null;function ph(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,fh=new Map,r.forEach(u2,i),fh=null,dh.call(i))}function u2(i,r){if(!(r.state.loading&4)){var o=fh.get(i);if(o)var u=o.get(null);else{o=new Map,fh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),m=o.get(b)||u,m===u&&o.set(null,f),o.set(b,f),this.count++,u=dh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Kl={$$typeof:B,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function c2(i,r,o,u,f,m,b,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function H_(i,r,o,u,f,m,b,S,D,F,Q,ee){return i=new c2(i,r,o,b,D,F,Q,ee,S),r=1,m===!0&&(r|=24),m=Cn(3,null,null,r),i.current=m,m.stateNode=i,r=af(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},cf(m),i}function F_(i){return i?(i=za,i):za}function G_(i,r,o,u,f,m){f=F_(f),u.context===null?u.context=f:u.pendingContext=f,u=Fs(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Gs(i,u,r),o!==null&&(bn(o,i,r),xl(o,i,r))}function K_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Cp(i,r){K_(i,r),(i=i.alternate)&&K_(i,r)}function Y_(i){if(i.tag===13||i.tag===31){var r=Lr(i,67108864);r!==null&&bn(r,i,67108864),Cp(i,67108864)}}function X_(i){if(i.tag===13||i.tag===31){var r=In();r=Rr(r);var o=Lr(i,r);o!==null&&bn(o,i,r),Cp(i,r)}}var mh=!0;function h2(i,r,o,u){var f=W.T;W.T=null;var m=ae.p;try{ae.p=2,Np(i,r,o,u)}finally{ae.p=m,W.T=f}}function d2(i,r,o,u){var f=W.T;W.T=null;var m=ae.p;try{ae.p=8,Np(i,r,o,u)}finally{ae.p=m,W.T=f}}function Np(i,r,o,u){if(mh){var f=Op(u);if(f===null)mp(i,r,u,gh,o),W_(i,u);else if(p2(f,i,r,o,u))u.stopPropagation();else if(W_(i,u),r&4&&-1<f2.indexOf(i)){for(;f!==null;){var m=Bn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Ri(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var D=1<<31-vt(b);S.entanglements[1]|=D,b&=~D}Gi(m),(He&6)===0&&(Jc=un()+500,Bl(0))}}break;case 31:case 13:S=Lr(m,2),S!==null&&bn(S,m,2),eh(),Cp(m,2)}if(m=Op(u),m===null&&mp(i,r,u,gh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else mp(i,r,u,null,o)}}function Op(i){return i=$n(i),kp(i)}var gh=null;function kp(i){if(gh=null,i=Di(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return gh=i,null}function Q_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Qo:return 2;case Wo:return 8;case Os:case Vd:return 32;case Yu:return 268435456;default:return 32}default:return 32}}var Dp=!1,ir=null,sr=null,rr=null,Yl=new Map,Xl=new Map,ar=[],f2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Yl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(r.pointerId)}}function Ql(i,r,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Bn(r),r!==null&&Y_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function p2(i,r,o,u,f){switch(r){case"focusin":return ir=Ql(ir,i,r,o,u,f),!0;case"dragenter":return sr=Ql(sr,i,r,o,u,f),!0;case"mouseover":return rr=Ql(rr,i,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return Yl.set(m,Ql(Yl.get(m)||null,i,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Xl.set(m,Ql(Xl.get(m)||null,i,r,o,u,f)),!0}return!1}function J_(i){var r=Di(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,si(i.priority,function(){X_(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,si(i.priority,function(){X_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Op(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);ul=u,o.target.dispatchEvent(u),ul=null}else return r=Bn(o),r!==null&&Y_(r),i.blockedOn=o,!1;r.shift()}return!0}function Z_(i,r,o){yh(i)&&o.delete(r)}function m2(){Dp=!1,ir!==null&&yh(ir)&&(ir=null),sr!==null&&yh(sr)&&(sr=null),rr!==null&&yh(rr)&&(rr=null),Yl.forEach(Z_),Xl.forEach(Z_)}function vh(i,r){i.blockedOn===r&&(i.blockedOn=null,Dp||(Dp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m2)))}var _h=null;function eb(i){_h!==i&&(_h=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_h===i&&(_h=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(kp(u||o)===null)continue;break}var m=Bn(o);m!==null&&(i.splice(r,3),r-=3,Of(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function co(i){function r(D){return vh(D,i)}ir!==null&&vh(ir,i),sr!==null&&vh(sr,i),rr!==null&&vh(rr,i),Yl.forEach(r),Xl.forEach(r);for(var o=0;o<ar.length;o++){var u=ar[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)J_(o),o.blockedOn===null&&ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],b=f[Bt]||null;if(typeof m=="function")b||eb(o);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[Bt]||null)S=b.formAction;else if(kp(f)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),eb(o)}}}function tb(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Ip(i){this._internalRoot=i}bh.prototype.render=Ip.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=In();G_(o,u,i,r,null,null)},bh.prototype.unmount=Ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;G_(i.current,2,null,i,null,null),eh(),r[Oi]=null}};function bh(i){this._internalRoot=i}bh.prototype.unstable_scheduleHydration=function(i){if(i){var r=ec();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ar.length&&r!==0&&r<ar[o].priority;o++);ar.splice(o,0,i),o===0&&J_(i)}};var nb=e.version;if(nb!=="19.2.3")throw Error(s(527,nb,"19.2.3"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var g2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ni=wh.inject(g2),Xt=wh}catch{}}return Jl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=uv,m=cv,b=hv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=H_(i,1,!1,null,null,o,u,null,f,m,b,tb),i[Oi]=r.current,pp(i),new Ip(r)},Jl.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",m=uv,b=cv,S=hv,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=H_(i,1,!0,r,o??null,u,f,D,m,b,S,tb),r.context=F_(null),o=r.current,u=In(),u=Rr(u),f=Fs(u),f.callback=null,Gs(o,f,u),o=u,r.current.lanes=o,xr(r,o),Gi(r),i[Oi]=r.current,pp(i),new bh(r)},Jl.version="19.2.3",Jl}var db;function A2(){if(db)return Vp.exports;db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vp.exports=x2(),Vp.exports}var R2=A2();const C2=vT(R2),xg=ne.createContext({});function Bo(t){const e=ne.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ag=typeof window<"u",_d=Ag?ne.useLayoutEffect:ne.useEffect,bd=ne.createContext(null);function Rg(t,e){t.indexOf(e)===-1&&t.push(e)}function Cg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zi=(t,e,n)=>n>e?e:n<t?t:n;let wu=()=>{};const xs={},bT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wT(t){return typeof t=="object"&&t!==null}const TT=t=>/^0[^.\s]+$/u.test(t);function Ng(t){let e;return()=>(e===void 0&&(e=t()),e)}const Tn=t=>t,N2=(t,e)=>n=>e(t(n)),Pu=(...t)=>t.reduce(N2),Mo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Og{constructor(){this.subscriptions=[]}add(e){return Rg(this.subscriptions,e),()=>Cg(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,ti=t=>t/1e3;function kg(t,e){return e?t*(1e3/e):0}const ET=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,O2=1e-7,k2=12;function D2(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=ET(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>O2&&++d<k2);return c}function Uu(t,e,n,s){if(t===e&&n===s)return Tn;const a=l=>D2(l,0,1,t,n);return l=>l===0||l===1?l:ET(a(l),e,s)}const ST=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xT=t=>e=>1-t(1-e),AT=Uu(.33,1.53,.69,.99),Dg=xT(AT),RT=ST(Dg),CT=t=>(t*=2)<1?.5*Dg(t):.5*(2-Math.pow(2,-10*(t-1))),Ig=t=>1-Math.sin(Math.acos(t)),NT=xT(Ig),OT=ST(Ig),I2=Uu(.42,0,1,1),M2=Uu(0,0,.58,1),kT=Uu(.42,0,.58,1),j2=t=>Array.isArray(t)&&typeof t[0]!="number",DT=t=>Array.isArray(t)&&typeof t[0]=="number",V2={linear:Tn,easeIn:I2,easeInOut:kT,easeOut:M2,circIn:Ig,circInOut:OT,circOut:NT,backIn:Dg,backInOut:RT,backOut:AT,anticipate:CT},P2=t=>typeof t=="string",fb=t=>{if(DT(t)){wu(t.length===4);const[e,n,s,a]=t;return Uu(e,n,s,a)}else if(P2(t))return V2[t];return t},Th=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function U2(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(g.schedule(y),t()),y(d)}const g={schedule:(y,_=!1,E=!1)=>{const O=E&&a?n:s;return _&&c.add(y),O.has(y)||O.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const L2=40;function IT(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Th.reduce((B,Z)=>(B[Z]=U2(l),B),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:y,update:_,preRender:E,render:A,postRender:O}=c,I=()=>{const B=xs.useManualTiming?a.timestamp:performance.now();n=!1,xs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,L2),1)),a.timestamp=B,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),y.process(a),_.process(a),E.process(a),A.process(a),O.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(I))},P=()=>{n=!0,s=!0,a.isProcessing||t(I)};return{schedule:Th.reduce((B,Z)=>{const se=c[Z];return B[Z]=(ie,C=!1,R=!1)=>(n||P(),se.schedule(ie,C,R)),B},{}),cancel:B=>{for(let Z=0;Z<Th.length;Z++)c[Th[Z]].cancel(B)},state:a,steps:c}}const{schedule:Ke,cancel:Ei,state:Ht,steps:zp}=IT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tn,!0);let Lh;function z2(){Lh=void 0}const wn={now:()=>(Lh===void 0&&wn.set(Ht.isProcessing||xs.useManualTiming?Ht.timestamp:performance.now()),Lh),set:t=>{Lh=t,queueMicrotask(z2)}},MT=t=>e=>typeof e=="string"&&e.startsWith(t),jT=MT("--"),B2=MT("var(--"),Mg=t=>B2(t)?$2.test(t.split("/*")[0].trim()):!1,$2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$o={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...$o,transform:t=>Zi(0,1,t)},Eh={...$o,default:1},au=t=>Math.round(t*1e5)/1e5,jg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q2(t){return t==null}const H2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vg=(t,e)=>n=>!!(typeof n=="string"&&H2.test(n)&&n.startsWith(t)||e&&!q2(n)&&Object.prototype.hasOwnProperty.call(n,e)),VT=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(jg);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},F2=t=>Zi(0,255,t),Bp={...$o,transform:t=>Math.round(F2(t))},ra={test:Vg("rgb","red"),parse:VT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Bp.transform(t)+", "+Bp.transform(e)+", "+Bp.transform(n)+", "+au(Tu.transform(s))+")"};function G2(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const xm={test:Vg("#"),parse:G2,transform:ra.transform},Lu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ur=Lu("deg"),Wi=Lu("%"),we=Lu("px"),K2=Lu("vh"),Y2=Lu("vw"),pb={...Wi,parse:t=>Wi.parse(t)/100,transform:t=>Wi.transform(t*100)},To={test:Vg("hsl","hue"),parse:VT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Wi.transform(au(e))+", "+Wi.transform(au(n))+", "+au(Tu.transform(s))+")"},It={test:t=>ra.test(t)||xm.test(t)||To.test(t),parse:t=>ra.test(t)?ra.parse(t):To.test(t)?To.parse(t):xm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ra.transform(t):To.transform(t),getAnimatableNone:t=>{const e=It.parse(t);return e.alpha=0,It.transform(e)}},X2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q2(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jg))==null?void 0:e.length)||0)+(((n=t.match(X2))==null?void 0:n.length)||0)>0}const PT="number",UT="color",W2="var",J2="var(",mb="${}",Z2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(Z2,p=>(It.test(p)?(s.color.push(l),a.push(UT),n.push(It.parse(p))):p.startsWith(J2)?(s.var.push(l),a.push(W2),n.push(p)):(s.number.push(l),a.push(PT),n.push(parseFloat(p))),++l,mb)).split(mb);return{values:n,split:d,indexes:s,types:a}}function LT(t){return Eu(t).values}function zT(t){const{split:e,types:n}=Eu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===PT?l+=au(a[c]):d===UT?l+=It.transform(a[c]):l+=a[c]}return l}}const eR=t=>typeof t=="number"?0:It.test(t)?It.getAnimatableNone(t):t;function tR(t){const e=LT(t);return zT(t)(e.map(eR))}const gr={test:Q2,parse:LT,createTransformer:zT,getAnimatableNone:tR};function $p(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nR({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,p=2*n-d;a=$p(p,d,t+1/3),l=$p(p,d,t),c=$p(p,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Jh(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,qp=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},iR=[xm,ra,To],sR=t=>iR.find(e=>e.test(t));function gb(t){const e=sR(t);if(!e)return!1;let n=e.parse(t);return e===To&&(n=nR(n)),n}const yb=(t,e)=>{const n=gb(t),s=gb(e);if(!n||!s)return Jh(t,e);const a={...n};return l=>(a.red=qp(n.red,s.red,l),a.green=qp(n.green,s.green,l),a.blue=qp(n.blue,s.blue,l),a.alpha=ht(n.alpha,s.alpha,l),ra.transform(a))},Am=new Set(["none","hidden"]);function rR(t,e){return Am.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function aR(t,e){return n=>ht(t,e,n)}function Pg(t){return typeof t=="number"?aR:typeof t=="string"?Mg(t)?Jh:It.test(t)?yb:uR:Array.isArray(t)?BT:typeof t=="object"?It.test(t)?yb:oR:Jh}function BT(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Pg(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function oR(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Pg(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function lR(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const uR=(t,e)=>{const n=gr.createTransformer(e),s=Eu(t),a=Eu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Am.has(t)&&!a.values.length||Am.has(e)&&!s.values.length?rR(t,e):Pu(BT(lR(s,a),a.values),n):Jh(t,e)};function $T(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):Pg(t)(t,e)}const cR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ke.update(e,n),stop:()=>Ei(e),now:()=>Ht.isProcessing?Ht.timestamp:wn.now()}},qT=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Zh=2e4;function Ug(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Zh;)e+=n,s=t.next(e);return e>=Zh?1/0:e}function hR(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Ug(s),Zh);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ti(a)}}const dR=5;function HT(t,e,n){const s=Math.max(e-dR,0);return kg(n-t(s),e-s)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hp=.001;function fR({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:s=gt.mass}){let a,l,c=1-e;c=Zi(gt.minDamping,gt.maxDamping,c),t=Zi(gt.minDuration,gt.maxDuration,ti(t)),c<1?(a=g=>{const y=g*c,_=y*t,E=y-n,A=Rm(g,c),O=Math.exp(-_);return Hp-E/A*O},l=g=>{const _=g*c*t,E=_*n+n,A=Math.pow(c,2)*Math.pow(g,2)*t,O=Math.exp(-_),I=Rm(Math.pow(g,2),c);return(-a(g)+Hp>0?-1:1)*((E-A)*O)/I}):(a=g=>{const y=Math.exp(-g*t),_=(g-n)*t+1;return-Hp+y*_},l=g=>{const y=Math.exp(-g*t),_=(n-g)*(t*t);return y*_});const d=5/t,p=mR(a,l,d);if(t=Qi(t),isNaN(p))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:t}}}const pR=12;function mR(t,e,n){let s=n;for(let a=1;a<pR;a++)s=s-t(s)/e(s);return s}function Rm(t,e){return t*Math.sqrt(1-e*e)}const gR=["duration","bounce"],yR=["stiffness","damping","mass"];function vb(t,e){return e.some(n=>t[n]!==void 0)}function vR(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!vb(t,yR)&&vb(t,gR))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Zi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:gt.mass,stiffness:a,damping:l}}else{const n=fR(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function ed(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:g,mass:y,duration:_,velocity:E,isResolvedFromDuration:A}=vR({...n,velocity:-ti(n.velocity||0)}),O=E||0,I=g/(2*Math.sqrt(p*y)),P=c-l,$=ti(Math.sqrt(p/y)),Y=Math.abs(P)<5;s||(s=Y?gt.restSpeed.granular:gt.restSpeed.default),a||(a=Y?gt.restDelta.granular:gt.restDelta.default);let B;if(I<1){const se=Rm($,I);B=ie=>{const C=Math.exp(-I*$*ie);return c-C*((O+I*$*P)/se*Math.sin(se*ie)+P*Math.cos(se*ie))}}else if(I===1)B=se=>c-Math.exp(-$*se)*(P+(O+$*P)*se);else{const se=$*Math.sqrt(I*I-1);B=ie=>{const C=Math.exp(-I*$*ie),R=Math.min(se*ie,300);return c-C*((O+I*$*P)*Math.sinh(R)+se*P*Math.cosh(R))/se}}const Z={calculatedDuration:A&&_||null,next:se=>{const ie=B(se);if(A)d.done=se>=_;else{let C=se===0?O:0;I<1&&(C=se===0?Qi(O):HT(B,se,ie));const R=Math.abs(C)<=s,N=Math.abs(c-ie)<=a;d.done=R&&N}return d.value=d.done?c:ie,d},toString:()=>{const se=Math.min(Ug(Z),Zh),ie=qT(C=>Z.next(se*C).value,se,30);return se+"ms "+ie},toTransition:()=>{}};return Z}ed.applyToOptions=t=>{const e=hR(t,100,ed);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function Cm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},A=R=>d!==void 0&&R<d||p!==void 0&&R>p,O=R=>d===void 0?p:p===void 0||Math.abs(d-R)<Math.abs(p-R)?d:p;let I=n*e;const P=_+I,$=c===void 0?P:c(P);$!==P&&(I=$-_);const Y=R=>-I*Math.exp(-R/s),B=R=>$+Y(R),Z=R=>{const N=Y(R),j=B(R);E.done=Math.abs(N)<=g,E.value=E.done?$:j};let se,ie;const C=R=>{A(E.value)&&(se=R,ie=ed({keyframes:[E.value,O(E.value)],velocity:HT(B,R,E.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:R=>{let N=!1;return!ie&&se===void 0&&(N=!0,Z(R),C(R)),se!==void 0&&R>=se?ie.next(R-se):(!N&&Z(R),E)}}}function _R(t,e,n){const s=[],a=n||xs.mix||$T,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||Tn:e;d=Pu(p,d)}s.push(d)}return s}function Lg(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(wu(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=_R(e,s,a),p=d.length,g=y=>{if(c&&y<t[0])return e[0];let _=0;if(p>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=Mo(t[_],t[_+1],y);return d[_](E)};return n?y=>g(Zi(t[0],t[l-1],y)):g}function bR(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Mo(0,e,s);t.push(ht(n,1,a))}}function FT(t){const e=[0];return bR(e,t.length-1),e}function wR(t,e){return t.map(n=>n*e)}function TR(t,e){return t.map(()=>e||kT).splice(0,t.length-1)}function ou({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=j2(s)?s.map(fb):fb(s),l={done:!1,value:e[0]},c=wR(n&&n.length===e.length?n:FT(e),t),d=Lg(c,e,{ease:Array.isArray(a)?a:TR(e,a)});return{calculatedDuration:t,next:p=>(l.value=d(p),l.done=p>=t,l)}}const ER=t=>t!==null;function zg(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(ER),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const SR={decay:Cm,inertia:Cm,tween:ou,keyframes:ou,spring:ed};function GT(t){typeof t.type=="string"&&(t.type=SR[t.type])}class Bg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xR=t=>t/100;class wd extends Bg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GT(e);const{type:n=ou,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const p=n||ou;p!==ou&&typeof d[0]!="number"&&(this.mixKeyframes=Pu(xR,$T(d[0],d[1])),d=[0,100]);const g=p({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ug(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:A,type:O,onUpdate:I,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const $=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?$<0:$>a;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,Z=s;if(_){const R=Math.min(this.currentTime,a)/d;let N=Math.floor(R),j=R%1;!j&&R>=1&&(j=1),j===1&&N--,N=Math.min(N,_+1),!!(N%2)&&(E==="reverse"?(j=1-j,A&&(j-=A/d)):E==="mirror"&&(Z=c)),B=Zi(0,1,j)*d}const se=Y?{done:!1,value:y[0]}:Z.next(B);l&&(se.value=l(se.value));let{done:ie}=se;!Y&&p!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return C&&O!==Cm&&(se.value=zg(y,this.options,P,this.speed)),I&&I(se.value),C&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(this.currentTime)}set time(e){var n;e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ti(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=cR,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function AR(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const aa=t=>t*180/Math.PI,Nm=t=>{const e=aa(Math.atan2(t[1],t[0]));return Om(e)},RR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Nm,rotateZ:Nm,skewX:t=>aa(Math.atan(t[1])),skewY:t=>aa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Om=t=>(t=t%360,t<0&&(t+=360),t),_b=Nm,bb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bb,scaleY:wb,scale:t=>(bb(t)+wb(t))/2,rotateX:t=>Om(aa(Math.atan2(t[6],t[5]))),rotateY:t=>Om(aa(Math.atan2(-t[2],t[0]))),rotateZ:_b,rotate:_b,skewX:t=>aa(Math.atan(t[4])),skewY:t=>aa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function km(t){return t.includes("scale")?1:0}function Dm(t,e){if(!t||t==="none")return km(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=CR,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=RR,a=d}if(!a)return km(e);const l=s[e],c=a[1].split(",").map(OR);return typeof l=="function"?l(c):c[l]}const NR=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dm(n,e)};function OR(t){return parseFloat(t.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ho=new Set(qo),Tb=t=>t===$o||t===we,kR=new Set(["x","y","z"]),DR=qo.filter(t=>!kR.has(t));function IR(t){const e=[];return DR.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ca={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dm(e,"x"),y:(t,{transform:e})=>Dm(e,"y")};ca.translateX=ca.x;ca.translateY=ca.y;const ha=new Set;let Im=!1,Mm=!1,jm=!1;function KT(){if(Mm){const t=Array.from(ha).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=IR(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Mm=!1,Im=!1,ha.forEach(t=>t.complete(jm)),ha.clear()}function YT(){ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mm=!0)})}function MR(){jm=!0,YT(),KT(),jm=!1}class $g{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ha.add(this),Im||(Im=!0,Ke.read(YT),Ke.resolveKeyframes(KT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}AR(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ha.delete(this)}cancel(){this.state==="scheduled"&&(ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jR=t=>t.startsWith("--");function VR(t,e,n){jR(e)?t.style.setProperty(e,n):t.style[e]=n}const XT=Ng(()=>window.ScrollTimeline!==void 0),PR={};function UR(t,e){const n=Ng(t);return()=>PR[e]??n()}const QT=UR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Eb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iu([0,.65,.55,1]),circOut:iu([.55,0,1,.45]),backIn:iu([.31,.01,.66,-.59]),backOut:iu([.33,1.53,.69,.99])};function WT(t,e){if(t)return typeof t=="function"?QT()?qT(t,e):"ease-out":DT(t)?iu(t):Array.isArray(t)?t.map(n=>WT(n,e)||Eb.easeOut):Eb[t]}function LR(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const y={[e]:n};p&&(y.offset=p);const _=WT(d,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(E.pseudoElement=g),t.animate(y,E)}function JT(t){return typeof t=="function"&&"applyToOptions"in t}function zR({type:t,...e}){return JT(t)&&QT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BR extends Bg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,wu(typeof e.type!="string");const g=zR(e);this.animation=LR(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=zg(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):VR(n,s,y),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&XT()?(this.animation.timeline=e,Tn):n(this)}}const ZT={anticipate:CT,backInOut:RT,circInOut:OT};function $R(t){return t in ZT}function qR(t){typeof t.ease=="string"&&$R(t.ease)&&(t.ease=ZT[t.ease])}const Sb=10;class HR extends BR{constructor(e){qR(e),GT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new wd({...c,autoplay:!1}),p=Qi(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-Sb).value,d.sample(p).value,Sb),d.stop()}}const xb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gr.test(t)||t==="0")&&!t.startsWith("url("));function FR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function GR(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=xb(a,e),d=xb(l,e);return!c||!d?!1:FR(t)||(n==="spring"||JT(n))&&s}function Vm(t){t.duration=0,t.type="keyframes"}const KR=new Set(["opacity","clipPath","filter","transform"]),YR=Ng(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XR(t){var y;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return YR()&&n&&KR.has(n)&&(n!=="transform"||!g)&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const QR=40;class WR extends Bg{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:y,..._}){var O;super(),this.stop=()=>{var I,P;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=wn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:g,element:y,..._},A=(y==null?void 0:y.KeyframeResolver)||$g;this.keyframeResolver=new A(d,(I,P,$)=>this.onKeyframesResolved(I,P,E,!$),p,g,y),(O=this.keyframeResolver)==null||O.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:y}=s;this.resolvedAt=wn.now(),GR(e,l,c,d)||((xs.instantAnimations||!p)&&(y==null||y(zg(e,s,n))),e[0]=e[e.length-1],Vm(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>QR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!g&&XR(E)?new HR({...E,element:E.motionValue.owner.current}):new wd(E);A.finished.then(()=>this.notifyFinished()).catch(Tn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),MR()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const JR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZR(t){const e=JR.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function eE(t,e,n=1){const[s,a]=ZR(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return bT(c)?parseFloat(c):c}return Mg(a)?eE(a,e,n+1):a}function qg(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const tE=new Set(["width","height","top","left","right","bottom",...qo]),eC={test:t=>t==="auto",parse:t=>t},nE=t=>e=>e.test(t),iE=[$o,we,Wi,ur,Y2,K2,eC],Ab=t=>iE.find(nE(t));function tC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TT(t):!0}const nC=new Set(["brightness","contrast","saturate","opacity"]);function iC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(jg)||[];if(!s)return t;const a=n.replace(s,"");let l=nC.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const sC=/\b([a-z-]*)\(.*?\)/gu,Pm={...gr,getAnimatableNone:t=>{const e=t.match(sC);return e?e.map(iC).join(" "):t}},Rb={...$o,transform:Math.round},rC={rotate:ur,rotateX:ur,rotateY:ur,rotateZ:ur,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:ur,skewX:ur,skewY:ur,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Tu,originX:pb,originY:pb,originZ:we},Hg={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...rC,zIndex:Rb,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:Rb},aC={...Hg,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:Pm,WebkitFilter:Pm},sE=t=>aC[t];function rE(t,e){let n=sE(t);return n!==Pm&&(n=gr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oC=new Set(["auto","none","0"]);function lC(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!oC.has(l)&&Eu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=rE(n,a)}class uC extends $g{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Mg(g))){const y=eE(g,n.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!tE.has(s)||e.length!==2)return;const[a,l]=e,c=Ab(a),d=Ab(l);if(c!==d)if(Tb(c)&&Tb(d))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else ca[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||tC(e[a]))&&s.push(a);s.length&&lC(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ca[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ca[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{e.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function aE(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const oE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Fg(t){return wT(t)&&"offsetHeight"in t}const Cb=30,cC=t=>!isNaN(parseFloat(t)),lu={current:void 0};class hC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Og);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return lu.current&&lu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cb);return kg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wi(t,e){return new hC(t,e)}const{schedule:Gg}=IT(queueMicrotask,!1),gi={x:!1,y:!1};function lE(){return gi.x||gi.y}function dC(t){return t==="x"||t==="y"?gi[t]?null:(gi[t]=!0,()=>{gi[t]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function uE(t,e){const n=aE(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Nb(t){return!(t.pointerType==="touch"||lE())}function fC(t,e,n={}){const[s,a,l]=uE(t,n),c=d=>{if(!Nb(d))return;const{target:p}=d,g=e(p,d);if(typeof g!="function"||!p)return;const y=_=>{Nb(_)&&(g(_),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const cE=(t,e)=>e?t===e?!0:cE(t,e.parentElement):!1,Kg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mC(t){return pC.has(t.tagName)||t.tabIndex!==-1}const zh=new WeakSet;function Ob(t){return e=>{e.key==="Enter"&&t(e)}}function Fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gC=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Ob(()=>{if(zh.has(n))return;Fp(n,"down");const a=Ob(()=>{Fp(n,"up")}),l=()=>Fp(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function kb(t){return Kg(t)&&!lE()}function yC(t,e,n={}){const[s,a,l]=uE(t,n),c=d=>{const p=d.currentTarget;if(!kb(d))return;zh.add(p);const g=e(p,d),y=(A,O)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),zh.has(p)&&zh.delete(p),kb(A)&&typeof g=="function"&&g(A,{success:O})},_=A=>{y(A,p===window||p===document||n.useGlobalTarget||cE(p,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Fg(d)&&(d.addEventListener("focus",g=>gC(g,a)),!mC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Yg(t){return wT(t)&&"ownerSVGElement"in t}const Bh=new WeakMap;let cr;const hE=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:Yg(s)&&"getBBox"in s?s.getBBox()[e]:s[n],vC=hE("inline","width","offsetWidth"),_C=hE("block","height","offsetHeight");function bC({target:t,borderBoxSize:e}){var n;(n=Bh.get(t))==null||n.forEach(s=>{s(t,{get width(){return vC(t,e)},get height(){return _C(t,e)}})})}function wC(t){t.forEach(bC)}function TC(){typeof ResizeObserver>"u"||(cr=new ResizeObserver(wC))}function EC(t,e){cr||TC();const n=aE(t);return n.forEach(s=>{let a=Bh.get(s);a||(a=new Set,Bh.set(s,a)),a.add(e),cr==null||cr.observe(s)}),()=>{n.forEach(s=>{const a=Bh.get(s);a==null||a.delete(e),a!=null&&a.size||cr==null||cr.unobserve(s)})}}const $h=new Set;let Eo;function SC(){Eo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};$h.forEach(e=>e(t))},window.addEventListener("resize",Eo)}function xC(t){return $h.add(t),Eo||SC(),()=>{$h.delete(t),!$h.size&&typeof Eo=="function"&&(window.removeEventListener("resize",Eo),Eo=void 0)}}function AC(t,e){return typeof t=="function"?xC(t):EC(t,e)}function dE(t,e){let n;const s=()=>{const{currentTime:a}=e,c=(a===null?0:a.value)/100;n!==c&&t(c),n=c};return Ke.preUpdate(s,!0),()=>Ei(s)}function RC(t){return Yg(t)&&t.tagName==="svg"}function CC(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],c=t[3+n],d=Lg(a,l,c);return e?d(s):d}const Yt=t=>!!(t&&t.getVelocity);function NC(t,e,n){const s=t.get();let a=null,l=s,c;const d=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,p=()=>{a&&(a.stop(),a=null)},g=()=>{p(),a=new wd({keyframes:[Ib(t.get()),Ib(l)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((y,_)=>{l=y,c=E=>_(Db(E,d)),Ke.postRender(g)},p),Yt(e)){const y=e.on("change",E=>t.set(Db(E,d))),_=t.on("destroy",y);return()=>{y(),_()}}return p}function Db(t,e){return e?t+e:t}function Ib(t){return typeof t=="number"?t:parseFloat(t)}const OC=[...iE,It,gr],kC=t=>OC.find(nE(t)),zu=ne.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Mb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DC(...t){return e=>{let n=!1;const s=t.map(a=>{const l=Mb(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Mb(t[a],null)}}}}function IC(...t){return ne.useCallback(DC(...t),t)}class MC extends ne.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Fg(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jC({children:t,isPresent:e,anchorX:n,root:s}){const a=ne.useId(),l=ne.useRef(null),c=ne.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=ne.useContext(zu),p=IC(l,t==null?void 0:t.ref);return ne.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:E,right:A}=c.current;if(e||!l.current||!g||!y)return;const O=n==="left"?`left: ${E}`:`right: ${A}`;l.current.dataset.motionPopId=a;const I=document.createElement("style");d&&(I.nonce=d);const P=s??document.head;return P.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${O}px !important;
            top: ${_}px !important;
          }
        `),()=>{P.contains(I)&&P.removeChild(I)}},[e]),w.jsx(MC,{isPresent:e,childRef:l,sizeRef:c,children:ne.cloneElement(t,{ref:p})})}const VC=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:p})=>{const g=Bo(PC),y=ne.useId();let _=!0,E=ne.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:A=>{g.set(A,!0);for(const O of g.values())if(!O)return;s&&s()},register:A=>(g.set(A,!1),()=>g.delete(A))}),[n,g,s]);return l&&_&&(E={...E}),ne.useMemo(()=>{g.forEach((A,O)=>g.set(O,!1))},[n]),ne.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(t=w.jsx(jC,{isPresent:n,anchorX:d,root:p,children:t})),w.jsx(bd.Provider,{value:E,children:t})};function PC(){return new Map}function fE(t=!0){const e=ne.useContext(bd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=ne.useId();ne.useEffect(()=>{if(t)return a(l)},[t]);const c=ne.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Sh=t=>t.key||"";function jb(t){const e=[];return ne.Children.forEach(t,n=>{ne.isValidElement(n)&&e.push(n)}),e}const Su=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,y]=fE(c),_=ne.useMemo(()=>jb(t),[t]),E=c&&!g?[]:_.map(Sh),A=ne.useRef(!0),O=ne.useRef(_),I=Bo(()=>new Map),[P,$]=ne.useState(_),[Y,B]=ne.useState(_);_d(()=>{A.current=!1,O.current=_;for(let ie=0;ie<Y.length;ie++){const C=Sh(Y[ie]);E.includes(C)?I.delete(C):I.get(C)!==!0&&I.set(C,!1)}},[Y,E.length,E.join("-")]);const Z=[];if(_!==P){let ie=[..._];for(let C=0;C<Y.length;C++){const R=Y[C],N=Sh(R);E.includes(N)||(ie.splice(C,0,R),Z.push(R))}return l==="wait"&&Z.length&&(ie=Z),B(jb(ie)),$(_),null}const{forceRender:se}=ne.useContext(xg);return w.jsx(w.Fragment,{children:Y.map(ie=>{const C=Sh(ie),R=c&&!g?!1:_===Y||E.includes(C),N=()=>{if(I.has(C))I.set(C,!0);else return;let j=!0;I.forEach(M=>{M||(j=!1)}),j&&(se==null||se(),B(O.current),c&&(y==null||y()),s&&s())};return w.jsx(VC,{isPresent:R,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:R?void 0:N,anchorX:d,children:ie},C)})})},pE=ne.createContext({strict:!1}),Vb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const t in Vb)jo[t]={isEnabled:e=>Vb[t].some(n=>!!e[n])};function UC(t){for(const e in t)jo[e]={...jo[e],...t[e]}}const LC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LC.has(t)}let mE=t=>!td(t);function zC(t){typeof t=="function"&&(mE=e=>e.startsWith("on")?!td(e):t(e))}try{zC(require("@emotion/is-prop-valid").default)}catch{}function BC(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(mE(a)||n===!0&&td(a)||!e&&!td(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Td=ne.createContext({});function Ed(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xu(t){return typeof t=="string"||Array.isArray(t)}const Xg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qg=["initial",...Xg];function Sd(t){return Ed(t.animate)||Qg.some(e=>xu(t[e]))}function gE(t){return!!(Sd(t)||t.variants)}function $C(t,e){if(Sd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||xu(n)?n:void 0,animate:xu(s)?s:void 0}}return t.inherit!==!1?e:{}}function qC(t){const{initial:e,animate:n}=$C(t,ne.useContext(Td));return ne.useMemo(()=>({initial:e,animate:n}),[Pb(e),Pb(n)])}function Pb(t){return Array.isArray(t)?t.join(" "):t}function Ub(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=Ub(t,e.target.x),s=Ub(t,e.target.y);return`${n}% ${s}%`}},HC={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=gr.parse(t);if(a.length>5)return s;const l=gr.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,p=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=p;const g=ht(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},Um={borderRadius:{...Zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zl,borderTopRightRadius:Zl,borderBottomLeftRadius:Zl,borderBottomRightRadius:Zl,boxShadow:HC};function yE(t,{layout:e,layoutId:n}){return Ho.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Um[t]||t==="opacity")}const FC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GC=qo.length;function KC(t,e,n){let s="",a=!0;for(let l=0;l<GC;l++){const c=qo[l],d=t[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=oE(d,Hg[c]);if(!p){a=!1;const y=FC[c]||c;s+=`${y}(${g}) `}n&&(e[c]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Wg(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const p in e){const g=e[p];if(Ho.has(p)){c=!0;continue}else if(jT(p)){a[p]=g;continue}else{const y=oE(g,Hg[p]);p.startsWith("origin")?(d=!0,l[p]=y):s[p]=y}}if(e.transform||(c||n?s.transform=KC(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${g} ${y}`}}const Jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vE(t,e,n){for(const s in e)!Yt(e[s])&&!yE(s,n)&&(t[s]=e[s])}function YC({transformTemplate:t},e){return ne.useMemo(()=>{const n=Jg();return Wg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XC(t,e){const n=t.style||{},s={};return vE(s,n,t),Object.assign(s,YC(t,e)),s}function QC(t,e){const n={},s=XC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const WC={offset:"stroke-dashoffset",array:"stroke-dasharray"},JC={offset:"strokeDashoffset",array:"strokeDasharray"};function ZC(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?WC:JC;t[l.offset]=we.transform(-s);const c=we.transform(e),d=we.transform(n);t[l.array]=`${c} ${d}`}function _E(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},p,g,y){if(Wg(t,d,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&ZC(_,a,l,c,!1)}const bE=()=>({...Jg(),attrs:{}}),wE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eN(t,e,n,s){const a=ne.useMemo(()=>{const l=bE();return _E(l,e,wE(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};vE(l,t.style,t),a.style={...l,...a.style}}return a}const tN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zg(t){return typeof t!="string"||t.includes("-")?!1:!!(tN.indexOf(t)>-1||/[A-Z]/u.test(t))}function nN(t,e,n,{latestValues:s},a,l=!1){const d=(Zg(t)?eN:QC)(e,s,a,t),p=BC(e,typeof t=="string",l),g=t!==ne.Fragment?{...p,...d,ref:n}:{},{children:y}=e,_=ne.useMemo(()=>Yt(y)?y.get():y,[y]);return ne.createElement(t,{...g,children:_})}function Lb(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function e0(t,e,n,s){if(typeof e=="function"){const[a,l]=Lb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Lb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function qh(t){return Yt(t)?t.get():t}function iN({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:sN(n,s,a,t),renderState:e()}}function sN(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=qh(l[E]);let{initial:c,animate:d}=t;const p=Sd(t),g=gE(t);e&&g&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!Ed(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const O=e0(t,E[A]);if(O){const{transitionEnd:I,transition:P,...$}=O;for(const Y in $){let B=$[Y];if(Array.isArray(B)){const Z=y?B.length-1:0;B=B[Z]}B!==null&&(a[Y]=B)}for(const Y in I)a[Y]=I[Y]}}}return a}const TE=t=>(e,n)=>{const s=ne.useContext(Td),a=ne.useContext(bd),l=()=>iN(t,e,s,a);return n?l():Bo(l)};function t0(t,e,n){var l;const{style:s}=t,a={};for(const c in s)(Yt(s[c])||e.style&&Yt(e.style[c])||yE(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const rN=TE({scrapeMotionValuesFromProps:t0,createRenderState:Jg});function EE(t,e,n){const s=t0(t,e,n);for(const a in t)if(Yt(t[a])||Yt(e[a])){const l=qo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const aN=TE({scrapeMotionValuesFromProps:EE,createRenderState:bE}),oN=Symbol.for("motionComponentSymbol");function So(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lN(t,e,n){return ne.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):So(n)&&(n.current=s))},[e])}const n0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uN="framerAppearId",SE="data-"+n0(uN),xE=ne.createContext({});function cN(t,e,n,s,a){var I,P;const{visualElement:l}=ne.useContext(Td),c=ne.useContext(pE),d=ne.useContext(bd),p=ne.useContext(zu).reducedMotion,g=ne.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,_=ne.useContext(xE);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&hN(g.current,n,a,_);const E=ne.useRef(!1);ne.useInsertionEffect(()=>{y&&E.current&&y.update(n,d)});const A=n[SE],O=ne.useRef(!!A&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,A))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,A)));return _d(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),O.current&&y.animationState&&y.animationState.animateChanges())}),ne.useEffect(()=>{y&&(!O.current&&y.animationState&&y.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var $;($=window.MotionHandoffMarkAsComplete)==null||$.call(window,A)}),O.current=!1),y.enteringChildren=void 0)}),y}function hN(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AE(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&So(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:g})}function AE(t){if(t)return t.options.allowProjection!==!1?t.projection:AE(t.parent)}function Gp(t,{forwardMotionProps:e=!1}={},n,s){n&&UC(n);const a=Zg(t)?aN:rN;function l(d,p){let g;const y={...ne.useContext(zu),...d,layoutId:dN(d)},{isStatic:_}=y,E=qC(d),A=a(d,_);if(!_&&Ag){fN();const O=pN(y);g=O.MeasureLayout,E.visualElement=cN(t,A,y,s,O.ProjectionNode)}return w.jsxs(Td.Provider,{value:E,children:[g&&E.visualElement?w.jsx(g,{visualElement:E.visualElement,...y}):null,nN(t,d,lN(A,E.visualElement,p),A,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=ne.forwardRef(l);return c[oN]=t,c}function dN({layoutId:t}){const e=ne.useContext(xg).id;return e&&t!==void 0?e+"-"+t:t}function fN(t,e){ne.useContext(pE).strict}function pN(t){const{drag:e,layout:n}=jo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function mN(t,e){if(typeof Proxy>"u")return Gp;const n=new Map,s=(l,c)=>Gp(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Gp(c,void 0,t,e)),n.get(c))})}function RE({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function gN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Kp(t){return t===void 0||t===1}function Lm({scale:t,scaleX:e,scaleY:n}){return!Kp(t)||!Kp(e)||!Kp(n)}function ta(t){return Lm(t)||CE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CE(t){return zb(t.x)||zb(t.y)}function zb(t){return t&&t!=="0%"}function nd(t,e,n){const s=t-n,a=e*s;return n+a}function Bb(t,e,n,s,a){return a!==void 0&&(t=nd(t,a,s)),nd(t,n,s)+e}function zm(t,e=0,n=1,s,a){t.min=Bb(t.min,e,n,s,a),t.max=Bb(t.max,e,n,s,a)}function NE(t,{x:e,y:n}){zm(t.x,e.translate,e.scale,e.originPoint),zm(t.y,n.translate,n.scale,n.originPoint)}const $b=.999999999999,qb=1.0000000000001;function vN(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ao(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,NE(t,c)),s&&ta(l.latestValues)&&Ao(t,l.latestValues))}e.x<qb&&e.x>$b&&(e.x=1),e.y<qb&&e.y>$b&&(e.y=1)}function xo(t,e){t.min=t.min+e,t.max=t.max+e}function Hb(t,e,n,s,a=.5){const l=ht(t.min,t.max,a);zm(t,e,n,l,s)}function Ao(t,e){Hb(t.x,e.x,e.scaleX,e.scale,e.originX),Hb(t.y,e.y,e.scaleY,e.scale,e.originY)}function OE(t,e){return RE(yN(t.getBoundingClientRect(),e))}function _N(t,e,n){const s=OE(t,n),{scroll:a}=e;return a&&(xo(s.x,a.offset.x),xo(s.y,a.offset.y)),s}const Fb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:Fb(),y:Fb()}),Gb=()=>({min:0,max:0}),Lt=()=>({x:Gb(),y:Gb()}),Bm={current:null},kE={current:!1};function bN(){if(kE.current=!0,!!Ag)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bm.current=t.matches;t.addEventListener("change",e),e()}else Bm.current=!1}const wN=new WeakMap;function TN(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Yt(a))t.addValue(s,a);else if(Yt(l))t.addValue(s,wi(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,wi(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Kb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EN{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$g,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ke.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Sd(n),this.isVariantNode=gE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];p[E]!==void 0&&Yt(A)&&A.set(p[E])}}mount(e){var n;this.current=e,wN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),kE.current||bN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ei(this.notifyUpdate),Ei(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ho.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const n=jo[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Kb.length;s++){const a=Kb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=TN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=wi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(bT(s)||TT(s))?s=parseFloat(s):!kC(s)&&gr.test(n)&&(s=rE(e,n)),this.setBaseTarget(e,Yt(s)?s.get():s)),Yt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=e0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Yt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Og),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Gg.render(this.render)}}class DE extends EN{constructor(){super(...arguments),this.KeyframeResolver=uC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IE(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function SN(t){return window.getComputedStyle(t)}class xN extends DE{constructor(){super(...arguments),this.type="html",this.renderInstance=IE}readValueFromInstance(e,n){var s;if(Ho.has(n))return(s=this.projection)!=null&&s.isProjecting?km(n):NR(e,n);{const a=SN(e),l=(jT(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return OE(e,n)}build(e,n,s){Wg(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return t0(e,n,s)}}const ME=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AN(t,e,n,s){IE(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(ME.has(a)?a:n0(a),e.attrs[a])}class RN extends DE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ho.has(n)){const s=sE(n);return s&&s.default||0}return n=ME.has(n)?n:n0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return EE(e,n,s)}build(e,n,s){_E(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){AN(e,n,s,a)}mount(e){this.isSVGTag=wE(e.tagName),super.mount(e)}}const CN=(t,e)=>Zg(t)?new RN(e):new xN(e,{allowProjection:t!==ne.Fragment});function No(t,e,n){const s=t.getProps();return e0(s,e,n!==void 0?n:s.custom,t)}const $m=t=>Array.isArray(t);function NN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wi(n))}function ON(t){return $m(t)?t[t.length-1]||0:t}function kN(t,e){const n=No(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=ON(l[c]);NN(t,c,d)}}function DN(t){return!!(Yt(t)&&t.add)}function qm(t,e){const n=t.getValue("willChange");if(DN(n))return n.add(e);if(!n&&xs.WillChange){const s=new xs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function jE(t){return t.props[SE]}const IN=t=>t!==null;function MN(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(IN),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const jN={type:"spring",stiffness:500,damping:25,restSpeed:10},VN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PN={type:"keyframes",duration:.8},UN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LN=(t,{keyframes:e})=>e.length>2?PN:Ho.has(t)?t.startsWith("scale")?VN(e[1]):jN:UN;function zN({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:p,elapsed:g,...y}){return!!Object.keys(y).length}const i0=(t,e,n,s={},a,l)=>c=>{const d=qg(s,t)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Qi(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-g,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};zN(d)||Object.assign(y,LN(t,y)),y.duration&&(y.duration=Qi(y.duration)),y.repeatDelay&&(y.repeatDelay=Qi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Vm(y),y.delay===0&&(_=!0)),(xs.instantAnimations||xs.skipAnimations)&&(_=!0,Vm(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const E=MN(y.keyframes,d);if(E!==void 0){Ke.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new wd(y):new WR(y)};function BN({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function VE(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const p=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const _=t.getValue(y,t.latestValues[y]??null),E=d[y];if(E===void 0||g&&BN(g,y))continue;const A={delay:n,...qg(l||{},y)},O=_.get();if(O!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===O&&!A.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const $=jE(t);if($){const Y=window.MotionHandoffAnimation($,y,Ke);Y!==null&&(A.startTime=Y,I=!0)}}qm(t,y),_.start(i0(y,_,E,t.shouldReduceMotion&&tE.has(y)?{type:!1}:A,t,I));const P=_.animation;P&&p.push(P)}return c&&Promise.all(p).then(()=>{Ke.update(()=>{c&&kN(t,c)})}),p}function PE(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function Hm(t,e,n={}){var p;const s=No(t,e,n.type==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(VE(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return $N(t,e,g,y,_,E,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,y]=d==="beforeChildren"?[l,c]:[c,l];return g().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function $N(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),d.push(Hm(p,e,{...c,delay:n+(typeof s=="function"?0:s)+PE(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(d)}function qN(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Hm(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Hm(t,e,n);else{const a=typeof e=="function"?No(t,e,n.custom):e;s=Promise.all(VE(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function UE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const HN=Qg.length;function LE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<HN;n++){const s=Qg[n],a=t.props[s];(xu(a)||a===!1)&&(e[s]=a)}return e}const FN=[...Xg].reverse(),GN=Xg.length;function KN(t){return e=>Promise.all(e.map(({animation:n,options:s})=>qN(t,n,s)))}function YN(t){let e=KN(t),n=Yb(),s=!0;const a=p=>(g,y)=>{var E;const _=No(t,y,p==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:A,transitionEnd:O,...I}=_;g={...g,...I,...O}}return g};function l(p){e=p(t)}function c(p){const{props:g}=t,y=LE(t.parent)||{},_=[],E=new Set;let A={},O=1/0;for(let P=0;P<GN;P++){const $=FN[P],Y=n[$],B=g[$]!==void 0?g[$]:y[$],Z=xu(B),se=$===p?Y.isActive:null;se===!1&&(O=P);let ie=B===y[$]&&B!==g[$]&&Z;if(ie&&s&&t.manuallyAnimateOnMount&&(ie=!1),Y.protectedKeys={...A},!Y.isActive&&se===null||!B&&!Y.prevProp||Ed(B)||typeof B=="boolean")continue;const C=XN(Y.prevProp,B);let R=C||$===p&&Y.isActive&&!ie&&Z||P>O&&Z,N=!1;const j=Array.isArray(B)?B:[B];let M=j.reduce(a($),{});se===!1&&(M={});const{prevResolvedValues:z={}}=Y,k={...z,...M},tt=ae=>{R=!0,E.has(ae)&&(N=!0,E.delete(ae)),Y.needsAnimating[ae]=!0;const ce=t.getValue(ae);ce&&(ce.liveStyle=!1)};for(const ae in k){const ce=M[ae],Re=z[ae];if(A.hasOwnProperty(ae))continue;let Me=!1;$m(ce)&&$m(Re)?Me=!UE(ce,Re):Me=ce!==Re,Me?ce!=null?tt(ae):E.add(ae):ce!==void 0&&E.has(ae)?tt(ae):Y.protectedKeys[ae]=!0}Y.prevProp=B,Y.prevResolvedValues=M,Y.isActive&&(A={...A,...M}),s&&t.blockInitialAnimation&&(R=!1);const dt=ie&&C;R&&(!dt||N)&&_.push(...j.map(ae=>{const ce={type:$};if(typeof ae=="string"&&s&&!dt&&t.manuallyAnimateOnMount&&t.parent){const{parent:Re}=t,Me=No(Re,ae);if(Re.enteringChildren&&Me){const{delayChildren:U}=Me.transition||{};ce.delay=PE(Re.enteringChildren,t,U)}}return{animation:ae,options:ce}}))}if(E.size){const P={};if(typeof g.initial!="boolean"){const $=No(t,Array.isArray(g.initial)?g.initial[0]:g.initial);$&&$.transition&&(P.transition=$.transition)}E.forEach($=>{const Y=t.getBaseTarget($),B=t.getValue($);B&&(B.liveStyle=!0),P[$]=Y??null}),_.push({animation:P})}let I=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(_):Promise.resolve()}function d(p,g){var _;if(n[p].isActive===g)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(p,g)}),n[p].isActive=g;const y=c(p);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Yb()}}}function XN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UE(e,t):!1}function Jr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yb(){return{animate:Jr(!0),whileInView:Jr(),whileHover:Jr(),whileTap:Jr(),whileDrag:Jr(),whileFocus:Jr(),exit:Jr()}}class _r{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QN extends _r{constructor(e){super(e),e.animationState||(e.animationState=YN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ed(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let WN=0;class JN extends _r{constructor(){super(...arguments),this.id=WN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZN={animation:{Feature:QN},exit:{Feature:JN}};function Au(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Bu(t){return{point:{x:t.pageX,y:t.pageY}}}const eO=t=>e=>Kg(e)&&t(e,Bu(e));function uu(t,e,n,s){return Au(t,e,eO(n),s)}const zE=1e-4,tO=1-zE,nO=1+zE,BE=.01,iO=0-BE,sO=0+BE;function fn(t){return t.max-t.min}function rO(t,e,n){return Math.abs(t-e)<=n}function Xb(t,e,n,s=.5){t.origin=s,t.originPoint=ht(e.min,e.max,t.origin),t.scale=fn(n)/fn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tO&&t.scale<=nO||isNaN(t.scale))&&(t.scale=1),(t.translate>=iO&&t.translate<=sO||isNaN(t.translate))&&(t.translate=0)}function cu(t,e,n,s){Xb(t.x,e.x,n.x,s?s.originX:void 0),Xb(t.y,e.y,n.y,s?s.originY:void 0)}function Qb(t,e,n){t.min=n.min+e.min,t.max=t.min+fn(e)}function aO(t,e,n){Qb(t.x,e.x,n.x),Qb(t.y,e.y,n.y)}function Wb(t,e,n){t.min=e.min-n.min,t.max=t.min+fn(e)}function id(t,e,n){Wb(t.x,e.x,n.x),Wb(t.y,e.y,n.y)}function Zn(t){return[t("x"),t("y")]}const $E=({current:t})=>t?t.ownerDocument.defaultView:null,Jb=(t,e)=>Math.abs(t-e);function oO(t,e){const n=Jb(t.x,e.x),s=Jb(t.y,e.y);return Math.sqrt(n**2+s**2)}class qE{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Xp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,O=oO(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!O)return;const{point:I}=E,{timestamp:P}=Ht;this.history.push({...I,timestamp:P});const{onStart:$,onMove:Y}=this.handlers;A||($&&$(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Yp(A,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:O,onSessionEnd:I,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Xp(E.type==="pointercancel"?this.lastMoveEventInfo:Yp(A,this.transformPagePoint),this.history);this.startEvent&&O&&O(E,$),I&&I(E,$)},!Kg(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Bu(e),p=Yp(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=Ht;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,Xp(p,this.history)),this.removeListeners=Pu(uu(this.contextWindow,"pointermove",this.handlePointerMove),uu(this.contextWindow,"pointerup",this.handlePointerUp),uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ei(this.updatePoint)}}function Yp(t,e){return e?{point:e(t.point)}:t}function Zb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:Zb(t,HE(e)),offset:Zb(t,lO(e)),velocity:uO(e,.1)}}function lO(t){return t[0]}function HE(t){return t[t.length-1]}function uO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=HE(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Qi(e)));)n--;if(!s)return{x:0,y:0};const l=ti(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cO(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ht(n,t,s.max):Math.min(t,n)),t}function ew(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hO(t,{top:e,left:n,bottom:s,right:a}){return{x:ew(t.x,n,a),y:ew(t.y,e,s)}}function tw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function dO(t,e){return{x:tw(t.x,e.x),y:tw(t.y,e.y)}}function fO(t,e){let n=.5;const s=fn(t),a=fn(e);return a>s?n=Mo(e.min,e.max-s,t.min):s>a&&(n=Mo(t.min,t.max-a,e.min)),Zi(0,1,n)}function pO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fm=.35;function mO(t=Fm){return t===!1?t=0:t===!0&&(t=Fm),{x:nw(t,"left","right"),y:nw(t,"top","bottom")}}function nw(t,e,n){return{min:iw(t,e),max:iw(t,n)}}function iw(t,e){return typeof t=="number"?t:t[e]||0}const gO=new WeakMap;class yO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bu(_).point)},c=(_,E)=>{const{drag:A,dragPropagation:O,onDragStart:I}=this.getProps();if(A&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dC(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn($=>{let Y=this.getAxisMotionValue($).get()||0;if(Wi.test(Y)){const{projection:B}=this.visualElement;if(B&&B.layout){const Z=B.layout.layoutBox[$];Z&&(Y=fn(Z)*(parseFloat(Y)/100))}}this.originPoint[$]=Y}),I&&Ke.postRender(()=>I(_,E)),qm(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:O,onDirectionLock:I,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:$}=E;if(O&&this.currentDirection===null){this.currentDirection=vO($),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",E.point,$),this.updateAxis("y",E.point,$),this.visualElement.render(),P&&P(_,E)},p=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Zn(_=>{var E;return this.getAnimationState(_)==="paused"&&((E=this.getAxisMotionValue(_).animation)==null?void 0:E.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new qE(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:$E(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ke.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!xh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=cO(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&So(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=hO(s.layoutBox,e):this.constraints=!1,this.elastic=mO(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=pO(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!So(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=_N(s,a.root,this.visualElement.getTransformPagePoint());let c=dO(a.layout.layoutBox,l);if(n){const d=n(gN(c));this.hasMutatedConstraints=!!d,d&&(c=RE(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Zn(y=>{if(!xh(y,n,this.currentDirection))return;let _=p&&p[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,O={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,O)});return Promise.all(g).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return qm(this.visualElement,e),s.start(i0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zn(n=>{const{drag:s}=this.getProps();if(!xh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-ht(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!So(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=fO({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zn(c=>{if(!xh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ht(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;gO.set(this.visualElement,this);const e=this.visualElement.current,n=uu(e,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();So(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ke.read(s);const c=Au(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Zn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=p[y].translate,_.set(_.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Fm,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function xh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _O extends _r{constructor(e){super(e),this.removeGroupControls=Tn,this.removeListeners=Tn,this.controls=new yO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const sw=t=>(e,n)=>{t&&Ke.postRender(()=>t(e,n))};class bO extends _r{constructor(){super(...arguments),this.removePointerDownListener=Tn}onPointerDown(e){this.session=new qE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$E(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:sw(e),onStart:sw(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Ke.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Qp=!1;class wO extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Qp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Qp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ke.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Qp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FE(t){const[e,n]=fE(),s=ne.useContext(xg);return w.jsx(wO,{...t,layoutGroup:s,switchLayoutGroup:ne.useContext(xE),isPresent:e,safeToRemove:n})}function TO(t,e,n){const s=Yt(t)?t:wi(t);return s.start(i0("",s,e,n)),s.animation}const EO=(t,e)=>t.depth-e.depth;class SO{constructor(){this.children=[],this.isDirty=!1}add(e){Rg(this.children,e),this.isDirty=!0}remove(e){Cg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EO),this.isDirty=!1,this.children.forEach(e)}}function xO(t,e){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Ei(s),t(l-e))};return Ke.setup(s,!0),()=>Ei(s)}const GE=["TopLeft","TopRight","BottomLeft","BottomRight"],AO=GE.length,rw=t=>typeof t=="string"?parseFloat(t):t,aw=t=>typeof t=="number"||we.test(t);function RO(t,e,n,s,a,l){a?(t.opacity=ht(0,n.opacity??1,CO(s)),t.opacityExit=ht(e.opacity??1,0,NO(s))):l&&(t.opacity=ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<AO;c++){const d=`border${GE[c]}Radius`;let p=ow(e,d),g=ow(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||aw(p)===aw(g)?(t[d]=Math.max(ht(rw(p),rw(g),s),0),(Wi.test(g)||Wi.test(p))&&(t[d]+="%")):t[d]=g}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,s))}function ow(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const CO=KE(0,.5,NT),NO=KE(.5,.95,Tn);function KE(t,e,n){return s=>s<t?0:s>e?1:n(Mo(t,e,s))}function lw(t,e){t.min=e.min,t.max=e.max}function pi(t,e){lw(t.x,e.x),lw(t.y,e.y)}function uw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cw(t,e,n,s,a){return t-=e,t=nd(t,1/n,s),a!==void 0&&(t=nd(t,1/a,s)),t}function OO(t,e=0,n=1,s=.5,a,l=t,c=t){if(Wi.test(e)&&(e=parseFloat(e),e=ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=ht(l.min,l.max,s);t===l&&(d-=e),t.min=cw(t.min,e,n,d,a),t.max=cw(t.max,e,n,d,a)}function hw(t,e,[n,s,a],l,c){OO(t,e[n],e[s],e[a],e.scale,l,c)}const kO=["x","scaleX","originX"],DO=["y","scaleY","originY"];function dw(t,e,n,s){hw(t.x,e,kO,n?n.x:void 0,s?s.x:void 0),hw(t.y,e,DO,n?n.y:void 0,s?s.y:void 0)}function fw(t){return t.translate===0&&t.scale===1}function YE(t){return fw(t.x)&&fw(t.y)}function pw(t,e){return t.min===e.min&&t.max===e.max}function IO(t,e){return pw(t.x,e.x)&&pw(t.y,e.y)}function mw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function XE(t,e){return mw(t.x,e.x)&&mw(t.y,e.y)}function gw(t){return fn(t.x)/fn(t.y)}function yw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MO{constructor(){this.members=[]}add(e){Rg(this.members,e),e.scheduleRender()}remove(e){if(Cg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jO(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:E,skewX:A,skewY:O}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),A&&(s+=`skewX(${A}deg) `),O&&(s+=`skewY(${O}deg) `)}const d=t.x.scale*e.x,p=t.y.scale*e.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Wp=["","X","Y","Z"],VO=1e3;let PO=0;function Jp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function QE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&QE(s)}function WE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=PO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zO),this.nodes.forEach(HO),this.nodes.forEach(FO),this.nodes.forEach(BO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new SO)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Og),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Yg(c)&&!RC(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;Ke.read(()=>{_=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=xO(E,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(bw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||g.getDefaultTransition()||QO,{onLayoutAnimationStart:I,onLayoutAnimationComplete:P}=g.getProps(),$=!this.targetLayout||!XE(this.targetLayout,A),Y=!_&&E;if(this.options.layoutRoot||this.resumeFrom||Y||_&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...qg(O,"layout"),onPlay:I,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,Y)}else _||bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_w);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qO),this.nodes.forEach(UO),this.nodes.forEach(LO)):this.nodes.forEach(_w),this.clearAllSnapshots();const d=wn.now();Ht.delta=Zi(0,1e3/60,d-Ht.timestamp),Ht.timestamp=d,Ht.isProcessing=!0,zp.update.process(Ht),zp.preRender.process(Ht),zp.render.process(Ht),Ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($O),this.sharedNodes.forEach(KO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!YE(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ta(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),WO(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Lt();const d=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(JO))){const{scroll:y}=this.root;y&&(xo(d.x,y.offset.x),xo(d.y,y.offset.y))}return d}removeElementScroll(c){var p;const d=Lt();if(pi(d,c),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&pi(d,c),xo(d.x,_.offset.x),xo(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const p=Lt();pi(p,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ao(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ta(y.latestValues)&&Ao(p,y.latestValues)}return ta(this.latestValues)&&Ao(p,this.latestValues),p}removeTransform(c){const d=Lt();pi(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ta(g.latestValues))continue;Lm(g.latestValues)&&g.updateSnapshot();const y=Lt(),_=g.measurePageBox();pi(y,_),dw(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ta(this.latestValues)&&dw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Ht.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),NE(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lm(this.parent.latestValues)||CE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),id(this.relativeTargetOrigin,d,p),pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var O;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ht.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;pi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;vN(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Lt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uw(this.prevProjectionDelta.x,this.projectionDelta.x),uw(this.prevProjectionDelta.y,this.projectionDelta.y)),cu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!yw(this.projectionDelta.x,this.prevProjectionDelta.x)||!yw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ro(),this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},y={...this.latestValues},_=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Lt(),A=p?p.source:void 0,O=this.layout?this.layout.source:void 0,I=A!==O,P=this.getStack(),$=!P||P.members.length<=1,Y=!!(I&&!$&&this.options.crossfade===!0&&!this.path.some(XO));this.animationProgress=0;let B;this.mixTargetDelta=Z=>{const se=Z/1e3;ww(_.x,c.x,se),ww(_.y,c.y,se),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(id(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YO(this.relativeTarget,this.relativeTargetOrigin,E,se),B&&IO(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Lt()),pi(B,this.relativeTarget)),I&&(this.animationValues=y,RO(y,g,this.latestValues,se,Y,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,p,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wi(0)),this.currentAnimation=TO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:y}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&JE(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Lt();const _=fn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+_;const E=fn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+E}pi(d,p),Ao(d,y),cu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new MO),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Jp("z",c,g,this.animationValues);for(let y=0;y<Wp.length;y++)Jp(`rotate${Wp[y]}`,c,g,this.animationValues),Jp(`skew${Wp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=qh(d==null?void 0:d.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=qh(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!ta(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=jO(this.projectionDeltaWithTransform,this.treeScale,y);p&&(_=p(y,_)),c.transform=_;const{x:E,y:A}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const O in Um){if(y[O]===void 0)continue;const{correct:I,applyTo:P,isCSSVariable:$}=Um[O],Y=_==="none"?y[O]:I(y[O],g);if(P){const B=P.length;for(let Z=0;Z<B;Z++)c[P[Z]]=Y}else $?this.options.visualElement.renderState.vars[O]=Y:c[O]=Y}this.options.layoutId&&(c.pointerEvents=g===this?qh(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(vw),this.root.sharedNodes.clear()}}}function UO(t){t.updateLayout()}function LO(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Zn(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],A=fn(E);E.min=s[_].min,E.max=E.min+A}):JE(l,e.layoutBox,s)&&Zn(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],A=fn(s[_]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+A)});const d=Ro();cu(d,s,e.layoutBox);const p=Ro();c?cu(p,t.applyTransform(a,!0),e.measuredBox):cu(p,s,e.layoutBox);const g=!YE(d);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:A}=_;if(E&&A){const O=Lt();id(O,e.layoutBox,E.layoutBox);const I=Lt();id(I,s,A.layoutBox),XE(O,I)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=O,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function zO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $O(t){t.clearSnapshot()}function vw(t){t.clearMeasurements()}function _w(t){t.isLayoutDirty=!1}function qO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HO(t){t.resolveTargetDelta()}function FO(t){t.calcProjection()}function GO(t){t.resetSkewAndRotation()}function KO(t){t.removeLeadSnapshot()}function ww(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Tw(t,e,n,s){t.min=ht(e.min,n.min,s),t.max=ht(e.max,n.max,s)}function YO(t,e,n,s){Tw(t.x,e.x,n.x,s),Tw(t.y,e.y,n.y,s)}function XO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QO={duration:.45,ease:[.4,0,.1,1]},Ew=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Sw=Ew("applewebkit/")&&!Ew("chrome/")?Math.round:Tn;function xw(t){t.min=Sw(t.min),t.max=Sw(t.max)}function WO(t){xw(t.x),xw(t.y)}function JE(t,e,n){return t==="position"||t==="preserve-aspect"&&!rO(gw(e),gw(n),.2)}function JO(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ZO=WE({attachResizeListener:(t,e)=>Au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zp={current:void 0},ZE=WE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zp.current){const t=new ZO({});t.mount(window),t.setOptions({layoutScroll:!0}),Zp.current=t}return Zp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ek={pan:{Feature:bO},drag:{Feature:_O,ProjectionNode:ZE,MeasureLayout:FE}};function Aw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ke.postRender(()=>l(e,Bu(e)))}class tk extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=fC(e,(n,s)=>(Aw(this.node,s,"Start"),a=>Aw(this.node,a,"End"))))}unmount(){}}class nk extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pu(Au(this.node.current,"focus",()=>this.onFocus()),Au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ke.postRender(()=>l(e,Bu(e)))}class ik extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=yC(e,(n,s)=>(Rw(this.node,s,"Start"),(a,{success:l})=>Rw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gm=new WeakMap,em=new WeakMap,sk=t=>{const e=Gm.get(t.target);e&&e(t)},rk=t=>{t.forEach(sk)};function ak({root:t,...e}){const n=t||document;em.has(n)||em.set(n,{});const s=em.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(rk,{root:t,...e})),s[a]}function ok(t,e,n){const s=ak(e);return Gm.set(t,n),s.observe(t),()=>{Gm.delete(t),s.unobserve(t)}}const lk={some:0,all:1};class uk extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:lk[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=g?y:_;E&&E(p)};return ok(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ck(e,n))&&this.startObserver()}unmount(){}}function ck({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hk={inView:{Feature:uk},tap:{Feature:ik},focus:{Feature:nk},hover:{Feature:tk}},dk={layout:{ProjectionNode:ZE,MeasureLayout:FE}},fk={...ZN,...hk,...ek,...dk},_e=mN(fk,CN),pk=50,Cw=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),mk=()=>({time:0,x:Cw(),y:Cw()}),gk={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Nw(t,e,n,s){const a=n[e],{length:l,position:c}=gk[e],d=a.current,p=n.time;a.current=t[`scroll${c}`],a.scrollLength=t[`scroll${l}`]-t[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Mo(0,a.scrollLength,a.current);const g=s-p;a.velocity=g>pk?0:kg(a.current-d,g)}function yk(t,e,n){Nw(t,"x",e,n),Nw(t,"y",e,n),e.time=n}function vk(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(Fg(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const a=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();n.x+=a.left-l.left,n.y+=a.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:a,y:l}=s.getBBox();n.x+=a,n.y+=l;let c=null,d=s.parentNode;for(;!c;)d.tagName==="svg"&&(c=d),d=s.parentNode;s=c}else break;return n}const Km={start:0,center:.5,end:1};function Ow(t,e,n=0){let s=0;if(t in Km&&(t=Km[t]),typeof t=="string"){const a=parseFloat(t);t.endsWith("px")?s=a:t.endsWith("%")?t=a/100:t.endsWith("vw")?s=a/100*document.documentElement.clientWidth:t.endsWith("vh")?s=a/100*document.documentElement.clientHeight:t=a}return typeof t=="number"&&(s=e*t),n+s}const _k=[0,0];function bk(t,e,n,s){let a=Array.isArray(t)?t:_k,l=0,c=0;return typeof t=="number"?a=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?a=t.split(" "):a=[t,Km[t]?t:"0"]),l=Ow(a[0],n,s),c=Ow(a[1],e),l-c}const wk={All:[[0,0],[1,1]]},Tk={x:0,y:0};function Ek(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Sk(t,e,n){const{offset:s=wk.All}=n,{target:a=t,axis:l="y"}=n,c=l==="y"?"height":"width",d=a!==t?vk(a,t):Tk,p=a===t?{width:t.scrollWidth,height:t.scrollHeight}:Ek(a),g={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let y=!e[l].interpolate;const _=s.length;for(let E=0;E<_;E++){const A=bk(s[E],g[c],p[c],d[l]);!y&&A!==e[l].interpolatorOffsets[E]&&(y=!0),e[l].offset[E]=A}y&&(e[l].interpolate=Lg(e[l].offset,FT(s),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=Zi(0,1,e[l].interpolate(e[l].current))}function xk(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function Ak(t,e,n,s={}){return{measure:a=>{xk(t,s.target,n),yk(t,n,a),(s.offset||s.target)&&Sk(t,n,s)},notify:()=>e(n)}}const eu=new WeakMap,kw=new WeakMap,tm=new WeakMap,Dw=t=>t===document.scrollingElement?window:t;function eS(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Tn;let s=tm.get(e);s||(s=new Set,tm.set(e,s));const a=mk(),l=Ak(e,t,a,n);if(s.add(l),!eu.has(e)){const d=()=>{for(const _ of s)_.measure(Ht.timestamp);Ke.preUpdate(p)},p=()=>{for(const _ of s)_.notify()},g=()=>Ke.read(d);eu.set(e,g);const y=Dw(e);window.addEventListener("resize",g,{passive:!0}),e!==document.documentElement&&kw.set(e,AC(e,g)),y.addEventListener("scroll",g,{passive:!0}),g()}const c=eu.get(e);return Ke.read(c,!1,!0),()=>{var g;Ei(c);const d=tm.get(e);if(!d||(d.delete(l),d.size))return;const p=eu.get(e);eu.delete(e),p&&(Dw(e).removeEventListener("scroll",p),(g=kw.get(e))==null||g(),window.removeEventListener("resize",p))}}const Iw=new Map;function Rk(t){const e={value:0},n=eS(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function tS({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const a=Iw.get(e)??new Map;Iw.set(e,a);const l=n.target??"self",c=a.get(l)??{},d=s+(n.offset??[]).join(",");return c[d]||(c[d]=!n.target&&XT()?new ScrollTimeline({source:e,axis:s}):Rk({container:e,...n})),c[d]}function Ck(t,e){const n=tS(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),dE(a=>{s.time=s.iterationDuration*a},n))})}function Nk(t){return t.length===2}function Ok(t,e){return Nk(t)?eS(n=>{t(n[e.axis].progress,n)},e):dE(t,tS(e))}function kk(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return Tn;const a={axis:e,container:n,...s};return typeof t=="function"?Ok(t,a):Ck(t,a)}const Dk=()=>({scrollX:wi(0),scrollY:wi(0),scrollXProgress:wi(0),scrollYProgress:wi(0)}),Ah=t=>t?!t.current:!1;function s0({container:t,target:e,...n}={}){const s=Bo(Dk),a=ne.useRef(null),l=ne.useRef(!1),c=ne.useCallback(()=>(a.current=kk((d,{x:p,y:g})=>{s.scrollX.set(p.current),s.scrollXProgress.set(p.progress),s.scrollY.set(g.current),s.scrollYProgress.set(g.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var d;(d=a.current)==null||d.call(a)}),[t,e,JSON.stringify(n.offset)]);return _d(()=>{if(l.current=!1,Ah(t)||Ah(e)){l.current=!0;return}else return c()},[c]),ne.useEffect(()=>{if(l.current)return wu(!Ah(t)),wu(!Ah(e)),c()},[c]),s}function nS(t){const e=Bo(()=>wi(t)),{isStatic:n}=ne.useContext(zu);if(n){const[,s]=ne.useState(t);ne.useEffect(()=>e.on("change",s),[])}return e}function iS(t,e){const n=nS(e()),s=()=>n.set(e());return s(),_d(()=>{const a=()=>Ke.preRender(s,!1,!0),l=t.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),Ei(s)}}),n}function Ik(t){lu.current=[],t();const e=iS(lu.current,t);return lu.current=void 0,e}function da(t,e,n,s){if(typeof t=="function")return Ik(t);const a=typeof e=="function"?e:CC(e,n,s);return Array.isArray(t)?Mw(t,a):Mw([t],([l])=>a(l))}function Mw(t,e){const n=Bo(()=>[]);return iS(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}function Mk(t,e={}){const{isStatic:n}=ne.useContext(zu),s=()=>Yt(t)?t.get():t;if(n)return da(s);const a=nS(s());return ne.useInsertionEffect(()=>NC(a,t,e),[a,JSON.stringify(e)]),a}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),jw=t=>{const e=Vk(t);return e.charAt(0).toUpperCase()+e.slice(1)},sS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Pk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ne.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},p)=>ne.createElement("svg",{ref:p,...Uk,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:sS("lucide",a),...!l&&!Pk(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>ne.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,e)=>{const n=ne.forwardRef(({className:s,...a},l)=>ne.createElement(Lk,{ref:l,iconNode:e,className:sS(`lucide-${jk(jw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=jw(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Bk=be("arrow-up-right",zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],qk=be("arrow-up",$k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rS=be("book-open",Hk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Gk=be("briefcase",Fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yk=be("camera",Kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Qk=be("car",Xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jk=be("check",Wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eD=be("circle-question-mark",Zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nD=be("clock",tD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sD=be("copy",iD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],aD=be("crosshair",rD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],aS=be("crown",oD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],uD=be("dollar-sign",lD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],hD=be("drama",cD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vw=be("external-link",dD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pD=be("eye",fD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ym=be("gamepad-2",mD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],yD=be("gavel",gD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],_D=be("ghost",vD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wD=be("globe",bD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ED=be("heart",TD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xD=be("house",SD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],RD=be("instagram",AD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],r0=be("loader-circle",CD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],OD=be("lock",ND);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],DD=be("log-out",kD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MD=be("map-pin",ID);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],VD=be("menu",jD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Pw=be("message-square",PD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M5 12h14",key:"1ays0h"}]],LD=be("minus",UD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],BD=be("pen-line",zD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qD=be("plus",$D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],FD=be("rat",HD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],a0=be("refresh-cw",GD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YD=be("save",KD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],QD=be("scale",XD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],oS=be("shield-alert",WD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lS=be("shield-check",JD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],uS=be("shield",ZD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],tI=be("shirt",eI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xm=be("shopping-cart",nI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],sI=be("skull",iI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],aI=be("square-pen",rI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lI=be("star",oI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cS=be("users",uI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],nm=be("wifi",cI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],o0=be("x",hI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],fI=be("youtube",dI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],l0=be("zap",pI),yi=({variant:t="primary",size:e="md",children:n,className:s="",icon:a,fullWidth:l=!1,href:c,...d})=>{const p="relative inline-flex items-center justify-center font-display font-bold uppercase tracking-wider transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden",g={primary:"bg-vital-600 text-white border border-vital-500 shadow-[0_0_20px_rgba(249,115,22,0.4)]",secondary:"bg-white text-dark-900 border border-white",outline:"bg-transparent border border-vital-500 text-vital-500",ghost:"bg-transparent text-gray-400"},y={sm:"text-xs px-4 py-2 gap-2 rounded",md:"text-sm px-6 py-3 gap-2 rounded-md",lg:"text-base px-8 py-4 gap-3 rounded-lg"},_=l?"w-full":"",E={primary:{hover:{scale:1.05,y:-3,backgroundColor:"#f97316",boxShadow:"0 0 40px rgba(249,115,22,0.7)"},tap:{scale:.95,y:1}},secondary:{hover:{scale:1.05,y:-3,backgroundColor:"#f3f4f6",boxShadow:"0 10px 30px -5px rgba(255,255,255,0.4)"},tap:{scale:.95,y:1}},outline:{hover:{scale:1.05,y:-3,backgroundColor:"rgba(249,115,22,0.1)",boxShadow:"0 0 25px rgba(249,115,22,0.3)"},tap:{scale:.95,y:1}},ghost:{hover:{scale:1.05,y:-2,backgroundColor:"rgba(255,255,255,0.1)",color:"#ffffff"},tap:{scale:.95,y:1}}};return c?w.jsxs(_e.a,{href:c,whileHover:"hover",whileTap:"tap",variants:E[t],transition:{type:"spring",stiffness:400,damping:15},className:`${p} ${g[t]} ${y[e]} ${_} ${s}`,...d,children:[t==="primary"&&w.jsx(_e.div,{className:"absolute top-0 bottom-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12",initial:{left:"-100%"},variants:{hover:{left:"200%",transition:{duration:.6,ease:"easeInOut"}}}}),a&&w.jsx("span",{className:"mr-1 relative z-10",children:a}),w.jsx("span",{className:"relative z-10",children:n})]}):w.jsxs(_e.button,{whileHover:"hover",whileTap:"tap",variants:E[t],transition:{type:"spring",stiffness:400,damping:15},className:`${p} ${g[t]} ${y[e]} ${_} ${s}`,...d,children:[t==="primary"&&w.jsx(_e.div,{className:"absolute top-0 bottom-0 w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12",initial:{left:"-100%"},variants:{hover:{left:"200%",transition:{duration:.6,ease:"easeInOut"}}}}),a&&w.jsx("span",{className:"mr-1 relative z-10",children:a}),w.jsx("span",{className:"relative z-10",children:n})]})},mI=({className:t="w-10 h-10"})=>w.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMidYMid meet",children:[w.jsx("defs",{children:w.jsxs("linearGradient",{id:"vitalLogoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[w.jsx("stop",{offset:"0%",stopColor:"#FBBF24"})," ",w.jsx("stop",{offset:"50%",stopColor:"#F97316"})," ",w.jsx("stop",{offset:"100%",stopColor:"#EF4444"})," "]})}),w.jsx("path",{d:"M10 15 L50 95 L90 15 L70 15 L50 55 L30 15 Z",fill:"url(#vitalLogoGradient)",stroke:"none"})]}),Uw=({className:t})=>w.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[w.jsx("title",{children:"Discord"}),w.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),gI=({onOpenStore:t})=>{const[e,n]=ne.useState(!1),[s,a]=ne.useState(!1),[l,c]=ne.useState(!1),d=ne.useRef(null);ne.useEffect(()=>{const _=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]);const p=()=>{d.current=setTimeout(()=>{c(!0)},300)},g=()=>{d.current&&clearTimeout(d.current),c(!1)},y=[{name:"Features",href:"#features"},{name:"About",href:"#values"},{name:"Staff",href:"#staff"},{name:"Gallery",href:"#gallery"}];return w.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b ${e?"bg-dark-900/95 md:bg-dark-900/90 md:backdrop-blur-md border-white/10 py-3 shadow-lg":"bg-transparent border-transparent py-6"}`,children:[w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3 relative",children:[w.jsx("div",{className:"relative",children:w.jsx(mI,{className:"w-12 h-12 flex-shrink-0 filter drop-shadow-[0_0_10px_rgba(249,115,22,0.3)]"})}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-white font-display font-bold text-xl tracking-widest leading-none",children:"VITAL"}),w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600 font-tech text-xs tracking-[0.3em] leading-none font-bold",children:"ROLEPLAY"})]})]}),w.jsx("div",{className:"hidden lg:flex items-center gap-8",children:y.map(_=>w.jsx("a",{href:_.href,className:"text-sm font-tech font-medium text-gray-400 hover:text-vital-400 transition-colors uppercase tracking-widest",children:_.name},_.name))}),w.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-3",children:[w.jsxs("div",{className:"relative",onMouseEnter:p,onMouseLeave:g,children:[w.jsx(yi,{variant:"ghost",size:"sm",icon:w.jsx(Pw,{size:18}),children:"Forums"}),w.jsx(Su,{children:l&&w.jsxs(_e.div,{initial:{opacity:0,y:5,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:4,scale:.98},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full mt-3 left-1/2 -translate-x-1/2 bg-vital-500 text-dark-900 text-[10px] font-bold px-3 py-1.5 rounded shadow-lg whitespace-nowrap z-50 uppercase tracking-wider pointer-events-none",children:[w.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-vital-500 rotate-45"}),"Coming Soon!"]})})]}),w.jsx(yi,{onClick:t,variant:"ghost",size:"sm",icon:w.jsx(Xm,{size:18}),children:"Store"}),w.jsx(yi,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"ghost",size:"sm",icon:w.jsx(Uw,{className:"w-[18px] h-[18px]"}),children:"Discord"}),w.jsx(yi,{variant:"primary",size:"sm",icon:w.jsx(Ym,{size:18}),children:"Connect"})]}),w.jsx("div",{className:"flex md:hidden items-center gap-4",children:w.jsx("button",{className:"text-white p-2",onClick:()=>a(!s),"aria-label":"Toggle menu",children:s?w.jsx(o0,{}):w.jsx(VD,{})})})]})}),w.jsx(Su,{children:s&&w.jsx(_e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-dark-900 border-b border-white/10 overflow-hidden",children:w.jsxs("div",{className:"px-4 py-6 space-y-4 flex flex-col",children:[y.map(_=>w.jsx("a",{href:_.href,className:"text-lg font-display text-gray-300 hover:text-vital-400 block text-center",onClick:()=>a(!1),children:_.name},_.name)),w.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[w.jsx(yi,{variant:"outline",fullWidth:!0,icon:w.jsx(Pw,{size:18}),className:"opacity-75",children:"Forums (Soon)"}),w.jsx(yi,{onClick:()=>{a(!1),t()},variant:"outline",fullWidth:!0,icon:w.jsx(Xm,{size:18}),children:"Store"}),w.jsx(yi,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"outline",fullWidth:!0,icon:w.jsx(Uw,{className:"w-[18px] h-[18px]"}),children:"Join Discord"}),w.jsx(yi,{variant:"primary",fullWidth:!0,icon:w.jsx(Ym,{size:18}),children:"Play Now"})]})]})})})]})},Lw="cfx.re/join/ogpvmv",yI="https://cfx.re/join/ogpvmv",vI="ogpvmv",_I=()=>{const[t,e]=ne.useState(!1),[n,s]=ne.useState({online:!1,players:0,max:2048}),{scrollY:a}=s0(),l=da(a,[0,300],[0,100]),c=da(a,[0,300],[0,-50]),d=da(a,[0,400],[1,0]),p=()=>{navigator.clipboard.writeText(Lw),e(!0),setTimeout(()=>e(!1),2e3)};ne.useEffect(()=>{(async()=>{try{const _=await fetch(`https://servers-frontend.fivem.net/api/servers/single/${vI}`);if(!_.ok)throw new Error("Unreachable");const E=await _.json();E&&E.Data&&s({online:!0,players:E.Data.clients,max:E.Data.sv_maxclients})}catch{s({online:!0,players:412,max:2048})}})()},[]);const g=n.players>1800?Math.floor(Math.random()*20)+5:0;return w.jsxs("section",{id:"home",className:"relative w-full pt-32 pb-16 lg:pt-48 lg:pb-32 overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-vital-500/10 blur-[100px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/2 mix-blend-screen"}),w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:w.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-24 items-center",children:[w.jsxs(_e.div,{style:{y:l,opacity:d},className:"flex flex-col items-center lg:items-start text-center lg:text-left",children:[w.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-tech font-bold uppercase tracking-widest mb-6 backdrop-blur-sm",children:[w.jsxs("span",{className:"relative flex h-2 w-2",children:[w.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),w.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"Accepting Applications"]}),w.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[w.jsxs("h1",{className:"text-5xl sm:text-7xl lg:text-8xl font-display font-black text-white leading-[0.9] tracking-tighter mb-4 drop-shadow-2xl",children:["VITAL ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600 pr-3 pb-1",children:"RP"})]}),w.jsxs("p",{className:"text-xl sm:text-2xl text-gray-400 font-light tracking-wide mb-8 lg:max-w-[90%]",children:["Story-first roleplay, with a community that ",w.jsx("span",{className:"text-white font-medium",children:"actually feels alive."})]})]}),w.jsx(_e.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-gray-400 text-base sm:text-lg max-w-xl leading-relaxed mb-10",children:"Vital RP is built for immersive scenes, fair conflict, and the kind of RP you remember later. Win or lose, the goal is always the story."}),w.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full sm:w-auto",children:[w.jsx("a",{href:yI,className:"w-full sm:w-auto block",children:w.jsxs(yi,{size:"lg",className:"shadow-2xl shadow-vital-500/20 w-full",children:[w.jsx(l0,{size:20,className:"mr-2 fill-current"}),"Connect Now"]})}),w.jsxs("div",{className:"relative group flex items-center",children:[w.jsx("div",{className:"absolute inset-0 bg-white/5 rounded-lg blur-sm group-hover:bg-white/10 transition-all"}),w.jsxs("div",{className:"relative flex items-center bg-dark-800/80 backdrop-blur-md border border-white/10 rounded-lg p-1 pr-4 pl-4 h-[54px]",children:[w.jsxs("div",{className:"flex flex-col items-start mr-8",children:[w.jsx("span",{className:"text-[10px] text-gray-500 font-tech uppercase tracking-wider",children:"Server IP"}),w.jsx("span",{className:"text-white font-tech font-bold",children:Lw})]}),w.jsx("button",{onClick:p,className:"ml-auto p-2 hover:bg-white/10 rounded-md text-gray-400 hover:text-white transition-colors",children:t?w.jsx(Jk,{size:18,className:"text-green-500"}):w.jsx(sD,{size:18})})]})]})]}),w.jsxs("div",{className:"lg:hidden mt-8 flex items-center gap-6 border-t border-white/5 pt-6 w-full justify-center",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx(cS,{size:20,className:"text-vital-500 mb-1"}),w.jsx("span",{className:"font-bold text-white",children:n.players}),w.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Online"})]}),w.jsx("div",{className:"w-px h-8 bg-white/10"}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx(nm,{size:20,className:"text-green-500 mb-1"}),w.jsx("span",{className:"font-bold text-white",children:"12ms"}),w.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Ping"})]}),w.jsx("div",{className:"w-px h-8 bg-white/10"}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx(wD,{size:20,className:"text-blue-500 mb-1"}),w.jsx("span",{className:"font-bold text-white",children:"US-East"}),w.jsx("span",{className:"text-xs text-gray-500 font-tech uppercase",children:"Region"})]})]})]}),w.jsxs(_e.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},style:{y:c},transition:{duration:.7,ease:"easeOut"},className:"relative hidden lg:block",children:[w.jsx("div",{className:"absolute inset-0 bg-vital-500/20 blur-[60px] rounded-full transform rotate-12 scale-75"}),w.jsxs("div",{className:"relative z-10 w-full aspect-[4/3] rounded-2xl overflow-hidden border border-white/10 shadow-2xl group",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-transparent to-transparent z-10 opacity-60"}),w.jsx("img",{src:"https://r2.fivemanage.com/image/nABguUthLZVW.png",alt:"Vital RP City",className:"w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-105"}),w.jsx("div",{className:"absolute bottom-6 right-6 z-20",children:w.jsxs("div",{className:"bg-dark-900/80 backdrop-blur-md border border-white/10 p-4 rounded-xl flex items-center gap-4 shadow-xl",children:[w.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:w.jsx(nm,{size:20,className:"text-green-500"})}),w.jsxs("div",{children:[w.jsx("div",{className:"text-[10px] text-gray-400 font-tech uppercase tracking-wider",children:"Server Status"}),w.jsx("div",{className:"text-white font-bold font-display",children:"OPTIMAL PERFORMANCE"})]})]})})]}),w.jsx(_e.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:6,ease:"easeInOut"},className:"absolute -top-12 -left-8 z-30 w-72",children:w.jsxs("div",{className:"relative bg-dark-900/90 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-vital-500 to-transparent"}),w.jsxs("div",{className:"flex justify-between items-center p-5 pb-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[w.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${n.online?"bg-emerald-400":"bg-red-400"}`}),w.jsx("span",{className:`relative inline-flex rounded-full h-2.5 w-2.5 ${n.online?"bg-emerald-500":"bg-red-500"}`})]}),w.jsx("span",{className:"text-xs font-bold font-tech text-white tracking-widest uppercase",children:n.online?"System Online":"System Offline"})]}),w.jsx("span",{className:"text-[10px] text-gray-500 font-tech",children:"US-EAST"})]}),w.jsxs("div",{className:"px-6 py-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-1",children:[w.jsx("span",{className:"text-gray-400 text-xs font-sans font-medium",children:"Active Citizens"}),w.jsxs("span",{className:"text-vital-500 text-xs font-tech",children:[(n.players/n.max*100).toFixed(0),"% LOAD"]})]}),w.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[w.jsx("span",{className:"text-6xl font-display font-black text-white tracking-tighter leading-none",children:n.players}),w.jsxs("span",{className:"text-lg text-gray-600 font-tech font-bold",children:["/",n.max]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[w.jsxs("div",{className:"bg-white/5 rounded-lg p-2.5 border border-white/5 flex flex-col",children:[w.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-tech mb-1",children:"Queue Length"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(nD,{size:14,className:"text-gray-400"}),w.jsx("span",{className:"text-white font-bold",children:g})]})]}),w.jsxs("div",{className:"bg-white/5 rounded-lg p-2.5 border border-white/5 flex flex-col",children:[w.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-tech mb-1",children:"Avg Latency"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(nm,{size:14,className:"text-emerald-500"}),w.jsx("span",{className:"text-white font-bold",children:"12ms"})]})]})]}),w.jsxs("div",{className:"relative h-10 w-full bg-dark-950/50 rounded-lg overflow-hidden border border-white/5",children:[w.jsx("div",{className:"absolute inset-0 grid grid-cols-6 gap-px opacity-10",children:[...Array(6)].map((y,_)=>w.jsx("div",{className:"bg-white/50 h-full w-px"},_))}),w.jsx("svg",{className:"absolute inset-0 w-full h-full",preserveAspectRatio:"none",children:w.jsx(_e.path,{d:"M0,20 L10,20 L20,15 L30,25 L40,20 L50,10 L60,30 L70,20 L80,22 L90,18 L100,20 L110,5 L120,35 L130,20 L140,20 L200,20 L210,10 L220,30 L300,20",fill:"none",stroke:"#f97316",strokeWidth:"1.5",vectorEffect:"non-scaling-stroke",initial:{x:-100},animate:{x:0},transition:{repeat:1/0,duration:2,ease:"linear"}})}),w.jsx("div",{className:"absolute bottom-1 right-2 text-[8px] text-vital-500 font-tech",children:"TICK: 60"})]})]})]})})]})]})})]})},bI=[{icon:Qk,title:"Custom Vehicles",description:"Over 400+ custom imported vehicles with realistic handling files, custom sounds, and extensive tuning options."},{icon:Gk,title:"Player Economy",description:"A dynamic, player-driven economy. Own businesses, manage supply chains, and influence the market prices."},{icon:sI,title:"Gangs & Cartels",description:"Deep criminal progression systems. Claim territory, manufacture illicit goods, and war for control of the city."},{icon:uS,title:"Emergency Services",description:"Advanced PD and EMS scripts including evidence systems, custom medical treatments, and realistic dispatch."},{icon:xD,title:"Housing & Interiors",description:"Buy any house on the map. Custom furnish your home with thousands of props or buy a pre-furnished mansion."},{icon:uD,title:"Legal Jobs",description:"From trucking to fishing, garbage collection to mechanic work - earn an honest living with interactive jobs."}],wI={hidden:{},visible:{transition:{staggerChildren:.1}}},TI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},EI=()=>w.jsxs("section",{id:"features",className:"py-24 relative",children:[w.jsx("div",{className:"absolute inset-0 bg-dark-900/80 backdrop-blur-sm"}),w.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-vital-900 to-transparent opacity-50 z-20"}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[w.jsxs("div",{className:"text-center mb-20",children:[w.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-6",children:["IMMERSIVE ",w.jsx("span",{className:"text-vital-500",children:"FEATURES"})]}),w.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:"We've customized every aspect of Vital RP to ensure a unique, lag-free, and engaging experience for every type of roleplayer."})]}),w.jsx(_e.div,{variants:wI,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:bI.map((t,e)=>w.jsxs(_e.div,{variants:TI,className:"group relative p-8 rounded-xl bg-dark-800/80 backdrop-blur border border-white/5 hover:border-vital-500/30 transition-all duration-300 hover:bg-dark-700/50",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-vital-500/10 to-transparent opacity-0 group-hover:opacity-100 rounded-xl transition-opacity duration-300"}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("div",{className:"w-14 h-14 rounded-lg bg-dark-900 border border-white/10 flex items-center justify-center mb-6 group-hover:border-vital-500/50 group-hover:scale-110 transition-all duration-300",children:w.jsx(t.icon,{className:"w-7 h-7 text-vital-500"})}),w.jsx("h3",{className:"text-xl font-display font-bold text-white mb-3 group-hover:text-vital-400 transition-colors",children:t.title}),w.jsx("p",{className:"text-gray-400 leading-relaxed font-sans text-sm",children:t.description})]})]},e))})]})]}),SI=[{id:"01",title:"Narrative Over Winning",description:"We believe the best stories come from conflict, flaws, and failure. We prioritize character development and scene integrity over 'winning' a shootout or chase.",icon:rS,className:"md:col-span-2 md:row-span-1",gradient:"from-vital-600/20 to-transparent"},{id:"02",title:"Community First",description:"Your voice shapes the city. We actively listen to feedback and hold regular town halls.",icon:cS,className:"md:col-span-1 md:row-span-1",gradient:"from-blue-500/20 to-transparent"},{id:"03",title:"Zero Toxicity",description:"A strict zero-tolerance policy for harassment. We protect our safe, inclusive environment aggressively.",icon:lS,className:"md:col-span-1 md:row-span-1",gradient:"from-red-500/20 to-transparent"},{id:"04",title:"Optimized Performance",description:"Custom asset management ensuring high FPS even in dense areas.",icon:l0,className:"md:col-span-1 md:row-span-1",gradient:"from-yellow-500/20 to-transparent"},{id:"05",title:"Player-Run Economy",description:"No spawned money. Every dollar in circulation is earned, spent, and circulated by players owning businesses and providing services.",icon:QD,className:"md:col-span-1 md:row-span-1",gradient:"from-emerald-500/20 to-transparent"}],xI={hidden:{},visible:{transition:{staggerChildren:.1}}},AI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},RI=()=>w.jsxs("section",{id:"values",className:"py-24 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/70 md:backdrop-blur-md"}),w.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-16 gap-6",children:[w.jsxs(_e.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},className:"max-w-xl text-center md:text-left",children:[w.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[w.jsx(aS,{size:16,className:"text-vital-500"}),w.jsx("span",{className:"text-vital-500 font-tech uppercase tracking-widest text-xs font-bold",children:"Our Philosophy"})]}),w.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white",children:["WHAT WE ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"VALUE"})]})]}),w.jsx(_e.p,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},className:"text-gray-400 max-w-sm text-sm text-center md:text-right font-sans leading-relaxed",children:"Vital RP isn't just a server; it's a standard. We are dedicated to providing the highest quality roleplay environment on FiveM."})]}),w.jsx(_e.div,{variants:xI,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 auto-rows-[minmax(180px,auto)]",children:SI.map(t=>w.jsxs(_e.div,{variants:AI,className:`relative group p-8 rounded-2xl border border-white/5 bg-dark-800 md:bg-dark-800/80 md:backdrop-blur hover:border-vital-500/30 transition-all duration-500 overflow-hidden ${t.className}`,children:[w.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),w.jsx("div",{className:"absolute top-4 right-6 text-6xl font-display font-black text-white/5 group-hover:text-white/10 transition-colors duration-500 select-none",children:t.id}),w.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("div",{className:"w-12 h-12 rounded-lg bg-dark-900/50 border border-white/10 flex items-center justify-center mb-4 text-vital-500 group-hover:scale-110 group-hover:bg-vital-500 group-hover:text-white transition-all duration-300",children:w.jsx(t.icon,{size:24})}),w.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-3 group-hover:text-vital-200 transition-colors",children:t.title}),w.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300 transition-colors",children:t.description})]}),w.jsx("div",{className:"w-8 h-1 bg-vital-500/30 rounded-full group-hover:w-full group-hover:bg-vital-500 transition-all duration-500"})]})]},t.id))})]})]}),CI=[{title:"Management",items:[{name:"Grumpy",role:"Owner",subRole:"IFM",color:"amber"},{name:"Nez",role:"Owner",subRole:"LFM",color:"amber"},{name:"Soup",role:"Owner",color:"amber"}]},{title:"Administration",items:[{name:"Rue",role:"Admin",subRole:"Rules",color:"red"},{name:"Damon",role:"Admin",subRole:"Whitelist Team",color:"red"},{name:"Peaches",role:"Admin",subRole:"Property Mgmt",color:"red"},{name:"Parzival",role:"Admin",color:"red"},{name:"Artemis",role:"Admin",subRole:"LFM",color:"red"}]},{title:"Moderation Team",items:[{name:"Jonesy",role:"Mod",subRole:"Clothing Dev",color:"yellow"},{name:"Plum",role:"Senior Mod",subRole:"Content & Events",color:"green"},{name:"Booberry",role:"Senior Mod",subRole:"Business Mgmt",color:"green"},{name:"Chach",role:"Mod",subRole:"Content & Events",color:"green"}]}],NI=t=>{switch(t){case"amber":return{text:"text-amber-400",bg:"bg-amber-500",border:"group-hover:border-amber-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(245,158,11,0.2)]",gradient:"from-amber-500/20 to-transparent"};case"red":return{text:"text-red-400",bg:"bg-red-500",border:"group-hover:border-red-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(239,68,68,0.2)]",gradient:"from-red-500/20 to-transparent"};case"green":return{text:"text-emerald-400",bg:"bg-emerald-500",border:"group-hover:border-emerald-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(16,185,129,0.2)]",gradient:"from-emerald-500/20 to-transparent"};case"yellow":return{text:"text-yellow-400",bg:"bg-yellow-500",border:"group-hover:border-yellow-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(250,204,21,0.2)]",gradient:"from-yellow-500/20 to-transparent"};case"purple":return{text:"text-purple-400",bg:"bg-purple-500",border:"group-hover:border-purple-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(168,85,247,0.2)]",gradient:"from-purple-500/20 to-transparent"};default:return{text:"text-vital-400",bg:"bg-vital-500",border:"group-hover:border-vital-500/50",glow:"group-hover:shadow-[0_0_30px_rgba(249,115,22,0.2)]",gradient:"from-vital-500/20 to-transparent"}}},OI=({role:t,subRole:e,className:n,size:s})=>t==="Owner"?w.jsx(aS,{className:n,size:s}):t==="Senior Admin"?w.jsx(oS,{className:n,size:s}):t==="Clothing Dev"||e==="Clothing Dev"?w.jsx(tI,{className:n,size:s}):t==="Senior Mod"?w.jsx(lS,{className:n,size:s}):t==="Mod"||t==="Moderator"?w.jsx(yD,{className:n,size:s}):w.jsx(uS,{className:n,size:s}),kI={hidden:{},visible:{transition:{staggerChildren:.1}}},DI={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.21,.47,.32,.98]}}},II=({member:t})=>{const[e,n]=ne.useState(!1),s=NI(t.color),a=t.name==="Soup",l=()=>{a&&n(!e)};return w.jsxs(_e.div,{variants:DI,onClick:l,className:`group relative h-40 bg-dark-800 md:bg-dark-800/80 md:backdrop-blur rounded-xl overflow-hidden border border-white/5 ${s.border} transition-all duration-300 ${s.glow} ${a?"cursor-pointer":""}`,children:[w.jsx("div",{className:"absolute -right-2 -bottom-4 font-display font-black text-[120px] leading-none text-white/[0.03] group-hover:text-white/[0.07] transition-colors select-none pointer-events-none",children:e?"":t.name.charAt(0)}),w.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${s.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),w.jsxs("div",{className:"absolute inset-0 p-5 flex flex-col justify-between z-10",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("div",{className:`w-8 h-8 rounded-lg bg-dark-900/80 md:backdrop-blur border border-white/10 flex items-center justify-center ${s.text} group-hover:scale-110 transition-transform duration-300`,children:e?w.jsx(_e.div,{initial:{rotate:-20,scale:.8},animate:{rotate:0,scale:1},transition:{type:"spring",stiffness:300,damping:10},children:w.jsx(FD,{size:16})}):w.jsx(OI,{role:t.role,subRole:t.subRole,size:16})}),w.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:w.jsx(lI,{size:10,className:s.text,fill:"currentColor"})})]}),w.jsxs("div",{children:[w.jsx("div",{className:`text-[9px] font-tech font-bold uppercase tracking-widest mb-1 ${s.text} opacity-80 flex flex-col`,children:e?w.jsx("span",{children:"Fashion Icon"}):w.jsxs(w.Fragment,{children:[w.jsx("span",{children:t.role}),t.subRole&&w.jsx("span",{className:"text-white/60 text-[8px] mt-0.5 border-l-2 border-current pl-1.5 leading-none py-0.5",children:t.subRole})]})}),w.jsx(_e.h4,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-xl font-display font-bold text-white group-hover:translate-x-1 transition-transform duration-300 truncate",children:e?'"I look like a rat"':t.name},e?"rat":"normal"),w.jsx("div",{className:`h-0.5 w-6 mt-3 rounded-full ${s.bg} group-hover:w-full transition-all duration-500 ease-out`})]})]})]})},MI=()=>w.jsxs("section",{id:"staff",className:"py-16 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/80 md:backdrop-blur-sm z-0"}),w.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-10",children:[w.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-vital-900/10 blur-[100px] rounded-full -translate-y-1/2 translate-x-1/2"}),w.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-900/10 blur-[100px] rounded-full translate-y-1/2 -translate-x-1/2"})]}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-20",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsxs(_e.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-4xl md:text-5xl font-display font-black text-white mb-4 uppercase tracking-tight",children:["Meet The ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"Staff"})]}),w.jsx(_e.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1},className:"h-1 w-24 bg-dark-800 mx-auto rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full w-full bg-vital-500/50 -translate-x-full animate-[shimmer_2s_infinite]"})})]}),CI.map(t=>w.jsxs("div",{className:"mb-10 last:mb-0",children:[w.jsxs(_e.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"flex items-center gap-4 mb-5",children:[w.jsx("h3",{className:"text-lg font-display font-bold text-gray-500 uppercase tracking-widest",children:t.title}),w.jsx("div",{className:"h-px bg-white/10 flex-grow"})]}),w.jsx(_e.div,{variants:kI,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.items.map((e,n)=>w.jsx(II,{member:e,index:n},n))})]},t.title))]})]}),jI="1429603333416423614",VI=["315834609823490049"],hS=ne.createContext({user:null,isAdmin:!1,editMode:!1,login:()=>{},logout:()=>{},toggleEditMode:()=>{}}),xd=()=>ne.useContext(hS),PI=({children:t})=>{const[e,n]=ne.useState(null),[s,a]=ne.useState(!1),[l,c]=ne.useState(!1);ne.useEffect(()=>{if(window.location.hash.includes("access_token")){const y=new URLSearchParams(window.location.hash.slice(1)),_=y.get("access_token"),E=y.get("token_type");_&&(window.history.replaceState({},document.title,window.location.pathname),fetch("https://discord.com/api/users/@me",{headers:{authorization:`${E} ${_}`}}).then(A=>A.json()).then(A=>{console.log(" Discord Login Success. User ID:",A.id),n(A),VI.includes(A.id)?(a(!0),console.log(" Admin Authorized")):console.log(" User is not in ADMIN_IDS list. ID:",A.id)}).catch(A=>console.error("Auth Error:",A)))}},[]);const d=()=>{const y=window.location.origin,_=encodeURIComponent(y);console.log("Attempting Discord Login..."),console.log("Configured Redirect URI being sent:",y),console.log("Ensure this EXACT URL is added to your Discord Developer Portal under OAuth2 > Redirects");const E=`https://discord.com/api/oauth2/authorize?client_id=${jI}&redirect_uri=${_}&response_type=token&scope=identify`;window.location.href=E},p=()=>{n(null),a(!1),c(!1)},g=()=>{s&&c(y=>!y)};return w.jsx(hS.Provider,{value:{user:e,isAdmin:s,editMode:l,login:d,logout:p,toggleEditMode:g},children:t})},UI=()=>{};var zw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},LI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|g>>6,A=g&63;p||(A=64,c||(E=64)),s.push(n[y],n[_],n[E],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new zI;const E=l<<2|d>>4;if(s.push(E),g!==64){const A=d<<4&240|g>>2;if(s.push(A),_!==64){const O=g<<6&192|_;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BI=function(t){const e=dS(t);return fS.encodeByteArray(e,!0)},pS=function(t){return BI(t).replace(/\./g,"")},mS=function(t){try{return fS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=()=>$I().__FIREBASE_DEFAULTS__,HI=()=>{if(typeof process>"u"||typeof zw>"u")return;const t=zw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mS(t[1]);return e&&JSON.parse(e)},gS=()=>{try{return UI()||qI()||HI()||FI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GI=t=>{var e;return(e=gS())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Si())}function YI(){var e;const t=(e=gS())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JI(){return!YI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZI(){try{return typeof indexedDB=="object"}catch{return!1}}function e5(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="FirebaseError";class Rs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=t5,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?n5(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Rs(a,d,s)}}function n5(t,e){return t.replace(i5,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const i5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function s5(t,e){const n=new r5(t,e);return n.subscribe.bind(n)}class r5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");a5(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=im),a.error===void 0&&(a.error=im),a.complete===void 0&&(a.complete=im);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){return t&&t._delegate?t._delegate:t}class ya{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const o5={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},l5=Ue.INFO,u5={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},c5=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=u5[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c0{constructor(e){this.name=e,this._logLevel=l5,this._logHandler=c5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const h5=(t,e)=>e.some(n=>t instanceof n);let Bw,$w;function d5(){return Bw||(Bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f5(){return $w||($w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,Qm=new WeakMap,_S=new WeakMap,sm=new WeakMap,h0=new WeakMap;function p5(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(mr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&vS.set(n,t)}).catch(()=>{}),h0.set(e,t),e}function m5(t){if(Qm.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Qm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g5(t){Wm=t(Wm)}function y5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(rm(this),e,...n);return _S.set(s,e.sort?e.sort():[e]),mr(s)}:f5().includes(t)?function(...e){return t.apply(rm(this),e),mr(vS.get(this))}:function(...e){return mr(t.apply(rm(this),e))}}function v5(t){return typeof t=="function"?y5(t):(t instanceof IDBTransaction&&m5(t),h5(t,d5())?new Proxy(t,Wm):t)}function mr(t){if(t instanceof IDBRequest)return p5(t);if(sm.has(t))return sm.get(t);const e=v5(t);return e!==t&&(sm.set(t,e),h0.set(e,t)),e}const rm=t=>h0.get(t);function _5(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=mr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(mr(c.result),p.oldVersion,p.newVersion,mr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const b5=["get","getKey","getAll","getAllKeys","count"],w5=["put","add","delete","clear"],am=new Map;function qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=w5.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||b5.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&p.done]))[0]};return am.set(e,l),l}g5(t=>({...t,get:(e,n,s)=>qw(e,n)||t.get(e,n,s),has:(e,n)=>!!qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E5(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function E5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",Hw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new c0("@firebase/app"),S5="@firebase/app-compat",x5="@firebase/analytics-compat",A5="@firebase/analytics",R5="@firebase/app-check-compat",C5="@firebase/app-check",N5="@firebase/auth",O5="@firebase/auth-compat",k5="@firebase/database",D5="@firebase/data-connect",I5="@firebase/database-compat",M5="@firebase/functions",j5="@firebase/functions-compat",V5="@firebase/installations",P5="@firebase/installations-compat",U5="@firebase/messaging",L5="@firebase/messaging-compat",z5="@firebase/performance",B5="@firebase/performance-compat",$5="@firebase/remote-config",q5="@firebase/remote-config-compat",H5="@firebase/storage",F5="@firebase/storage-compat",G5="@firebase/firestore",K5="@firebase/ai",Y5="@firebase/firestore-compat",X5="firebase",Q5="12.6.0",W5={[Jm]:"fire-core",[S5]:"fire-core-compat",[A5]:"fire-analytics",[x5]:"fire-analytics-compat",[C5]:"fire-app-check",[R5]:"fire-app-check-compat",[N5]:"fire-auth",[O5]:"fire-auth-compat",[k5]:"fire-rtdb",[D5]:"fire-data-connect",[I5]:"fire-rtdb-compat",[M5]:"fire-fn",[j5]:"fire-fn-compat",[V5]:"fire-iid",[P5]:"fire-iid-compat",[U5]:"fire-fcm",[L5]:"fire-fcm-compat",[z5]:"fire-perf",[B5]:"fire-perf-compat",[$5]:"fire-rc",[q5]:"fire-rc-compat",[H5]:"fire-gcs",[F5]:"fire-gcs-compat",[G5]:"fire-fst",[Y5]:"fire-fst-compat",[K5]:"fire-vertex","fire-js":"fire-js",[X5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Map,Z5=new Map,Fw=new Map;function Gw(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function va(t){const e=t.name;if(Fw.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Fw.set(e,t);for(const n of J5.values())Gw(n,t);for(const n of Z5.values())Gw(n,t);return!0}function dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},d0=new $u("app","Firebase",e4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=Q5;function Ji(t,e,n){let s=W5[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(c.join(" "));return}va(new ya(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebase-heartbeat-database",n4=1,Ru="firebase-heartbeat-store";let om=null;function bS(){return om||(om=_5(t4,n4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw d0.create("idb-open",{originalErrorMessage:t.message})})),om}async function i4(t){try{const n=(await bS()).transaction(Ru),s=await n.objectStore(Ru).get(wS(t));return await n.done,s}catch(e){if(e instanceof Rs)As.warn(e.message);else{const n=d0.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});As.warn(n.message)}}}async function Kw(t,e){try{const s=(await bS()).transaction(Ru,"readwrite");await s.objectStore(Ru).put(e,wS(t)),await s.done}catch(n){if(n instanceof Rs)As.warn(n.message);else{const s=d0.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});As.warn(s.message)}}}function wS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=1024,r4=30;class a4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Yw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>r4){const c=u4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){As.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yw(),{heartbeatsToSend:s,unsentEntries:a}=o4(this._heartbeatsCache.heartbeats),l=pS(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return As.warn(n),""}}}function Yw(){return new Date().toISOString().substring(0,10)}function o4(t,e=s4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Xw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Xw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class l4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZI()?e5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Kw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xw(t){return pS(JSON.stringify({version:2,heartbeats:t})).length}function u4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){va(new ya("platform-logger",e=>new T5(e),"PRIVATE")),va(new ya("heartbeat",e=>new a4(e),"PRIVATE")),Ji(Jm,Hw,t),Ji(Jm,Hw,"esm2020"),Ji("fire-js","")}c4("");var h4="firebase",d4="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(h4,d4,"app");var Qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,R){function N(){}N.prototype=R.prototype,C.F=R.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(j,M,z){for(var k=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)k[tt-2]=arguments[tt];return R.prototype[M].apply(j,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,N){N||(N=0);const j=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)j[M]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(M=0;M<16;++M)j[M]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=C.g[0],N=C.g[1],M=C.g[2];let z=C.g[3],k;k=R+(z^N&(M^z))+j[0]+3614090360&4294967295,R=N+(k<<7&4294967295|k>>>25),k=z+(M^R&(N^M))+j[1]+3905402710&4294967295,z=R+(k<<12&4294967295|k>>>20),k=M+(N^z&(R^N))+j[2]+606105819&4294967295,M=z+(k<<17&4294967295|k>>>15),k=N+(R^M&(z^R))+j[3]+3250441966&4294967295,N=M+(k<<22&4294967295|k>>>10),k=R+(z^N&(M^z))+j[4]+4118548399&4294967295,R=N+(k<<7&4294967295|k>>>25),k=z+(M^R&(N^M))+j[5]+1200080426&4294967295,z=R+(k<<12&4294967295|k>>>20),k=M+(N^z&(R^N))+j[6]+2821735955&4294967295,M=z+(k<<17&4294967295|k>>>15),k=N+(R^M&(z^R))+j[7]+4249261313&4294967295,N=M+(k<<22&4294967295|k>>>10),k=R+(z^N&(M^z))+j[8]+1770035416&4294967295,R=N+(k<<7&4294967295|k>>>25),k=z+(M^R&(N^M))+j[9]+2336552879&4294967295,z=R+(k<<12&4294967295|k>>>20),k=M+(N^z&(R^N))+j[10]+4294925233&4294967295,M=z+(k<<17&4294967295|k>>>15),k=N+(R^M&(z^R))+j[11]+2304563134&4294967295,N=M+(k<<22&4294967295|k>>>10),k=R+(z^N&(M^z))+j[12]+1804603682&4294967295,R=N+(k<<7&4294967295|k>>>25),k=z+(M^R&(N^M))+j[13]+4254626195&4294967295,z=R+(k<<12&4294967295|k>>>20),k=M+(N^z&(R^N))+j[14]+2792965006&4294967295,M=z+(k<<17&4294967295|k>>>15),k=N+(R^M&(z^R))+j[15]+1236535329&4294967295,N=M+(k<<22&4294967295|k>>>10),k=R+(M^z&(N^M))+j[1]+4129170786&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^M&(R^N))+j[6]+3225465664&4294967295,z=R+(k<<9&4294967295|k>>>23),k=M+(R^N&(z^R))+j[11]+643717713&4294967295,M=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(M^z))+j[0]+3921069994&4294967295,N=M+(k<<20&4294967295|k>>>12),k=R+(M^z&(N^M))+j[5]+3593408605&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^M&(R^N))+j[10]+38016083&4294967295,z=R+(k<<9&4294967295|k>>>23),k=M+(R^N&(z^R))+j[15]+3634488961&4294967295,M=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(M^z))+j[4]+3889429448&4294967295,N=M+(k<<20&4294967295|k>>>12),k=R+(M^z&(N^M))+j[9]+568446438&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^M&(R^N))+j[14]+3275163606&4294967295,z=R+(k<<9&4294967295|k>>>23),k=M+(R^N&(z^R))+j[3]+4107603335&4294967295,M=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(M^z))+j[8]+1163531501&4294967295,N=M+(k<<20&4294967295|k>>>12),k=R+(M^z&(N^M))+j[13]+2850285829&4294967295,R=N+(k<<5&4294967295|k>>>27),k=z+(N^M&(R^N))+j[2]+4243563512&4294967295,z=R+(k<<9&4294967295|k>>>23),k=M+(R^N&(z^R))+j[7]+1735328473&4294967295,M=z+(k<<14&4294967295|k>>>18),k=N+(z^R&(M^z))+j[12]+2368359562&4294967295,N=M+(k<<20&4294967295|k>>>12),k=R+(N^M^z)+j[5]+4294588738&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^M)+j[8]+2272392833&4294967295,z=R+(k<<11&4294967295|k>>>21),k=M+(z^R^N)+j[11]+1839030562&4294967295,M=z+(k<<16&4294967295|k>>>16),k=N+(M^z^R)+j[14]+4259657740&4294967295,N=M+(k<<23&4294967295|k>>>9),k=R+(N^M^z)+j[1]+2763975236&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^M)+j[4]+1272893353&4294967295,z=R+(k<<11&4294967295|k>>>21),k=M+(z^R^N)+j[7]+4139469664&4294967295,M=z+(k<<16&4294967295|k>>>16),k=N+(M^z^R)+j[10]+3200236656&4294967295,N=M+(k<<23&4294967295|k>>>9),k=R+(N^M^z)+j[13]+681279174&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^M)+j[0]+3936430074&4294967295,z=R+(k<<11&4294967295|k>>>21),k=M+(z^R^N)+j[3]+3572445317&4294967295,M=z+(k<<16&4294967295|k>>>16),k=N+(M^z^R)+j[6]+76029189&4294967295,N=M+(k<<23&4294967295|k>>>9),k=R+(N^M^z)+j[9]+3654602809&4294967295,R=N+(k<<4&4294967295|k>>>28),k=z+(R^N^M)+j[12]+3873151461&4294967295,z=R+(k<<11&4294967295|k>>>21),k=M+(z^R^N)+j[15]+530742520&4294967295,M=z+(k<<16&4294967295|k>>>16),k=N+(M^z^R)+j[2]+3299628645&4294967295,N=M+(k<<23&4294967295|k>>>9),k=R+(M^(N|~z))+j[0]+4096336452&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~M))+j[7]+1126891415&4294967295,z=R+(k<<10&4294967295|k>>>22),k=M+(R^(z|~N))+j[14]+2878612391&4294967295,M=z+(k<<15&4294967295|k>>>17),k=N+(z^(M|~R))+j[5]+4237533241&4294967295,N=M+(k<<21&4294967295|k>>>11),k=R+(M^(N|~z))+j[12]+1700485571&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~M))+j[3]+2399980690&4294967295,z=R+(k<<10&4294967295|k>>>22),k=M+(R^(z|~N))+j[10]+4293915773&4294967295,M=z+(k<<15&4294967295|k>>>17),k=N+(z^(M|~R))+j[1]+2240044497&4294967295,N=M+(k<<21&4294967295|k>>>11),k=R+(M^(N|~z))+j[8]+1873313359&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~M))+j[15]+4264355552&4294967295,z=R+(k<<10&4294967295|k>>>22),k=M+(R^(z|~N))+j[6]+2734768916&4294967295,M=z+(k<<15&4294967295|k>>>17),k=N+(z^(M|~R))+j[13]+1309151649&4294967295,N=M+(k<<21&4294967295|k>>>11),k=R+(M^(N|~z))+j[4]+4149444226&4294967295,R=N+(k<<6&4294967295|k>>>26),k=z+(N^(R|~M))+j[11]+3174756917&4294967295,z=R+(k<<10&4294967295|k>>>22),k=M+(R^(z|~N))+j[2]+718787259&4294967295,M=z+(k<<15&4294967295|k>>>17),k=N+(z^(M|~R))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const N=R-this.blockSize,j=this.C;let M=this.h,z=0;for(;z<R;){if(M==0)for(;z<=N;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<R;)if(j[M++]=C.charCodeAt(z++),M==this.blockSize){a(this,j),M=0;break}}else for(;z<R;)if(j[M++]=C[z++],M==this.blockSize){a(this,j),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)C[R++]=this.g[N]>>>j&255;return C};function l(C,R){var N=d;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=R(C)}function c(C,R){this.h=R;const N=[];let j=!0;for(let M=C.length-1;M>=0;M--){const z=C[M]|0;j&&z==R||(N[M]=z,j=!1)}this.g=N}var d={};function p(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return P(g(-C));const R=[];let N=1;for(let j=0;C>=N;j++)R[j]=C/N|0,N*=4294967296;return new c(R,0)}function y(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return P(y(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(R,8));let j=_;for(let z=0;z<C.length;z+=8){var M=Math.min(8,C.length-z);const k=parseInt(C.substring(z,z+M),R);M<8?(M=g(Math.pow(R,M)),j=j.j(M).add(g(k))):(j=j.j(N),j=j.add(g(k)))}return j}var _=p(0),E=p(1),A=p(16777216);t=c.prototype,t.m=function(){if(I(this))return-P(this).m();let C=0,R=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);C+=(j>=0?j:4294967296+j)*R,R*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(I(this))return"-"+P(this).toString(C);const R=g(Math.pow(C,6));var N=this;let j="";for(;;){const M=Z(N,R).g;N=$(N,M.j(R));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=M,O(N))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function I(C){return C.h==-1}t.l=function(C){return C=$(this,C),I(C)?-1:O(C)?0:1};function P(C){const R=C.g.length,N=[];for(let j=0;j<R;j++)N[j]=~C.g[j];return new c(N,~C.h).add(E)}t.abs=function(){return I(this)?P(this):this},t.add=function(C){const R=Math.max(this.g.length,C.g.length),N=[];let j=0;for(let M=0;M<=R;M++){let z=j+(this.i(M)&65535)+(C.i(M)&65535),k=(z>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);j=k>>>16,z&=65535,k&=65535,N[M]=k<<16|z}return new c(N,N[N.length-1]&-2147483648?-1:0)};function $(C,R){return C.add(P(R))}t.j=function(C){if(O(this)||O(C))return _;if(I(this))return I(C)?P(this).j(P(C)):P(P(this).j(C));if(I(C))return P(this.j(P(C)));if(this.l(A)<0&&C.l(A)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,N=[];for(var j=0;j<2*R;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let M=0;M<C.g.length;M++){const z=this.i(j)>>>16,k=this.i(j)&65535,tt=C.i(M)>>>16,dt=C.i(M)&65535;N[2*j+2*M]+=k*dt,Y(N,2*j+2*M),N[2*j+2*M+1]+=z*dt,Y(N,2*j+2*M+1),N[2*j+2*M+1]+=k*tt,Y(N,2*j+2*M+1),N[2*j+2*M+2]+=z*tt,Y(N,2*j+2*M+2)}for(C=0;C<R;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=R;C<2*R;C++)N[C]=0;return new c(N,0)};function Y(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function B(C,R){this.g=C,this.h=R}function Z(C,R){if(O(R))throw Error("division by zero");if(O(C))return new B(_,_);if(I(C))return R=Z(P(C),R),new B(P(R.g),P(R.h));if(I(R))return R=Z(C,P(R)),new B(P(R.g),R.h);if(C.g.length>30){if(I(C)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var N=E,j=R;j.l(C)<=0;)N=se(N),j=se(j);var M=ie(N,1),z=ie(j,1);for(j=ie(j,2),N=ie(N,2);!O(j);){var k=z.add(j);k.l(C)<=0&&(M=M.add(N),z=k),j=ie(j,1),N=ie(N,1)}return R=$(C,M.j(R)),new B(M,R)}for(M=_;C.l(R)>=0;){for(N=Math.max(1,Math.floor(C.m()/R.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=g(N),k=z.j(R);I(k)||k.l(C)>0;)N-=j,z=g(N),k=z.j(R);O(z)&&(z=E),M=M.add(z),C=$(C,k)}return new B(M,C)}t.B=function(C){return Z(this,C).h},t.and=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)&C.i(j);return new c(N,this.h&C.h)},t.or=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)|C.i(j);return new c(N,this.h|C.h)},t.xor=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)^C.i(j);return new c(N,this.h^C.h)};function se(C){const R=C.g.length+1,N=[];for(let j=0;j<R;j++)N[j]=C.i(j)<<1|C.i(j-1)>>>31;return new c(N,C.h)}function ie(C,R){const N=R>>5;R%=32;const j=C.g.length-N,M=[];for(let z=0;z<j;z++)M[z]=R>0?C.i(z+N)>>>R|C.i(z+N+1)<<32-R:C.i(z+N);return new c(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,f0=c}).apply(typeof Qw<"u"?Qw:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TS,su,ES,Fh,Zm,SS,xS,AS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var T=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var q=h[x];if(!(q in T))break e;T=T[q]}h=h[h.length-1],x=T[h],v=v(x),v!=x&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var T=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&T.push([x,v[x]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,T){return h.call.apply(h.bind,arguments)}function g(h,v,T){return g=p,g.apply(null,arguments)}function y(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,v){function T(){}T.prototype=v.prototype,h.Z=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(x,q,K){for(var oe=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)oe[Se-2]=arguments[Se];return v.prototype[q].apply(x,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const v=h.length;if(v>0){const T=Array(v);for(let x=0;x<v;x++)T[x]=h[x];return T}return[]}function O(h,v){for(let x=1;x<arguments.length;x++){const q=arguments[x];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const K=q.length||0;h.length=T+K;for(let oe=0;oe<K;oe++)h[T+oe]=q[oe]}else h.push(q)}}class I{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(h){c.setTimeout(()=>{throw h},0)}function $(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,T){const x=B.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var B=new I(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ie=!1,C=new Y,R=()=>{const h=Promise.resolve(void 0);se=()=>{h.then(N)}};function N(){for(var h;h=$();){try{h.h.call(h.g)}catch(T){P(T)}var v=B;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ie=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,v),c.removeEventListener("test",T,v)}catch{}return h})();function k(h){return/^[\s\xa0]*$/.test(h)}function tt(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(tt,M),tt.prototype.init=function(h,v){const T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(h,v,T,x,q){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=q,this.key=++W,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h,v,T){for(const x in h)v.call(T,h[x],x,h)}function Me(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function U(h){const v={};for(const T in h)v[T]=h[T];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,v){let T,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(T in x)h[T]=x[T];for(let K=0;K<te.length;K++)T=te[K],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,v,T,x,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const oe=Ce(h,v,x,q);return oe>-1?(v=h[oe],T||(v.fa=!1)):(v=new ae(v,this.src,K,!!x,q),v.fa=T,h.push(v)),v};function Te(h,v){const T=v.type;if(T in h.g){var x=h.g[T],q=Array.prototype.indexOf.call(x,v,void 0),K;(K=q>=0)&&Array.prototype.splice.call(x,q,1),K&&(ce(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ce(h,v,T,x){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==v&&K.capture==!!T&&K.ha==x)return q}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),jt={};function ot(h,v,T,x,q){if(Array.isArray(v)){for(let K=0;K<v.length;K++)ot(h,v[K],T,x,q);return null}return T=Xo(T),h&&h[dt]?h.J(v,T,d(x)?!!x.capture:!1,q):wr(h,v,T,!1,x,q)}function wr(h,v,T,x,q,K){if(!v)throw Error("Invalid event type");const oe=d(q)?!!q.capture:!!q;let Se=Tr(h);if(Se||(h[Le]=Se=new ue(h)),T=Se.add(v,T,x,oe,K),T.proxy)return T;if(x=wa(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)z||(q=oe),q===void 0&&(q=!1),h.addEventListener(v.toString(),x,q);else if(h.attachEvent)h.attachEvent(xi(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function wa(){function h(T){return v.call(h.src,h.listener,T)}const v=Ko;return h}function Ta(h,v,T,x,q){if(Array.isArray(v))for(var K=0;K<v.length;K++)Ta(h,v[K],T,x,q);else x=d(x)?!!x.capture:!!x,T=Xo(T),h&&h[dt]?(h=h.i,K=String(v).toString(),K in h.g&&(v=h.g[K],T=Ce(v,T,x,q),T>-1&&(ce(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete h.g[K],h.h--)))):h&&(h=Tr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ce(v,T,x,q)),(T=h>-1?v[h]:null)&&Ea(T))}function Ea(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[dt])Te(v.i,h);else{var T=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(T,x,h.capture):v.detachEvent?v.detachEvent(xi(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=Tr(v))?(Te(T,h),T.h==0&&(T.src=null,v[Le]=null)):ce(h)}}}function xi(h){return h in jt?jt[h]:jt[h]="on"+h}function Ko(h,v){if(h.da)h=!0;else{v=new tt(v,this);const T=h.listener,x=h.ha||h.src;h.fa&&Ea(h),h=T.call(x,v)}return h}function Tr(h){return h=h[Le],h instanceof ue?h:null}var Yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xo(h){return typeof h=="function"?h:(h[Yo]||(h[Yo]=function(v){return h.handleEvent(v)}),h[Yo])}function Tt(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}_(Tt,j),Tt.prototype[dt]=!0,Tt.prototype.removeEventListener=function(h,v,T,x){Ta(this,h,v,T,x)};function Vt(h,v){var T,x=h.G;if(x)for(T=[];x;x=x.G)T.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var q=v;v=new M(x,h),le(v,q)}q=!0;let K,oe;if(T)for(oe=T.length-1;oe>=0;oe--)K=v.g=T[oe],q=Ns(K,x,!0,v)&&q;if(K=v.g=h,q=Ns(K,x,!0,v)&&q,q=Ns(K,x,!1,v)&&q,T)for(oe=0;oe<T.length;oe++)K=v.g=T[oe],q=Ns(K,x,!1,v)&&q}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const T=h.g[v];for(let x=0;x<T.length;x++)ce(T[x]);delete h.g[v],h.h--}}this.G=null},Tt.prototype.J=function(h,v,T,x){return this.i.add(String(h),v,!1,T,x)},Tt.prototype.K=function(h,v,T,x){return this.i.add(String(h),v,!0,T,x)};function Ns(h,v,T,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let K=0;K<v.length;++K){const oe=v[K];if(oe&&!oe.da&&oe.capture==T){const Se=oe.listener,_t=oe.ha||oe.src;oe.fa&&Te(h.i,oe),q=Se.call(_t,x)!==!1&&q}}return q&&!x.defaultPrevented}function jd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ku(h){h.g=jd(()=>{h.g=null,h.i&&(h.i=!1,Ku(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class un extends j{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ku(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){j.call(this),this.h=h,this.g={}}_(Er,j);var Qo=[];function Wo(h){Re(h.g,function(v,T){this.g.hasOwnProperty(T)&&Ea(v)},h),h.g={}}Er.prototype.N=function(){Er.Z.N.call(this),Wo(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Os=c.JSON.stringify,Vd=c.JSON.parse,Yu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Xu(){}function Qu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){M.call(this,"d")}_(Xt,M);function zn(){M.call(this,"c")}_(zn,M);var vt={},Wu=null;function Sa(){return Wu=Wu||new Tt}vt.Ia="serverreachability";function Ju(h){M.call(this,vt.Ia,h)}_(Ju,M);function Ai(h){const v=Sa();Vt(v,new Ju(v))}vt.STAT_EVENT="statevent";function Sr(h,v){M.call(this,vt.STAT_EVENT,h),this.stat=v}_(Sr,M);function Et(h){const v=Sa();Vt(v,new Sr(v,h))}vt.Ja="timingevent";function Ri(h,v){M.call(this,vt.Ja,h),this.size=v}_(Ri,M);function Ci(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Pd(h,v,T,x,q,K){h.info(function(){if(h.g)if(K){var oe="",Se=K.split("&");for(let qe=0;qe<Se.length;qe++){var _t=Se[qe].split("=");if(_t.length>1){const lt=_t[0];_t=_t[1];const Hn=lt.split("_");oe=Hn.length>=2&&Hn[1]=="type"?oe+(lt+"="+_t+"&"):oe+(lt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+v+`
`+T+`
`+oe})}function Zu(h,v,T,x,q,K,oe){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+v+`
`+T+`
`+K+" "+oe})}function Ni(h,v,T,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ud(h,T)+(x?" "+x:"")})}function xr(h,v){h.info(function(){return"TIMEOUT: "+v})}ii.prototype.info=function(){};function Ud(h,v){if(!h.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var T=K[h];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<x.length;oe++)x[oe]=""}}}}return Os(K)}catch{return v}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zo;function Rr(){}_(Rr,Xu),Rr.prototype.g=function(){return new XMLHttpRequest},Zo=new Rr;function is(h){return encodeURIComponent(String(h))}function ec(h){var v=1;h=h.split(":");const T=[];for(;v>0&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function si(h,v,T,x){this.j=h,this.i=v,this.l=T,this.S=x||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var St={},Bt={};function Oi(h,v,T){h.M=1,h.A=Cr(At(v)),h.u=T,h.R=!0,xa(h,null)}function xa(h,v){h.F=Date.now(),ki(h),h.B=At(h.A);var T=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Na(T.i,"t",x),h.C=0,T=h.j.L,h.h=new ri,h.g=mc(h.j,T?v:null,!h.u),h.P>0&&(h.O=new un(g(h.Y,h,h.g),h.P)),v=h.V,T=h.g,x=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Qo[0]=q.toString()),q=Qo);for(let K=0;K<q.length;K++){const oe=ot(T,q[K],x||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ai(),Pd(h.i,h.v,h.B,h.l,h.S,h.u)}si.prototype.ba=function(h){h=h.target;const v=this.O;v&&li(h)==3?v.j():this.Y(h)},si.prototype.Y=function(h){try{if(h==this.g)e:{const Se=li(this.g),_t=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Se!=4||_t==7||(_t==8||qe<=0?Ai(3):Ai(2)),Di(this);var v=this.g.ca();this.X=v;var T=Ld(this);if(this.o=v==200,Zu(this.i,this.v,this.B,this.l,this.S,Se,v),this.o){if(this.U&&!this.L){t:{if(this.g){var x,q=this.g;if((x=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(x)){var K=x;break t}}K=null}if(h=K)Ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,Et(12),xn(this),Bn(this);break e}}if(this.R){h=!0;let lt;for(;!this.K&&this.C<T.length;)if(lt=nc(this,T),lt==Bt){Se==4&&(this.m=4,Et(14),h=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,Et(15),Ni(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ni(this.i,this.l,lt,null),Ii(this,lt);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||T.length!=0||this.h.h||(this.m=1,Et(16),h=!1),this.o=this.o&&h,!h)Ni(this.i,this.l,T,"[Invalid Chunked Response]"),xn(this),Bn(this);else if(T.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),pl(oe),oe.P=!0,Et(11))}}else Ni(this.i,this.l,T,null),Ii(this,T);Se==4&&xn(this),this.o&&!this.K&&(Se==4?hc(this.j,this):(this.o=!1,ki(this)))}else rs(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),xn(this),Bn(this)}}}catch{}finally{}};function Ld(h){if(!tc(h))return h.g.la();const v=Qt(h.g);if(v==="")return"";let T="";const x=v.length,q=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return xn(h),Bn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<x;K++)h.h.h=!0,T+=h.h.i.decode(v[K],{stream:!(q&&K==x-1)});return v.length=0,h.h.g+=T,h.C=0,h.h.g}function tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function nc(h,v){var T=h.C,x=v.indexOf(`
`,T);return x==-1?Bt:(T=Number(v.substring(T,x)),isNaN(T)?St:(x+=1,x+T>v.length?Bt:(v=v.slice(x,x+T),h.C=x+T,v)))}si.prototype.cancel=function(){this.K=!0,xn(this)};function ki(h){h.T=Date.now()+h.H,Aa(h,h.H)}function Aa(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ci(g(h.aa,h),v)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xr(this.i,this.B),this.M!=2&&(Ai(),Et(17)),xn(this),this.m=2,Bn(this)):Aa(this,this.T-h)};function Bn(h){h.j.I==0||h.K||hc(h.j,h)}function xn(h){Di(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Wo(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ii(h,v){try{var T=h.j;if(T.I!=0&&(T.g==h||ji(T.h,h))){if(!h.L&&ji(T.h,h)&&T.I==3){try{var x=T.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Ma(T),Us(T);else break e;jr(T),Et(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ci(g(T.Va,T),6e3));Mi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Bi(T,11)}else if((h.L||T.g==h)&&Ma(T),!k(v))for(q=T.Ba.g.parse(v),v=0;v<q.length;v++){let qe=q[v];const lt=qe[0];if(!(lt<=T.K))if(T.K=lt,qe=qe[1],T.I==2)if(qe[0]=="c"){T.M=qe[1],T.ba=qe[2];const Hn=qe[3];Hn!=null&&(T.ka=Hn,T.j.info("VER="+T.ka));const $i=qe[4];$i!=null&&(T.za=$i,T.j.info("SVER="+T.za));const ui=qe[5];ui!=null&&typeof ui=="number"&&ui>0&&(x=1.5*ui,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const ci=h.g;if(ci){const Vr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var K=x.h;K.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(nl(K,K.h),K.h=null))}if(x.G){const ja=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(x.wa=ja,Ye(x.J,x.G,ja))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var oe=h;if(x.na=pc(x,x.L?x.ba:null,x.W),oe.L){il(x.h,oe);var Se=oe,_t=x.O;_t&&(Se.H=_t),Se.D&&(Di(Se),ki(Se)),x.g=oe}else uc(x);T.i.length>0&&zi(T)}else qe[0]!="stop"&&qe[0]!="close"||Bi(T,7);else T.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Bi(T,7):dl(T):qe[0]!="noop"&&T.l&&T.l.qa(qe),T.A=0)}}Ai(4)}catch{}}var xt=class{constructor(h,v){this.g=h,this.map=v}};function el(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mi(h){return h.h?1:h.g?h.g.size:0}function ji(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function nl(h,v){h.g?h.g.add(v):h.h=v}function il(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}el.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.G);return v}return A(h.i)}var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,v){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const x=h[T].indexOf("=");let q,K=null;x>=0?(q=h[T].substring(0,x),K=h[T].substring(x+1)):q=h[T],v(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,$t(this,h.j),this.o=h.o,this.g=h.g,ks(this,h.u),this.h=h.h,rl(this,oc(h.i)),this.m=h.m):h&&(v=String(h).match(ic))?(this.l=!1,$t(this,v[1]||"",!0),this.o=Vi(v[2]||""),this.g=Vi(v[3]||"",!0),ks(this,v[4]),this.h=Vi(v[5]||"",!0),rl(this,v[6]||"",!0),this.m=Vi(v[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Nr(v,Ca,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Nr(v,Ca,!0),"@"),h.push(is(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Nr(T,T.charAt(0)=="/"?al:sc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Nr(T,rc)),h.join("")},An.prototype.resolve=function(h){const v=At(this);let T=!!h.j;T?$t(v,h.j):T=!!h.o,T?v.o=h.o:T=!!h.g,T?v.g=h.g:T=h.u!=null;var x=h.h;if(T)ks(v,h.u);else if(T=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var q=v.h.lastIndexOf("/");q!=-1&&(x=v.h.slice(0,q+1)+x)}if(q=x,q==".."||q==".")x="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){x=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let oe=0;oe<q.length;){const Se=q[oe++];Se=="."?x&&oe==q.length&&K.push(""):Se==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),x&&oe==q.length&&K.push("")):(K.push(Se),x=!0)}x=K.join("/")}else x=q}return T?v.h=x:T=h.i.toString()!=="",T?rl(v,oc(h.i)):T=!!h.m,T&&(v.m=h.m),v};function At(h){return new An(h)}function $t(h,v,T){h.j=T?Vi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ks(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function rl(h,v,T){v instanceof Is?(h.i=v,Oa(h.i,h.l)):(T||(v=Nr(v,Ds)),h.i=new Is(v,h.l))}function Ye(h,v,T){h.i.set(v,T)}function Cr(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Vi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Nr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,pn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ca=/[#\/\?@]/g,sc=/[#\?:]/g,al=/[#\?]/g,Ds=/[#\?@]/g,rc=/#/g;function Is(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Is.prototype,t.add=function(h,v){mn(this),this.i=null,h=Ms(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function ac(h,v){mn(h),v=Ms(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ol(h,v){return mn(h),v=Ms(h,v),h.g.has(v)}t.forEach=function(h,v){mn(this),this.g.forEach(function(T,x){T.forEach(function(q){h.call(v,q,x,this)},this)},this)};function ll(h,v){mn(h);let T=[];if(typeof v=="string")ol(h,v)&&(T=T.concat(h.g.get(Ms(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)T=T.concat(h[v]);return T}t.set=function(h,v){return mn(this),this.i=null,h=Ms(this,h),ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=ll(this,h),h.length>0?String(h[0]):v):v};function Na(h,v,T){ac(h,v),T.length>0&&(h.i=null,h.g.set(Ms(h,v),A(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var T=v[x];const q=is(T);T=ll(this,T);for(let K=0;K<T.length;K++){let oe=q;T[K]!==""&&(oe+="="+is(T[K])),h.push(oe)}}return this.i=h.join("&")};function oc(h){const v=new Is;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ms(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Oa(h,v){v&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(T,x){const q=x.toLowerCase();x!=q&&(ac(this,x),Na(this,q,T))},h)),h.j=v}function ai(h,v){const T=new ii;if(c.Image){const x=new Image;x.onload=y($n,T,"TestLoadImage: loaded",!0,v,x),x.onerror=y($n,T,"TestLoadImage: error",!1,v,x),x.onabort=y($n,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=y($n,T,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function ul(h,v){const T=new ii,x=new AbortController,q=setTimeout(()=>{x.abort(),$n(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(K=>{clearTimeout(q),K.ok?$n(T,"TestPingServer: ok",!0,v):$n(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),$n(T,"TestPingServer: error",!1,v)})}function $n(h,v,T,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(T)}catch{}}function js(){this.g=new Yu}function Pi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Pi,Xu),Pi.prototype.g=function(){return new Or(this.i,this.h)};function Or(h,v){Tt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Or,Tt),t=Or.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,oi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Vs(this):oi(this),this.readyState==3&&ka(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Vs(this))},t.Na=function(h){this.g&&(this.response=h,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qn(h){let v="";return Re(h,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function kr(h,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=qn(T),typeof h=="string"?T!=null&&is(T):Ye(h,v,T))}function We(h){Tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(We,Tt);var Ui=/^https?$/i,cl=["POST","PUT"];t=We.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zo.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(K){Dr(this,K);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)T.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())T.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(K=>K.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(cl,v,void 0)>=0)||x||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of T)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Dr(this,K)}};function Dr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,hl(h),ss(h)}function hl(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},t.Xa=function(){Ir(this)};function Ir(h){if(h.h&&typeof l<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),li(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=K===0){let oe=String(h.D).match(ic)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),x=!Ui.test(oe?oe.toLowerCase():"")}T=x}if(T)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var q=li(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",hl(h)}}finally{ss(h)}}}}function ss(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,v||Vt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}t.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Vd(v)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(h){const v={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(k(h[x]))continue;var T=ec(h[x]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const K=v[q]||[];v[q]=K,K.push(T)}Me(v,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ps(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,h),this.Za=Li("retryDelaySeedMs",1e4,h),this.Ta=Li("forwardChannelMaxRetries",2,h),this.va=Li("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new el(h&&h.concurrentRequestLimit),this.Ba=new js,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ps.prototype,t.ka=8,t.I=1,t.connect=function(h,v,T,x){Et(0),this.W=h,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=pc(this,null,this.W),zi(this)};function dl(h){if(Da(h),h.I==3){var v=h.V++,T=At(h.J);if(Ye(T,"SID",h.M),Ye(T,"RID",v),Ye(T,"TYPE","terminate"),Mr(h,T),v=new si(h,h.j,v),v.M=2,v.A=Cr(At(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=v.A,T=!0),T||(v.g=mc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ki(v)}fc(h)}function Us(h){h.g&&(pl(h),h.g.cancel(),h.g=null)}function Da(h){Us(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ma(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function zi(h){if(!tl(h.h)&&!h.m){h.m=!0;var v=h.Ea;se||R(),ie||(se(),ie=!0),C.add(v,h),h.D=0}}function Ia(h,v){return Mi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ci(g(h.Ea,h,v),dc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new si(this,this.j,h);let K=this.o;if(this.U&&(K?(K=U(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=lc(this,q,v),T=At(this.J),Ye(T,"RID",h),Ye(T,"CVER",22),this.G&&Ye(T,"X-HTTP-Session-Id",this.G),Mr(this,T),K&&(this.R?v="headers="+is(qn(K))+"&"+v:this.u&&kr(T,this.u,K)),nl(this.h,q),this.Ra&&Ye(T,"TYPE","init"),this.S?(Ye(T,"$req",v),Ye(T,"SID","null"),q.U=!0,Oi(q,T,null)):Oi(q,T,v),this.I=2}}else this.I==3&&(h?fl(this,h):this.i.length==0||tl(this.h)||fl(this))};function fl(h,v){var T;v?T=v.l:T=h.V++;const x=At(h.J);Ye(x,"SID",h.M),Ye(x,"RID",T),Ye(x,"AID",h.K),Mr(h,x),h.u&&h.o&&kr(x,h.u,h.o),T=new si(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),v&&(h.i=v.G.concat(h.i)),v=lc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),nl(h.h,T),Oi(T,x,v)}function Mr(h,v){h.H&&Re(h.H,function(T,x){Ye(v,x,T)}),h.l&&Re({},function(T,x){Ye(v,x,T)})}function lc(h,v,T){T=Math.min(h.i.length,T);const x=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Se=-1;for(;;){const _t=["count="+T];Se==-1?T>0?(Se=q[0].g,_t.push("ofs="+Se)):Se=0:_t.push("ofs="+Se);let qe=!0;for(let lt=0;lt<T;lt++){var K=q[lt].g;const Hn=q[lt].map;if(K-=Se,K<0)Se=Math.max(0,q[lt].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var oe=Hn instanceof Map?Hn:Object.entries(Hn);for(const[$i,ui]of oe){let ci=ui;d(ui)&&(ci=Os(ui)),_t.push(K+$i+"="+encodeURIComponent(ci))}}catch($i){throw _t.push(K+"type="+encodeURIComponent("_badmap")),$i}}catch{x&&x(Hn)}}if(qe){oe=_t.join("&");break e}}oe=void 0}return h=h.i.splice(0,T),v.G=h,oe}function uc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;se||R(),ie||(se(),ie=!0),C.add(v,h),h.A=0}}function jr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ci(g(h.Da,h),dc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ci(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Us(this),cc(this))};function pl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function cc(h){h.g=new si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=At(h.na);Ye(v,"RID","rpc"),Ye(v,"SID",h.M),Ye(v,"AID",h.K),Ye(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(v,"TO",h.ia),Ye(v,"TYPE","xmlhttp"),Mr(h,v),h.u&&h.o&&kr(v,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Cr(At(v)),T.u=null,T.R=!0,xa(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Us(this),jr(this),Et(19))};function Ma(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function hc(h,v){var T=null;if(h.g==v){Ma(h),pl(h),h.g=null;var x=2}else if(ji(h.h,v))T=v.G,il(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;x=Sa(),Vt(x,new Ri(x,T)),zi(h)}else uc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(x==1&&Ia(h,v)||x==2&&jr(h)))switch(T&&T.length>0&&(v=h.h,v.i=v.i.concat(T)),q){case 1:Bi(h,5);break;case 4:Bi(h,10);break;case 3:Bi(h,6);break;default:Bi(h,2)}}}function dc(h,v){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*v}function Bi(h,v){if(h.j.info("Error code "+v),v==2){var T=g(h.bb,h),x=h.Ua;const q=!x;x=new An(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$t(x,"https"),Cr(x),q?ai(x.toString(),T):ul(x.toString(),T)}else Et(2);h.I=0,h.l&&h.l.pa(v),fc(h),Da(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function fc(h){if(h.I=0,h.ja=[],h.l){const v=sl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ja,v),O(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function pc(h,v,T){var x=T instanceof An?At(T):new An(T);if(x.g!="")v&&(x.g=v+"."+x.g),ks(x,x.u);else{var q=c.location;x=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const K=new An(null);x&&$t(K,x),v&&(K.g=v),q&&ks(K,q),T&&(K.h=T),x=K}return T=h.G,v=h.wa,T&&v&&Ye(x,T,v),Ye(x,"VER",h.ka),Mr(h,x),x}function mc(h,v,T){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new We(new Pi({ab:T})):new We(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}t=gc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ls(){}Ls.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){Tt.call(this),this.g=new Ps(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!k(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new as(this)}_(cn,Tt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){dl(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Os(h),h=T);v.i.push(new xt(v.Ya++,h)),v.I==3&&zi(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,cn.Z.N.call(this)};function yc(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(yc,Xt);function vc(){zn.call(this),this.status=1}_(vc,zn);function as(h){this.g=h}_(as,gc),as.prototype.ra=function(){Vt(this.g,"a")},as.prototype.qa=function(h){Vt(this.g,new yc(h))},as.prototype.pa=function(h){Vt(this.g,new vc)},as.prototype.oa=function(){Vt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,AS=function(){return new Ls},xS=function(){return Sa()},SS=vt,Zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Fh=Ar,Jo.COMPLETE="complete",ES=Jo,Qu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,su=Qu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,TS=We}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const Ww="@firebase/firestore",Jw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new c0("@firebase/firestore");function tu(){return _a.logLevel}function Oe(t,...e){if(_a.logLevel<=Ue.DEBUG){const n=e.map(p0);_a.debug(`Firestore (${Fo}): ${t}`,...n)}}function Rd(t,...e){if(_a.logLevel<=Ue.ERROR){const n=e.map(p0);_a.error(`Firestore (${Fo}): ${t}`,...n)}}function RS(t,...e){if(_a.logLevel<=Ue.WARN){const n=e.map(p0);_a.warn(`Firestore (${Fo}): ${t}`,...n)}}function p0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,CS(t,s,n)}function CS(t,e,n){let s=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Rd(s),new Error(s)}function En(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||CS(e,a,s)}function Sn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(jn.UNAUTHENTICATED)))}shutdown(){}}class m4{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){En(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new hu;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hu,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hu)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(En(typeof s.accessToken=="string",31837,{l:s}),new f4(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return En(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class g4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new g4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){En(this.o===void 0,3512);const s=l=>{l.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(En(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=_4(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function it(t,e){return t<e?-1:t>e?1:0}function eg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return lm(a)===lm(l)?it(a,l):lm(a)?1:-1}return it(t.length,e.length)}const w4=55296,T4=57343;function lm(t){const e=t.charCodeAt(0);return e>=w4&&e<=T4}function Vo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__name__";class Ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ki.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return it(e.length,n.length)}static compareSegments(e,n){const s=Ki.isNumericId(e),a=Ki.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return f0.fromString(e.substring(4,e.length-2))}}class Gt extends Ki{construct(e,n,s){return new Gt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const E4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Ki{construct(e,n,s){return new dn(e,n,s)}static isValidIdentifier(e){return E4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e1}static keyField(){return new dn([e1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Gt.fromString(e))}static fromName(e){return new Ie(Gt.fromString(e).popFirst(5))}static empty(){return new Ie(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e,n,s){if(e===!0&&s===!0)throw new Ae(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function x4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hu(t,e){if(!x4(t))throw new Ae(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new Ae(de.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=-62135596800,n1=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*n1);return new zt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t1)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n1}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:Mt("string",zt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new zt(0,0))}static max(){return new yt(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function A4(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=yt.fromTimestamp(s===1e9?new zt(n+1,0):new zt(n,s));return new yr(a,Ie.empty(),e)}function R4(t){return new yr(t.readTime,t.key,Cu)}class yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new yr(yt.min(),Ie.empty(),Cu)}static max(){return new yr(yt.max(),Ie.empty(),Cu)}}function C4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(p=>s(p)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function O4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function NS(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}OS.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=-1;function m0(t){return t==null}function tg(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function g0(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new sn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s1(this.data.getIterator())}getIteratorFrom(e){return new s1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class s1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new ln(dn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new I4("Invalid base64 string: "+l):l}})(e);return new es(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new es(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}es.EMPTY_BYTE_STRING=new es("");const M4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(t){if(En(!!t,39018),typeof t=="string"){let e=0;const n=M4.exec(t);if(En(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nu(t){return typeof t=="string"?es.fromBase64String(t):es.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="server_timestamp",DS="__type__",IS="__previous_value__",MS="__local_write_time__";function y0(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DS])==null?void 0:s.stringValue)===kS}function jS(t){const e=t.mapValue.fields[IS];return y0(e)?jS(e):e}function sd(t){const e=ba(t.mapValue.fields[MS].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="(default)";class rd{constructor(e,n){this.projectId=e,this.database=n||ng}static empty(){return new rd("","")}get isDefaultDatabase(){return this.database===ng}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="__type__",V4="__max__",Nh={mapValue:{}},P4="__vector__",r1="value";function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y0(t)?4:L4(t)?9007199254740991:U4(t)?10:11:Ge(28295,{value:t})}function ts(t,e){if(t===e)return!0;const n=Po(t);if(n!==Po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ba(a.timestampValue),d=ba(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Nu(a.bytesValue).isEqual(Nu(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return rn(a.geoPointValue.latitude)===rn(l.geoPointValue.latitude)&&rn(a.geoPointValue.longitude)===rn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return rn(a.integerValue)===rn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=rn(a.doubleValue),d=rn(l.doubleValue);return c===d?tg(c)===tg(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(i1(c)!==i1(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ts(c[p],d[p])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function Ou(t,e){return(t.values||[]).find((n=>ts(n,e)))!==void 0}function Uo(t,e){if(t===e)return 0;const n=Po(t),s=Po(e);if(n!==s)return it(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=rn(l.integerValue||l.doubleValue),p=rn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(t,e);case 3:return a1(t.timestampValue,e.timestampValue);case 4:return a1(sd(t),sd(e));case 5:return eg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Nu(l),p=Nu(c);return d.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=it(d[g],p[g]);if(y!==0)return y}return it(d.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=it(rn(l.latitude),rn(c.latitude));return d!==0?d:it(rn(l.longitude),rn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return o1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var E,A,O,I;const d=l.fields||{},p=c.fields||{},g=(E=d[r1])==null?void 0:E.arrayValue,y=(A=p[r1])==null?void 0:A.arrayValue,_=it(((O=g==null?void 0:g.values)==null?void 0:O.length)||0,((I=y==null?void 0:y.values)==null?void 0:I.length)||0);return _!==0?_:o1(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Nh.mapValue&&c===Nh.mapValue)return 0;if(l===Nh.mapValue)return 1;if(c===Nh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const E=eg(p[_],y[_]);if(E!==0)return E;const A=Uo(d[p[_]],g[y[_]]);if(A!==0)return A}return it(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function a1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=ba(t),s=ba(e),a=it(n.seconds,s.seconds);return a!==0?a:it(n.nanos,s.nanos)}function o1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Uo(n[a],s[a]);if(l)return l}return it(n.length,s.length)}function Lo(t){return ig(t)}function ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ba(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Nu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ig(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ig(n.fields[c])}`;return a+"}"})(t.mapValue):Ge(61005,{value:t})}function sg(t){return!!t&&"integerValue"in t}function v0(t){return!!t&&"arrayValue"in t}function um(t){return!!t&&"mapValue"in t}function U4(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[j4])==null?void 0:s.stringValue)===P4}function du(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return g0(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=du(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(t.arrayValue.values[n]);return e}return{...t}}function L4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===V4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!um(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=dn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=du(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());um(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];um(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){g0(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Es(du(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new bi(e,0,yt.min(),yt.min(),yt.min(),Es.empty(),0)}static newFoundDocument(e,n,s,a){return new bi(e,1,n,yt.min(),s,a,0)}static newNoDocument(e,n){return new bi(e,2,n,yt.min(),yt.min(),Es.empty(),0)}static newUnknownDocument(e,n){return new bi(e,3,n,yt.min(),yt.min(),Es.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.position=e,this.inclusive=n}}function l1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(c.referenceValue),n.key):s=Uo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function u1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n="asc"){this.field=e,this.dir=n}}function z4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{}class Kt extends VS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $4(e,n,s):n==="array-contains"?new F4(e,s):n==="in"?new G4(e,s):n==="not-in"?new K4(e,s):n==="array-contains-any"?new Y4(e,s):new Kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new q4(e,s):new H4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Po(this.value)===Po(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends VS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vr(e,n)}matches(e){return PS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PS(t){return t.op==="and"}function US(t){return B4(t)&&PS(t)}function B4(t){for(const e of t.filters)if(e instanceof vr)return!1;return!0}function rg(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(US(t))return t.filters.map((e=>rg(e))).join(",");{const e=t.filters.map((n=>rg(n))).join(",");return`${t.op}(${e})`}}function LS(t,e){return t instanceof Kt?(function(s,a){return a instanceof Kt&&s.op===a.op&&s.field.isEqual(a.field)&&ts(s.value,a.value)})(t,e):t instanceof vr?(function(s,a){return a instanceof vr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&LS(c,a.filters[d])),!0):!1})(t,e):void Ge(19439)}function zS(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(t):t instanceof vr?(function(n){return n.op.toString()+" {"+n.getFilters().map(zS).join(" ,")+"}"})(t):"Filter"}class $4 extends Kt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class q4 extends Kt{constructor(e,n){super(e,"in",n),this.keys=BS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H4 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=BS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function BS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Ie.fromName(s.referenceValue)))}class F4 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return v0(n)&&Ou(n.arrayValue,this.value)}}class G4 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class K4 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class Y4 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!v0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ou(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function c1(t,e=null,n=[],s=[],a=null,l=null,c=null){return new X4(t,e,n,s,a,l,c)}function _0(t){const e=Sn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>rg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),m0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function b0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u1(t.startAt,e.startAt)&&u1(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q4(t,e,n,s,a,l,c,d){return new Cd(t,e,n,s,a,l,c,d)}function W4(t){return new Cd(t)}function h1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J4(t){return t.collectionGroup!==null}function fu(t){const e=Sn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ln(dn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new od(l,s))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new od(dn.keyField(),s))}return e.Ie}function fa(t){const e=Sn(t);return e.Ee||(e.Ee=Z4(e,fu(t))),e.Ee}function Z4(t,e){if(t.limitType==="F")return c1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new od(a.field,l)}));const n=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;return c1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ag(t,e,n){return new Cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $S(t,e){return b0(fa(t),fa(e))&&t.limitType===e.limitType}function qS(t){return`${_0(fa(t))}|lt:${t.limitType}`}function nu(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>zS(a))).join(", ")}]`),m0(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Lo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Lo(a))).join(",")),`Target(${s})`})(fa(t))}; limitType=${t.limitType})`}function w0(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of fu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,p){const g=l1(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,fu(s),a)||s.endAt&&!(function(c,d,p){const g=l1(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,fu(s),a))})(t,e)}function eM(t){return(e,n)=>{let s=!1;for(const a of fu(t)){const l=tM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function tM(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Uo(p,g):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){g0(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return D4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new Ln(Ie.comparator);function og(){return nM}const HS=new Ln(Ie.comparator);function Oh(...t){let e=HS;for(const n of t)e=e.insert(n.key,n);return e}function iM(t){let e=HS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return pu()}function FS(){return pu()}function pu(){return new Go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const PP=new Ln(Ie.comparator),sM=new ln(Ie.comparator);function Vn(...t){let e=sM;for(const n of t)e=e.add(n);return e}const rM=new ln(it);function aM(){return rM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function lM(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this._=void 0}}function uM(t,e,n){return t instanceof lg?(function(a,l){const c={fields:{[DS]:{stringValue:kS},[MS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&y0(l)&&(l=jS(l)),l&&(c.fields[IS]=l),{mapValue:c}})(n,e):t instanceof ld?GS(t,e):t instanceof ud?KS(t,e):(function(a,l){const c=hM(a,l),d=d1(c)+d1(a.Ae);return sg(c)&&sg(a.Ae)?lM(d):oM(a.serializer,d)})(t,e)}function cM(t,e,n){return t instanceof ld?GS(t,e):t instanceof ud?KS(t,e):n}function hM(t,e){return t instanceof ug?(function(s){return sg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class lg extends Nd{}class ld extends Nd{constructor(e){super(),this.elements=e}}function GS(t,e){const n=YS(e);for(const s of t.elements)n.some((a=>ts(a,s)))||n.push(s);return{arrayValue:{values:n}}}class ud extends Nd{constructor(e){super(),this.elements=e}}function KS(t,e){let n=YS(e);for(const s of t.elements)n=n.filter((a=>!ts(a,s)));return{arrayValue:{values:n}}}class ug extends Nd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function d1(t){return rn(t.integerValue||t.doubleValue)}function YS(t){return v0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dM(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof ld&&a instanceof ld||s instanceof ud&&a instanceof ud?Vo(s.elements,a.elements,ts):s instanceof ug&&a instanceof ug?ts(s.Ae,a.Ae):s instanceof lg&&a instanceof lg})(t.transform,e.transform)}class pa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class T0{}function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pM(t.key,pa.none()):new E0(t.key,t.data,pa.none());{const n=t.data,s=Es.empty();let a=new ln(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Od(t.key,s,new pr(a.toArray()),pa.none())}}function fM(t,e,n){t instanceof E0?(function(a,l,c){const d=a.value.clone(),p=p1(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Od?(function(a,l,c){if(!Gh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=p1(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(QS(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function mu(t,e,n,s){return t instanceof E0?(function(l,c,d,p){if(!Gh(l.precondition,c))return d;const g=l.value.clone(),y=m1(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Od?(function(l,c,d,p){if(!Gh(l.precondition,c))return d;const g=m1(l.fieldTransforms,p,c),y=c.data;return y.setAll(QS(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,d){return Gh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function f1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Vo(s,a,((l,c)=>dM(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class E0 extends T0{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Od extends T0{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function QS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function p1(t,e,n){const s=new Map;En(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,cM(c,d,n[a]))}return s}function m1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,uM(l,c,e))}return s}class pM extends T0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&fM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=mu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=mu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=FS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const p=XS(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Vn())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((n,s)=>f1(n,s)))&&Vo(this.baseMutations,e.baseMutations,((n,s)=>f1(n,s)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,ze;function yM(t){if(t===void 0)return Rd("GRPC error has no .code"),de.UNKNOWN;switch(t){case kt.OK:return de.OK;case kt.CANCELLED:return de.CANCELLED;case kt.UNKNOWN:return de.UNKNOWN;case kt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case kt.INTERNAL:return de.INTERNAL;case kt.UNAVAILABLE:return de.UNAVAILABLE;case kt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case kt.NOT_FOUND:return de.NOT_FOUND;case kt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case kt.ABORTED:return de.ABORTED;case kt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case kt.DATA_LOSS:return de.DATA_LOSS;default:return Ge(39323,{code:t})}}(ze=kt||(kt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new f0([4294967295,4294967295],0);class vM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g1(t){return En(!!t,49232),yt.fromTimestamp((function(n){const s=ba(n);return new zt(s.seconds,s.nanos)})(t))}function y1(t,e){const n=(function(a){return new Gt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _M(t){const e=Gt.fromString(t);return En(EM(e),10190,{key:e.toString()}),e}function bM(t){const e=_M(t);return e.length===4?Gt.emptyPath():wM(e)}function wM(t){return En(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TM(t){let e=bM(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){En(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=WS(_);return E instanceof vr&&US(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(O){return new od(vo(O.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,m0(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(_){const E=!!_.before,A=_.values||[];return new ad(A,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const E=!_.before,A=_.values||[];return new ad(A,E)})(n.endAt)),Q4(e,a,c,l,d,"F",p,g)}function WS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=vo(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(n.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(n.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(vo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vr.create(n.compositeFilter.filters.map((s=>WS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function vo(t){return dn.fromServerFormat(t.fieldPath)}function EM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.yt=e}}function xM(t){const e=TM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.Cn=new RM}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(yr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class RM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new ln(Gt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ln(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(JS,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=1048576;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.changes=new Go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&mu(s.mutation,a,pr.empty(),zt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Vn()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Vn()){const a=oa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Oh();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Vn())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=og();const c=pu(),d=(function(){return pu()})();return n.forEach(((p,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Od)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),mu(y.mutation,g,y.mutation.getFieldMask(),zt.now())):c.set(g.key,pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new OM(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=pu();let a=new Ln(((c,d)=>c-d)),l=Vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||pr.empty();y=d.applyToLocalView(g,y),s.set(p,y);const _=(a.get(d.batchId)||Vn()).add(p);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,_=FS();y.forEach((E=>{if(!l.has(E)){const A=XS(n.get(E),s.get(E));A!==null&&_.set(E,A),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(oa());let d=Cu,p=l;return c.next((g=>re.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{p=p.insert(y,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Vn()))).next((y=>({batchId:d,changes:iM(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let a=Oh();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Oh();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(p=>{const g=(function(_,E){return new Cd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,bi.newInvalidDocument(y)))}));let d=Oh();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&mu(y.mutation,g,pr.empty(),zt.now()),w0(n,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:g1(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:xM(a.bundledQuery),readTime:g1(a.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.overlays=new Ln(Ie.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=oa(),l=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Ln(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=oa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=oa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return re.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new gM(n,s));let l=this.qr.get(n);l===void 0&&(l=Vn(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.sessionToken=es.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.Qr=new ln(Ft.$r),this.Ur=new ln(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ie(new Gt([])),s=new Ft(n,e),a=new Ft(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Gt([])),s=new Ft(n,e),a=new Ft(n,e+1);let l=Vn();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Ft(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(Ft.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new mM(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Ft(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?k4:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),a=new Ft(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ln(it);return n.forEach((a=>{const l=new Ft(a,0),c=new Ft(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new Ie(l),0);let d=new ln(it);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),re.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){En(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new Ft(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ft(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.ri=e,this.docs=(function(){return new Ln(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():bi.newInvalidDocument(n))}getEntries(e,n){let s=og();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():bi.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=og();const c=n.path,d=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||C4(R4(y),s)<=0||(a.has(y.key)||w0(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ge(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new PM(this)}getSize(e){return re.resolve(this.size)}}class PM extends NM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.persistence=e,this.si=new Go((n=>_0(n)),b0),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new S0,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.ui={},this.overlays={},this.ci=new OS(0),this.li=!1,this.li=!0,this.hi=new MM,this.referenceDelegate=e(this),this.Pi=new UM(this),this.indexManager=new AM,this.remoteDocumentCache=(function(a){return new VM(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new SM(n),this.Ii=new DM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new jM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Oe("MemoryPersistence","Starting transaction:",e);const a=new zM(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class zM extends N4{constructor(e){super(),this.currentSequenceNumber=e}}class x0{constructor(e){this.persistence=e,this.Ri=new S0,this.Vi=null}static mi(e){return new x0(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=Ie.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,yt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Vn(),a=Vn();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new A0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JI()?8:O4(Si())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new BM;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(tu()<=Ue.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",nu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(tu()<=Ue.DEBUG&&Oe("QueryEngine","Query:",nu(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(tu()<=Ue.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",nu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fa(n))):re.resolve())}ys(e,n){if(h1(n))return re.resolve(null);let s=fa(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ag(n,null,"F"),s=fa(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Vn(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(e,ag(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,a){return h1(n)||a.isEqual(yt.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?re.resolve(null):(tu()<=Ue.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nu(n)),this.vs(e,c,n,A4(a,Cu)).next((d=>d)))}))}Ds(e,n){let s=new ln(eM(e));return n.forEach(((a,l)=>{w0(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return tu()<=Ue.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",nu(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="LocalStore";class HM{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ln(it),this.xs=new Go((l=>_0(l)),b0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function FM(t,e,n,s){return new HM(t,e,n,s)}async function GM(t,e){const n=Sn(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Vn();for(const g of a){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}class v1{constructor(){this.activeTargetIds=aM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KM{constructor(){this.Mo=new v1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="ConnectivityMonitor";class b1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Oe(_1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Oe(_1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function cg(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",XM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ng?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=cg(),d=this.zo(e,n.toUriEncodedString());Oe(cm,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),y=u0(g);return this.Jo(e,d,p,s,y).then((_=>(Oe(cm,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw RS(cm,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=XM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class JM extends QM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=cg();return new Promise(((d,p)=>{const g=new TS;g.setWithCredentials(!0),g.listenOnce(ES.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Fh.NO_ERROR:const _=g.getResponseJson();Oe(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case Fh.TIMEOUT:Oe(on,`RPC '${e}' ${c} timed out`),p(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const E=g.getStatus();if(Oe(on,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const I=(function($){const Y=$.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(Y)>=0?Y:de.UNKNOWN})(O.status);p(new Ae(I,O.message))}else p(new Ae(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Oe(on,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);Oe(on,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=cg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=AS(),d=xS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=l.join("");Oe(on,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);this.I_(_);let E=!1,A=!1;const O=new WM({Yo:P=>{A?Oe(on,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(Oe(on,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),Oe(on,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),I=(P,$,Y)=>{P.listen($,(B=>{try{Y(B)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return I(_,su.EventType.OPEN,(()=>{A||(Oe(on,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),I(_,su.EventType.CLOSE,(()=>{A||(A=!0,Oe(on,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(_))})),I(_,su.EventType.ERROR,(P=>{A||(A=!0,RS(on,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),O.a_(new Ae(de.UNAVAILABLE,"The operation could not be completed")))})),I(_,su.EventType.MESSAGE,(P=>{var $;if(!A){const Y=P.data[0];En(!!Y,16349);const B=Y,Z=(B==null?void 0:B.error)||(($=B[0])==null?void 0:$.error);if(Z){Oe(on,`RPC '${e}' stream ${a} received error:`,Z);const se=Z.status;let ie=(function(N){const j=kt[N];if(j!==void 0)return yM(j)})(se),C=Z.message;ie===void 0&&(ie=de.INTERNAL,C="Unknown error status: "+se+" with message "+Z.message),A=!0,O.a_(new Ae(ie,C)),_.close()}else Oe(on,`RPC '${e}' stream ${a} received:`,Y),O.u_(Y)}})),I(d,SS.STAT_EVENT,(P=>{P.stat===Zm.PROXY?Oe(on,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Zm.NOPROXY&&Oe(on,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){return new vM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class tj extends ej{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,y1(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(de.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,y1(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rd(n),this.aa=!1):Oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="RemoteStore";class ij{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{nx(this)&&(Oe(ex,"Restarting streams for network reachability change."),await(async function(p){const g=Sn(p);g.Ea.add(4),await R0(g),g.Ra.set("Unknown"),g.Ea.delete(4),await tx(g)})(this))}))})),this.Ra=new nj(s,a)}}async function tx(t){if(nx(t))for(const e of t.da)await e(!0)}async function R0(t){for(const e of t.da)await e(!1)}function nx(t){return Sn(t).Ea.size===0}async function sj(t,e){const n=Sn(t);e?(n.Ea.delete(2),await tx(n)):e||(n.Ea.add(2),await R0(n),n.Ra.set("Unknown"))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new C0(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class rj{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Sn(n),l=a.queries;a.queries=w1(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new Ae(de.ABORTED,"Firestore shutting down"))}}function w1(){return new Go((t=>qS(t)),$S)}function aj(t){t.Ca.forEach((e=>{e.next()}))}var T1,E1;(E1=T1||(T1={})).Ma="default",E1.Cache="cache";const oj="SyncEngine";class lj{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Go((d=>qS(d)),$S),this.Iu=new Map,this.Eu=new Set,this.du=new Ln(Ie.comparator),this.Au=new Map,this.Ru=new S0,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function S1(t,e,n){const s=Sn(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Sn(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(d)&&(g=!0)})),g&&aj(p)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uj(t,e,n){const s=Sn(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,n).then((g=>{var y;if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:y.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){a.push(g);const _=A0.As(p.targetId,g);l.push(_)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(p,g){const y=Sn(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(g,(E=>re.forEach(E.Es,(A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>re.forEach(E.ds,(A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!NS(_))throw _;Oe(qM,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const A=y.Ms.get(E),O=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(O);y.Ms=y.Ms.insert(E,I)}}})(s.localStore,l))}async function cj(t,e){const n=Sn(t);if(!n.currentUser.isEqual(e)){Oe(oj,"User change. New user:",e.toKey());const s=await GM(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new Ae(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uj(n,s.Ls)}}class x1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ZS(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return FM(this.persistence,new $M,e.initialUser,this.serializer)}Cu(e){return new LM(x0.mi,this.serializer)}Du(e){return new KM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}x1.provider={build:()=>new x1};class A1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cj.bind(null,this.syncEngine),await sj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rj})()}createDatastore(e){const n=ZS(e.databaseInfo.databaseId),s=(function(l){return new JM(l)})(e.databaseInfo);return(function(l,c,d,p){return new tj(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new ij(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>S1(this.syncEngine,n,0)),(function(){return b1.v()?new b1:new YM})())}createSyncEngine(e,n){return(function(a,l,c,d,p,g,y){const _=new lj(a,l,c,d,p,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Sn(a);Oe(ex,"RemoteStore shutting down."),l.Ea.add(5),await R0(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}A1.provider={build:()=>new A1};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="firestore.googleapis.com",C1=!0;class N1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dj,this.ssl=C1}else this.host=e.host,this.ssl=e.ssl??C1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CM)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hj(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fj{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new p4;switch(s.type){case"firstParty":return new y4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=R1.get(n);s&&(Oe("ComponentProvider","Removing Datastore"),R1.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new N0(this.firestore,e,this._query)}}class Yi{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new O0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}toJSON(){return{type:Yi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Hu(n,Yi._jsonSchema))return new Yi(e,s||null,new Ie(Gt.fromString(n.referencePath)))}}Yi._jsonSchemaVersion="firestore/documentReference/1.0",Yi._jsonSchema={type:Mt("string",Yi._jsonSchemaVersion),referencePath:Mt("string")};class O0 extends N0{constructor(e,n,s){super(e,n,W4(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new Ie(e))}withConverter(e){return new O0(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="AsyncQueue";class k1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZM(this,"async_queue_retry"),this._c=()=>{const s=hm();s&&Oe(O1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!NS(e))throw e;Oe(O1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Rd("INTERNAL UNHANDLED ERROR: ",D1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=C0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:D1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function D1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pj extends fj{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new k1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k1(e),this._firestoreClient=void 0,await e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(es.fromBase64String(e))}catch(n){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ss(es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,Ss._jsonSchema))return Ss.fromBase64String(e.bytes)}}Ss._jsonSchemaVersion="firestore/bytes/1.0",Ss._jsonSchema={type:Mt("string",Ss._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ma._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,ma._jsonSchema))return new ma(e.latitude,e.longitude)}}ma._jsonSchemaVersion="firestore/geoPoint/1.0",ma._jsonSchema={type:Mt("string",ma._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ga._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,ga._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ga(e.vectorValues);throw new Ae(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ga._jsonSchemaVersion="firestore/vectorValue/1.0",ga._jsonSchema={type:Mt("string",ga._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new RegExp("[~\\*/\\[\\]]");function gj(t,e,n){if(e.search(mj)>=0)throw I1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ix(...e.split("."))._internalPath}catch{throw I1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function I1(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new Ae(de.INVALID_ARGUMENT,d+t+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yj extends sx{data(){return super.data()}}function rx(t,e){return typeof e=="string"?gj(t,e):e instanceof ix?e._internalPath:e._delegate._internalPath}class Dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oo extends sx{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oo._jsonSchema={type:Mt("string",Oo._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Kh extends Oo{data(e={}){return super.data(e)}}class gu{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Dh(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Kh(this._firestore,this._userDataWriter,s.key,s,new Dh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new Kh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Dh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Kh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Dh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:vj(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}gu._jsonSchemaVersion="firestore/querySnapshot/1.0",gu._jsonSchema={type:Mt("string",gu._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};(function(e,n=!0){(function(a){Fo=a})(qu),va(new ya("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new pj(new m4(s.getProvider("auth-internal")),new v4(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ji(Ww,Jw,e),Ji(Ww,Jw,"esm2020")})();function ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _j=ax,ox=new $u("auth","Firebase",ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new c0("@firebase/auth");function bj(t,...e){cd.logLevel<=Ue.WARN&&cd.warn(`Auth (${qu}): ${t}`,...e)}function Yh(t,...e){cd.logLevel<=Ue.ERROR&&cd.error(`Auth (${qu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,...e){throw k0(t,...e)}function lx(t,...e){return k0(t,...e)}function ux(t,e,n){const s={..._j(),[e]:n};return new $u("auth","Firebase",s).create(e,{appName:t.name})}function Xh(t){return ux(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ox.create(t,...e)}function Fe(t,e,...n){if(!t)throw k0(e,...n)}function yu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function hd(t,e){t||yu(e)}function wj(){return j1()==="http:"||j1()==="https:"}function j1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wj()||QI()||"connection"in navigator)?navigator.onLine:!0}function Ej(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hd(n>e,"Short delay should be less than long delay!"),this.isMobile=KI()||WI()}get(){return Tj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t,e){hd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rj=new Fu(3e4,6e4);function hx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function kd(t,e,n,s,a={}){return dx(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=yS({key:t.config.apiKey,...c}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return XI()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&u0(t.emulatorConfig.host)&&(g.credentials="include"),cx.fetch()(await fx(t,t.config.apiHost,n,d),g)})}async function dx(t,e,n){t._canInitEmulator=!1;const s={...xj,...e};try{const a=new Cj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ih(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ih(t,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ux(t,y,g);M1(t,y)}}catch(a){if(a instanceof Rs)throw a;M1(t,"network-request-failed",{message:String(a)})}}async function fx(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Sj(t.config,a):`${t.config.apiScheme}://${a}`;return Aj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Cj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(lx(this.auth,"network-request-failed")),Rj.get())})}}function Ih(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=lx(t,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e){return kd(t,"POST","/v1/accounts:delete",e)}async function dd(t,e){return kd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Oj(t,e=!1){const n=Ad(t),s=await n.getIdToken(e),a=px(s);Fe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:vu(dm(a.auth_time)),issuedAtTime:vu(dm(a.iat)),expirationTime:vu(dm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function dm(t){return Number(t)*1e3}function px(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const a=mS(n);return a?JSON.parse(a):(Yh("Failed to decode base64 JWT payload"),null)}catch(a){return Yh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function V1(t){const e=px(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Rs&&kj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function kj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t){var _;const e=t.auth,n=await t.getIdToken(),s=await hg(t,dd(e,{idToken:n}));Fe(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?mx(a.providerUserInfo):[],c=Mj(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new dg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function Ij(t){const e=Ad(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mj(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function mx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e){const n=await dx(t,{},async()=>{const s=yS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await fx(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return t.emulatorConfig&&u0(t.emulatorConfig.host)&&(p.credentials="include"),cx.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vj(t,e){return kd(t,"POST","/v2/accounts:revokeToken",hx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=V1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await jj(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new ko;return s&&(Fe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Fe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Fe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return yu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Dj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hg(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Oj(this,e)}reload(){return Ij(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Xh(this.auth));const e=await this.getIdToken();return await hg(this,Nj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:O,stsTokenManager:I}=n;Fe(_&&I,e,"internal-error");const P=ko.fromJSON(this.name,I);Fe(typeof _=="string",e,"internal-error"),lr(s,e.name),lr(a,e.name),Fe(typeof E=="boolean",e,"internal-error"),Fe(typeof A=="boolean",e,"internal-error"),lr(l,e.name),lr(c,e.name),lr(d,e.name),lr(p,e.name),lr(g,e.name),lr(y,e.name);const $=new Xi({uid:_,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:g,lastLoginAt:y});return O&&Array.isArray(O)&&($.providerData=O.map(Y=>({...Y}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const a=new ko;a.updateFromServerResponse(n);const l=new Xi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await fd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Fe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?mx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new ko;d.updateFromIdToken(s);const p=new Xi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new dg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function la(t){hd(t instanceof Function,"Expected a class definition");let e=P1.get(t);return e?(hd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gx.type="NONE";const U1=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=fm(this.userKey,a.apiKey,l),this.fullPersistenceKey=fm("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dd(this.auth,{idToken:e}).catch(()=>{});return n?Xi._fromGetAccountInfoResponse(this.auth,n,e):null}return Xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Do(la(U1),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||la(U1);const c=fm(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const E=await dd(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Xi._fromGetAccountInfoResponse(e,E,y)}else _=Xi._fromJSON(e,y);g!==l&&(d=_),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Do(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Do(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($j(e))return"Blackberry";if(qj(e))return"Webos";if(Uj(e))return"Safari";if((e.includes("chrome/")||Lj(e))&&!e.includes("edge/"))return"Chrome";if(Bj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Pj(t=Si()){return/firefox\//i.test(t)}function Uj(t=Si()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lj(t=Si()){return/crios\//i.test(t)}function zj(t=Si()){return/iemobile/i.test(t)}function Bj(t=Si()){return/android/i.test(t)}function $j(t=Si()){return/blackberry/i.test(t)}function qj(t=Si()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e=[]){let n;switch(t){case"Browser":n=L1(Si());break;case"Worker":n=`${L1(Si())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e={}){return kd(t,"GET","/v2/passwordPolicy",hx(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=6;class Kj{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Gj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z1(this),this.idTokenSubscription=new z1(this),this.beforeStateQueue=new Hj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=la(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dd(this,{idToken:e}),s=await Xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(dr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ej()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(Xh(this));const n=e?Ad(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(Xh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(Xh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(la(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fj(this),n=new Kj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Vj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&la(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[la(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&bj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xj(t){return Ad(t)}class z1{constructor(e){this.auth=e,this.observer=null,this.addObserver=s5(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qj(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(la);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new Fu(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Fu(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Fu(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Fu(5e3,15e3);var B1="@firebase/auth",$1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zj(t){va(new ya("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yx(t)},g=new Yj(s,a,l,p);return Qj(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),va(new ya("auth-internal",e=>{const n=Xj(e.getProvider("auth").getImmediate());return(s=>new Wj(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(B1,$1,Jj(t)),Ji(B1,$1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=300;GI("authIdTokenMaxAge");Zj("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebasestorage.googleapis.com",tV="storageBucket",nV=120*1e3,iV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let br=class _x extends Rs{constructor(e,n,s=0){super(pm(e),`Firebase Storage: ${n} (${pm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_x.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var ns;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ns||(ns={}));function pm(t){return"storage/"+t}function sV(){const t="An unknown error occurred, please check the error payload for server response.";return new br(ns.UNKNOWN,t)}function rV(){return new br(ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aV(){return new br(ns.CANCELED,"User canceled the upload/download.")}function oV(t){return new br(ns.INVALID_URL,"Invalid URL '"+t+"'.")}function lV(t){return new br(ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function q1(t){return new br(ns.INVALID_ARGUMENT,t)}function bx(){return new br(ns.APP_DELETED,"The Firebase app was deleted.")}function uV(t){return new br(ns.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Ti.makeFromUrl(e,n)}catch{return new Ti(e,"")}if(s.path==="")return s;throw lV(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(Z){Z.path_=decodeURIComponent(Z.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),O={bucket:1,path:3},I=n===vx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",$=new RegExp(`^https?://${I}/${a}/${P}`,"i"),B=[{regex:d,indices:p,postModify:l},{regex:A,indices:O,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let Z=0;Z<B.length;Z++){const se=B[Z],ie=se.regex.exec(e);if(ie){const C=ie[se.indices.bucket];let R=ie[se.indices.path];R||(R=""),s=new Ti(C,R),se.postModify(s);break}}if(s==null)throw oV(e);return s}}class cV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e,n){let s=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function y(...P){g||(g=!0,e.apply(null,P))}function _(P){a=setTimeout(()=>{a=null,t(A,p())},P)}function E(){l&&clearTimeout(l)}function A(P,...$){if(g){E();return}if(P){E(),y.call(null,P,...$);return}if(p()||c){E(),y.call(null,P,...$);return}s<64&&(s*=2);let B;d===1?(d=2,B=0):B=(s+Math.random())*1e3,_(B)}let O=!1;function I(P){O||(O=!0,E(),!g&&(a!==null?(P||(d=2),clearTimeout(a),_(0)):P||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,I(!0)},n),I}function dV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){return t!==void 0}function H1(t,e,n,s){if(s<e)throw q1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw q1(`Invalid value for '${t}'. Expected ${n} or less.`)}function pV(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var pd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pd||(pd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,s,a,l,c,d,p,g,y,_,E=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,I)=>{this.resolve_=O,this.reject_=I,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Mh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===pd.NO_ERROR,p=l.getStatus();if(!d||mV(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===pd.ABORT;s(!1,new Mh(!1,null,y));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Mh(g,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());fV(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=sV();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?bx():aV();c(p)}else{const p=rV();c(p)}};this.canceled_?n(!1,new Mh(!1,null,!0)):this.backoffId_=hV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function yV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _V(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wV(t,e,n,s,a,l,c=!0,d=!1){const p=pV(t.urlParams),g=t.url+p,y=Object.assign({},t.headers);return _V(y,e),yV(y,n),vV(y,l),bV(y,s),new gV(g,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this._service=e,n instanceof Ti?this._location=n:this._location=Ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new md(e,n)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EV(this._location.path)}get storage(){return this._service}get parent(){const e=TV(this._location.path);if(e===null)return null;const n=new Ti(this._location.bucket,e);return new md(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uV(e)}}function F1(t,e){const n=e==null?void 0:e[tV];return n==null?null:Ti.makeFromBucketSpec(n,t)}class SV{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=vx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nV,this._maxUploadRetryTime=iV,this._requests=new Set,a!=null?this._bucket=Ti.makeFromBucketSpec(a,this._host):this._bucket=F1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=F1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new md(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new cV(bx());{const c=wV(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const G1="@firebase/storage",K1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="storage";function AV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new SV(n,s,a,e,qu)}function RV(){va(new ya(xV,AV,"PUBLIC").setMultipleInstances(!0)),Ji(G1,K1,""),Ji(G1,K1,"esm2020")}RV();let wx;console.warn("Firebase config missing. Running in demo/local mode.");const CV=({id:t,src:e,alt:n,className:s="",onImageUpdate:a})=>{const{editMode:l}=xd(),[c,d]=ne.useState(e),[p,g]=ne.useState(!1);ne.useEffect(()=>{{const _=localStorage.getItem(`vital_img_${t}`);_&&(d(_),a&&a(_))}},[t]),ne.useEffect(()=>{localStorage.getItem(`vital_img_${t}`)||d(e)},[e,t]);const y=async()=>{const _=prompt("Enter the new Image URL (e.g., FiveManage link):",c);if(_&&_!==c){g(!0);try{localStorage.setItem(`vital_img_${t}`,_),alert("Image saved to your browser (Demo Mode). Connect Firebase to save for everyone."),d(_),a&&a(_)}catch(E){console.error("Error updating image:",E),alert("Failed to update image. Check console for details.")}finally{g(!1)}}};return w.jsxs("div",{className:`relative group/image ${s}`,children:[w.jsx("img",{src:c,alt:n,className:"w-full h-full object-cover"}),l&&w.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover/image:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2 z-50 backdrop-blur-sm border-2 border-vital-500 m-2 rounded-lg border-dashed",children:[w.jsxs("button",{onClick:_=>{_.stopPropagation(),y()},disabled:p,className:"bg-vital-500 text-white px-4 py-2 rounded-full font-bold shadow-lg hover:bg-vital-600 hover:scale-105 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-wait",children:[p?w.jsx(r0,{size:16,className:"animate-spin"}):w.jsx(a0,{size:16}),p?"Saving...":"Change Image"]}),w.jsxs("span",{className:"text-xs text-gray-300 font-mono bg-black/50 px-2 py-1 rounded",children:["ID: ",t," ","(Local)"]})]})]})},mm=({id:t,field:e,value:n,className:s="",as:a="span",onUpdate:l})=>{const{editMode:c}=xd(),[d,p]=ne.useState(n),[g,y]=ne.useState(!1),[_,E]=ne.useState(!1),A=ne.useRef(null);ne.useEffect(()=>{p(n)},[n]),ne.useEffect(()=>{g&&A.current&&A.current.focus()},[g]);const O=async()=>{if(d===n){y(!1);return}E(!0);try{console.warn("Firebase not configured, change is temporary."),l&&l(d),y(!1)}catch(P){console.error(`Error updating ${e}:`,P),alert(`Failed to update ${e}`),p(n)}finally{E(!1)}},I=P=>{P.key==="Enter"?O():P.key==="Escape"&&(p(n),y(!1))};return c?g?w.jsxs("div",{className:`relative inline-block min-w-[50px] ${s}`,children:[w.jsx("input",{ref:A,type:"text",value:d,onChange:P=>p(P.target.value),onBlur:O,onKeyDown:I,disabled:_,className:"w-full bg-black/80 text-white border border-vital-500 rounded px-2 py-0.5 outline-none font-inherit"}),_&&w.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:w.jsx(r0,{size:12,className:"animate-spin text-vital-500"})})]}):w.jsxs("div",{onClick:P=>{P.stopPropagation(),y(!0)},className:`relative group/edit inline-block cursor-pointer hover:bg-vital-500/20 rounded px-1 -mx-1 transition-colors ${s}`,title:`Click to edit ${e}`,children:[w.jsx(a,{children:d}),w.jsx("div",{className:"absolute -top-2 -right-2 opacity-0 group-hover/edit:opacity-100 transition-opacity pointer-events-none bg-vital-500 text-white p-0.5 rounded-full shadow-lg z-50",children:w.jsx(aI,{size:8})})]}):w.jsx(a,{className:s,children:d})},NV=[{id:"1",src:"https://r2.fivemanage.com/image/X8BG7CABWS9D.png",title:"Midnight Heat",location:"Olympic Fwy",category:"Street Racing",size:"large"},{id:"2",src:"https://r2.fivemanage.com/image/iZgFHW4jrwjA.png",title:"Criminal Enterprise",location:"Unknown",category:"Organized Crime",size:"wide"},{id:"3",src:"https://r2.fivemanage.com/image/uLGSJHTfUwpW.png",title:"The Underworld",location:"Cypress Flats",category:"Gangs",size:"small"},{id:"4",src:"https://r2.fivemanage.com/image/N7XhYJH9lVxU.png",title:"Neon Nights",location:"West Vinewood",category:"Nightlife",size:"wide"},{id:"5",src:"https://r2.fivemanage.com/image/rHwmMCLaftBM.png",title:"City Wide Events",location:"Paleto Bay",category:"Community",size:"wide"}],OV=t=>{switch(t){case"large":return"md:col-span-2 md:row-span-2";case"tall":return"md:col-span-1 md:row-span-2";case"wide":return"md:col-span-2 md:row-span-1";default:return"md:col-span-1 md:row-span-1"}},kV={hidden:{},visible:{transition:{staggerChildren:.1}}},Y1={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.21,.47,.32,.98]}}},DV=()=>{const[t,e]=ne.useState(NV),[n,s]=ne.useState(!0);ne.useEffect(()=>{s(!1)},[]);const a=(c,d)=>{e(p=>p.map(g=>g.id===c?{...g,src:d}:g))},l=(c,d,p)=>{e(g=>g.map(y=>y.id===c?{...y,[d]:p}:y))};return n?w.jsx("section",{className:"py-32 flex justify-center items-center bg-dark-900",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-vital-500"})}):w.jsxs("section",{id:"gallery",className:"py-32 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-dark-950 md:bg-dark-900/80 md:backdrop-blur-sm z-0"}),w.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-vital-500/5 blur-[120px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/3"}),w.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-16 gap-8",children:[w.jsxs(_e.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},className:"max-w-2xl text-center md:text-left",children:[w.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-black text-white mb-6 tracking-tight",children:["CAPTURED ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-vital-400 to-vital-600",children:"IN CITY"})]}),w.jsx("p",{className:"text-lg text-gray-400 font-sans font-light leading-relaxed",children:"Every street corner in Los Santos holds a story. From high-stakes criminal operations to the vibrant nightlife of Vinewood, witness the moments that define our community."})]}),w.jsx(_e.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,ease:"easeOut"},children:w.jsxs("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"hidden md:flex items-center gap-3 group text-white font-display font-bold uppercase tracking-wider text-sm hover:text-vital-400 transition-colors",children:[w.jsx("span",{children:"Join The Community"}),w.jsx("div",{className:"w-8 h-8 rounded-full border border-white/20 flex items-center justify-center group-hover:border-vital-500 group-hover:bg-vital-500/10 transition-all",children:w.jsx(Bk,{size:16,className:"group-hover:-translate-y-0.5 group-hover:translate-x-0.5 transition-transform"})})]})})]}),w.jsxs(_e.div,{variants:kV,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-4 auto-rows-[280px] gap-6 grid-flow-dense",children:[t.map(c=>w.jsxs(_e.div,{variants:Y1,className:`group relative rounded-xl overflow-hidden bg-dark-800 ${OV(c.size)} shadow-2xl shadow-black/50`,children:[w.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-dark-900 z-0"}),w.jsx(CV,{id:c.id,src:c.src,alt:c.title,className:"w-full h-full object-cover transform transition-transform duration-1000 ease-out group-hover:scale-105 opacity-90 group-hover:opacity-100",onImageUpdate:d=>a(c.id,d)})]}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent opacity-90 transition-opacity duration-500 pointer-events-none"}),w.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between pointer-events-none",children:[w.jsx("div",{className:"self-start pointer-events-auto",children:w.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-black/40 md:backdrop-blur-md border border-white/10 text-[10px] font-tech font-bold text-white uppercase tracking-widest opacity-0 transform -translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300",children:w.jsx(mm,{id:c.id,field:"category",value:c.category,onUpdate:d=>l(c.id,"category",d)})})}),w.jsxs("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 ease-out pointer-events-auto",children:[w.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-2 leading-tight drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:w.jsx(mm,{id:c.id,field:"title",value:c.title,onUpdate:d=>l(c.id,"title",d)})}),w.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100",children:[w.jsx(MD,{size:14,className:"text-vital-500 drop-shadow-md"}),w.jsx("span",{className:"text-sm font-sans text-gray-200 drop-shadow-md",children:w.jsx(mm,{id:c.id,field:"location",value:c.location,onUpdate:d=>l(c.id,"location",d)})})]}),w.jsx("div",{className:"h-0.5 w-0 group-hover:w-12 bg-vital-500 mt-4 transition-all duration-500 ease-out delay-75 shadow-[0_0_10px_rgba(249,115,22,0.5)]"})]})]})]},c.id)),w.jsxs(_e.div,{variants:Y1,className:"md:col-span-1 md:row-span-1 rounded-xl bg-gradient-to-br from-dark-800 to-dark-900 border border-white/5 p-8 flex flex-col justify-center items-center text-center group hover:border-vital-500/30 transition-colors relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-vital-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),w.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[w.jsx("div",{className:"w-14 h-14 rounded-full bg-dark-950 border border-white/10 flex items-center justify-center mb-4 group-hover:scale-110 group-hover:border-vital-500/50 transition-all duration-300 shadow-xl",children:w.jsx(Yk,{className:"text-white w-6 h-6"})}),w.jsx("h3",{className:"font-display font-bold text-white text-xl mb-2",children:"Share Your Story"}),w.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:"Taken a great shot in the city? Post it in our media channel."}),w.jsx("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"text-xs font-bold font-tech uppercase tracking-widest text-vital-500 border-b border-vital-500/30 pb-1 hover:border-vital-500 transition-all",children:"Join Discord"})]})]})]})]})]})},IV=[{title:"18+ Community",description:"This is strictly an 18+ server. Mature themes and conversations are present. No exceptions.",icon:oS},{title:"Serious Roleplay",description:"Stay in character at all times. Prioritize the story and realism over winning or mechanics. Drive the narrative forward.",icon:hD},{title:"Value of Life (Fear RP)",description:"You must prioritize your character's life at all times. Act realistically when threatened with grievous harm.",icon:ED},{title:"New Life Rule (NLR)",description:"If you are downed and respawn, you forget the events leading to your death. You cannot return to the scene for 30 minutes.",icon:a0},{title:"No Metagaming",description:"Using Out-Of-Character (OOC) information in-game is strictly prohibited. Keep discord/stream info separate.",icon:pD},{title:"No Powergaming",description:"Do not force outcomes on other players. Give everyone a fair chance to react and roleplay their side of the story.",icon:l0},{title:"No RDM / VDM",description:"Random Deathmatch (killing without reason) and Vehicle Deathmatch (using cars as weapons) are forbidden.",icon:aD},{title:"Respect & No Toxicity",description:"Zero tolerance for toxicity, racism, slurs, or harassment. We are here to tell stories together.",icon:rS}],MV={hidden:{},visible:{transition:{staggerChildren:.05}}},jV={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.21,.47,.32,.98]}}},VV=()=>w.jsxs("section",{id:"rules",className:"py-24 bg-dark-800 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[w.jsx("div",{className:"text-center mb-16",children:w.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,ease:"easeOut"},children:[w.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-6",children:["SERVER ",w.jsx("span",{className:"text-vital-500",children:"RULES"})]}),w.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg font-sans",children:"To ensure a high-quality immersive experience for everyone, all citizens must adhere to our core constitution."})]})}),w.jsx(_e.div,{variants:MV,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:IV.map((t,e)=>w.jsxs(_e.div,{variants:jV,className:"bg-dark-900/50 backdrop-blur-sm border border-white/5 p-6 rounded-xl hover:border-vital-500/30 transition-colors group",children:[w.jsx("div",{className:"w-12 h-12 rounded-lg bg-vital-500/10 flex items-center justify-center mb-4 group-hover:bg-vital-500/20 transition-colors",children:w.jsx(t.icon,{className:"w-6 h-6 text-vital-500"})}),w.jsx("h3",{className:"text-white font-display font-bold text-lg mb-2 group-hover:text-vital-400 transition-colors",children:t.title}),w.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:t.description})]},e))}),w.jsx("div",{className:"mt-12 text-center",children:w.jsx("a",{href:"https://docs.google.com/document/d/1ZhxNk5zCsZy9eE1Xlo8ALanxtjsFV6TclpAoNHUZHpo/edit?tab=t.0",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-vital-500 text-sm mb-6 inline-flex items-center gap-2 underline underline-offset-4 decoration-white/20 hover:decoration-vital-500 transition-all",children:"This is a summary. Click here to read the full legislation document."})})]})]}),PV=[{question:"Is Vital RP a whitelist server?",answer:"Yes, we are a whitelist community. However, our application process is straightforward. We want to ensure that players understand our rules and are committed to serious roleplay before joining."},{question:"What is the age requirement?",answer:"You must be 18 years or older to join Vital RP. We cover mature themes and expect a level of maturity from our player base that aligns with an adult community."},{question:"Do I need a high-end PC?",answer:"We optimize our assets heavily. If you can run base GTA V at 60 FPS, you should have a smooth experience on Vital RP. We recommend 16GB of RAM for the best texture loading."},{question:"Is voice chat required?",answer:"Yes, a working microphone is mandatory. We use a custom high-quality voice plugin (pma-voice) that is built into the server, so no external TeamSpeak downloads are required."},{question:"Is controller support enabled?",answer:"Yes! Driving and flying work perfectly with controllers. Some complex menu interactions may still require a mouse and keyboard, but daily gameplay is very controller-friendly."}],UV={hidden:{},visible:{transition:{staggerChildren:.1}}},LV={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.21,.47,.32,.98]}}},zV=()=>{const[t,e]=ne.useState(0);return w.jsx("section",{className:"py-24 bg-dark-800 relative",children:w.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[w.jsxs("div",{className:"text-center mb-16",children:[w.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-vital-500/10 text-vital-500 mb-4",children:w.jsx(eD,{size:24})}),w.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold text-white mb-4",children:["COMMON ",w.jsx("span",{className:"text-vital-500",children:"QUESTIONS"})]}),w.jsx("p",{className:"text-gray-400",children:"Everything you need to know before flying in."})]}),w.jsx(_e.div,{variants:UV,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"space-y-4",children:PV.map((n,s)=>w.jsxs(_e.div,{variants:LV,className:"border border-white/10 rounded-lg bg-dark-900 overflow-hidden",children:[w.jsxs("button",{onClick:()=>e(t===s?null:s),className:"w-full flex items-center justify-between p-6 text-left hover:bg-white/5 transition-colors",children:[w.jsx("span",{className:"text-lg font-bold text-white font-display",children:n.question}),w.jsx("span",{className:`transition-transform duration-300 ${t===s?"rotate-180 text-vital-500":"text-gray-500"}`,children:t===s?w.jsx(LD,{size:20}):w.jsx(qD,{size:20})})]}),w.jsx(Su,{children:t===s&&w.jsx(_e.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:w.jsx("div",{className:"px-6 pb-6 pt-0 text-gray-400 leading-relaxed border-t border-white/5 mt-2 pt-4",children:n.answer})})})]},s))})]})})},BV=({className:t})=>w.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[w.jsx("title",{children:"Discord"}),w.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),$V=()=>w.jsxs("section",{className:"py-24 relative overflow-hidden",children:[w.jsxs("div",{className:"absolute inset-0",children:[w.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?q=80&w=1983&auto=format&fit=crop",alt:"Night City Atmosphere",className:"w-full h-full object-cover opacity-40"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-dark-900/90 to-dark-900/80"}),w.jsx("div",{className:"absolute inset-0 bg-vital-900/20 mix-blend-overlay"})]}),w.jsx("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:w.jsxs(_e.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[w.jsxs("h2",{className:"text-4xl md:text-6xl font-display font-bold text-white mb-6",children:["READY TO START YOUR ",w.jsx("span",{className:"text-vital-500",children:"LEGACY?"})]}),w.jsx("p",{className:"text-xl text-gray-300 mb-10 font-sans max-w-2xl mx-auto",children:"Join thousands of other players in the most advanced roleplay environment. Create your character today."}),w.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[w.jsx(yi,{href:"https://cfx.re/join/ogpvmv",variant:"primary",size:"lg",className:"w-full sm:w-auto",icon:w.jsx(Ym,{}),children:"Connect to Server"}),w.jsx(yi,{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",variant:"secondary",size:"lg",className:"w-full sm:w-auto",icon:w.jsx(BV,{className:"w-6 h-6"}),children:"Join Our Discord"})]})]})})]}),qV=({className:t="w-8 h-8"})=>w.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMidYMid meet",children:[w.jsx("defs",{children:w.jsxs("linearGradient",{id:"vitalLogoGradientFooter",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[w.jsx("stop",{offset:"0%",stopColor:"#FBBF24"}),w.jsx("stop",{offset:"50%",stopColor:"#F97316"}),w.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]})}),w.jsx("path",{d:"M10 15 L50 95 L90 15 L70 15 L50 55 L30 15 Z",fill:"url(#vitalLogoGradientFooter)"})]}),HV=({className:t})=>w.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:t,children:[w.jsx("title",{children:"Discord"}),w.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})]}),FV=({className:t})=>w.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("title",{children:"X (Twitter)"}),w.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})]}),GV=({className:t})=>w.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:t,xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("title",{children:"TikTok"}),w.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})]}),KV=({onOpenStore:t})=>{const[e,n]=ne.useState(!1),{login:s,user:a}=xd(),l=[{label:"Home",href:"#home"},{label:"Rules",href:"https://docs.google.com/document/d/1ZhxNk5zCsZy9eE1Xlo8ALanxtjsFV6TclpAoNHUZHpo/edit?tab=t.0",isExternal:!0},{label:"Staff",href:"#staff"},{label:"Gallery",href:"#gallery"},{label:"Forums",href:"#",isComingSoon:!0},{label:"Store",href:"https://vitalrp.tebex.io/",isExternal:!0,isStore:!0}],c=(d,p)=>{p.isStore&&(d.preventDefault(),t())};return w.jsx("footer",{className:"bg-dark-950 pt-20 pb-10 border-t border-white/5",children:w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[w.jsxs("div",{className:"col-span-1 md:col-span-2",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx(qV,{className:"w-10 h-10 flex-shrink-0"}),w.jsx("span",{className:"text-2xl font-display font-bold text-white",children:"VITAL RP"})]}),w.jsx("p",{className:"text-gray-500 text-sm leading-relaxed max-w-sm",children:"Vital RP is a premium FiveM roleplay community focused on storytelling, character development, and high-quality interactions. Join us today and start your journey in Los Santos."})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-white font-display font-bold mb-6",children:"QUICK LINKS"}),w.jsx("ul",{className:"space-y-4",children:l.map(d=>w.jsx("li",{className:"w-fit",children:d.isComingSoon?w.jsxs("div",{className:"group relative flex items-center cursor-help",children:[w.jsx("span",{className:"text-gray-500 text-sm font-tech uppercase tracking-wider group-hover:text-vital-500 transition-colors",children:d.label}),w.jsx("span",{className:"absolute left-full ml-3 px-2 py-0.5 bg-vital-500 text-white text-[9px] font-bold rounded opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:"SOON"})]}):w.jsx("a",{href:d.href,target:d.isExternal?"_blank":void 0,rel:d.isExternal?"noreferrer":void 0,onClick:p=>c(p,d),className:"text-gray-500 hover:text-vital-500 transition-colors text-sm font-tech uppercase tracking-wider block",children:d.label})},d.label))})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-white font-display font-bold mb-6",children:"SOCIALS"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("a",{href:"https://discord.gg/vitalrp",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-vital-600 hover:text-white transition-all","aria-label":"Discord",children:w.jsx(HV,{className:"w-5 h-5"})}),w.jsx("a",{href:"https://x.com/vital_roleplay/",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-black hover:text-white transition-all","aria-label":"X (Twitter)",children:w.jsx(FV,{className:"w-5 h-5"})}),w.jsx("a",{href:"https://www.youtube.com/@VitalRP",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-red-600 hover:text-white transition-all","aria-label":"YouTube",children:w.jsx(fI,{size:20})}),w.jsx("a",{href:"https://www.instagram.com/vital_roleplay/",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-pink-600 hover:text-white transition-all","aria-label":"Instagram",children:w.jsx(RD,{size:20})}),w.jsx("a",{href:"https://www.tiktok.com/@vitalroleplay_",target:"_blank",rel:"noreferrer",className:"w-10 h-10 rounded bg-dark-800 flex items-center justify-center text-gray-400 hover:bg-[#00f2ea] hover:text-black transition-all","aria-label":"TikTok",children:w.jsx(GV,{className:"w-5 h-5"})})]})]})]}),w.jsxs("div",{className:"border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[w.jsxs("div",{className:"flex items-center gap-4 order-2 md:order-1",children:[w.jsxs("p",{className:"text-gray-600 text-xs font-sans",children:[" ",new Date().getFullYear()," Vital Roleplay. Not affiliated with Rockstar Games."]}),!a&&w.jsx("button",{onClick:s,className:"text-white/10 hover:text-vital-500 transition-colors duration-500","aria-label":"Admin Access",children:w.jsx(OD,{size:12})})]}),w.jsxs(_e.div,{className:"flex items-center gap-2 order-1 md:order-2 bg-dark-900/50 px-3 py-1.5 rounded-full border border-white/5 hover:border-vital-500/50 transition-colors cursor-pointer select-none group/dev",onClick:()=>n(!e),whileHover:{scale:1.05},whileTap:{scale:.95},children:[w.jsx("span",{className:`text-[10px] font-tech uppercase tracking-widest transition-colors ${e?"text-vital-500 font-bold":"text-gray-500"}`,children:e?"Damon was here":"Created by Damon"}),w.jsx(_e.div,{animate:{rotate:e?180:0},transition:{type:"spring",stiffness:200,damping:10},children:e?w.jsx(_D,{className:"w-5 h-5 text-vital-500"}):w.jsx("img",{src:"https://r2.fivemanage.com/image/hVrQuL5nJWbT.png",alt:"Crown",className:"w-5 h-5 object-contain opacity-70 group-hover/dev:opacity-100 transition-opacity"})})]})]})]})})},YV=()=>{const[t,e]=ne.useState(!1);ne.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return w.jsx(Su,{children:t&&w.jsx(_e.button,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:n,className:"fixed bottom-8 right-8 z-40 p-3 rounded-full bg-vital-600 text-white shadow-[0_0_20px_rgba(249,115,22,0.5)] border border-vital-500 hover:bg-vital-500 transition-colors group","aria-label":"Scroll to top",children:w.jsx(qk,{size:24,className:"group-hover:-translate-y-1 transition-transform duration-300"})})})},XV=()=>{const{scrollYProgress:t}=s0(),[e,n]=ne.useState(!0);ne.useEffect(()=>{const c=()=>{n(window.innerWidth<768)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const s=da(t,[0,1],[0,-300]),a=da(t,[0,1],[0,-600]),l=da(t,[0,1],[0,-900]);return e?w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none bg-dark-950",children:[w.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] z-10"}),w.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[100vw] h-[100vw] bg-vital-900/10 blur-[60px] rounded-full mix-blend-screen"}),w.jsx("div",{className:"absolute top-[60%] right-[-10%] w-[80vw] h-[80vw] bg-vital-800/10 blur-[60px] rounded-full mix-blend-screen"}),w.jsx("div",{className:"absolute top-[20%] left-[20%] w-1 h-1 bg-white/20 rounded-full"}),w.jsx("div",{className:"absolute top-[50%] right-[30%] w-1.5 h-1.5 bg-white/10 rounded-full"}),w.jsx("div",{className:"absolute top-[80%] left-[10%] w-1 h-1 bg-white/20 rounded-full"})]}):w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none transition-colors duration-700 bg-dark-950",children:[w.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] z-10"}),w.jsxs(_e.div,{style:{y:s},className:"absolute inset-0",children:[w.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[800px] h-[800px] bg-vital-900/20 blur-[120px] rounded-full mix-blend-screen transition-colors duration-700"}),w.jsx("div",{className:"absolute top-[60%] right-[-10%] w-[600px] h-[600px] bg-vital-800/10 blur-[120px] rounded-full mix-blend-screen transition-colors duration-700"})]}),w.jsxs(_e.div,{style:{y:a},className:"absolute inset-0",children:[w.jsx("div",{className:"absolute top-[20%] right-[10%] w-64 h-64 bg-vital-500/5 blur-[80px] rounded-full transition-colors duration-700"}),w.jsx("div",{className:"absolute top-[60%] left-[10%] w-96 h-96 bg-vital-400/5 blur-[90px] rounded-full transition-colors duration-700"})]}),w.jsxs(_e.div,{style:{y:l},className:"absolute inset-0",children:[w.jsx("div",{className:"absolute top-[15%] left-[25%] w-1.5 h-1.5 bg-white/10 rounded-full blur-[0.5px]"}),w.jsx("div",{className:"absolute top-[35%] right-[35%] w-1 h-1 bg-vital-500/20 rounded-full transition-colors duration-700"}),w.jsx("div",{className:"absolute top-[55%] left-[15%] w-2 h-2 bg-white/5 rounded-full blur-[1px]"}),w.jsx("div",{className:"absolute top-[75%] right-[15%] w-2 h-2 bg-vital-400/10 rounded-full transition-colors duration-700"}),w.jsx("div",{className:"absolute top-[90%] left-[45%] w-1 h-1 bg-white/10 rounded-full"})]})]})};function Dd(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function QV(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(y){try{g(s.next(y))}catch(_){c(_)}}function p(y){try{g(s.throw(y))}catch(_){c(_)}}function g(y){y.done?l(y.value):a(y.value).then(d,p)}g((s=s.apply(t,e||[])).next())})}const WV=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class D0 extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class JV extends D0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class X1 extends D0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Q1 extends D0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fg||(fg={}));class ZV{constructor(e,{headers:n={},customFetch:s,region:a=fg.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=WV(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return QV(this,arguments,void 0,function*(n,s={}){var a;let l,c;try{const{headers:d,method:p,body:g,signal:y,timeout:_}=s;let E={},{region:A}=s;A||(A=this.region);const O=new URL(`${this.url}/${n}`);A&&A!=="any"&&(E["x-region"]=A,O.searchParams.set("forceFunctionRegion",A));let I;g&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",I=g):typeof g=="string"?(E["Content-Type"]="text/plain",I=g):typeof FormData<"u"&&g instanceof FormData?I=g:(E["Content-Type"]="application/json",I=JSON.stringify(g)):I=g;let P=y;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),y?(P=c.signal,y.addEventListener("abort",()=>c.abort())):P=c.signal);const $=yield this.fetch(O.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),d),body:I,signal:P}).catch(se=>{throw new JV(se)}),Y=$.headers.get("x-relay-error");if(Y&&Y==="true")throw new X1($);if(!$.ok)throw new Q1($);let B=((a=$.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),Z;return B==="application/json"?Z=yield $.json():B==="application/octet-stream"||B==="application/pdf"?Z=yield $.blob():B==="text/event-stream"?Z=$:B==="multipart/form-data"?Z=yield $.formData():Z=yield $.text(),{data:Z,error:null,response:$}}catch(d){return{data:null,error:d,response:d instanceof Q1||d instanceof X1?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var e3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},t3=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,d=null,p=null,g=l.status,y=l.statusText;if(l.ok){var _,E;if(n.method!=="HEAD"){var A;const $=await l.text();$===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((A=n.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?d=$:d=JSON.parse($))}const I=(_=n.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),P=(E=l.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");I&&P&&P.length>1&&(p=parseInt(P[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,g=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var O;const I=await l.text();try{c=JSON.parse(I),Array.isArray(c)&&l.status===404&&(d=[],c=null,g=200,y="OK")}catch{l.status===404&&I===""?(g=204,y="No Content"):c={message:I}}if(c&&n.isMaybeSingle&&(!(c==null||(O=c.details)===null||O===void 0)&&O.includes("0 rows"))&&(c=null,g=200,y="OK"),c&&n.shouldThrowOnError)throw new e3(c)}return{error:c,data:d,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let d="";const p=l==null?void 0:l.cause;if(p){var g,y,_,E;const O=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",I=(y=p==null?void 0:p.code)!==null&&y!==void 0?y:"";d=`${(_=l==null?void 0:l.name)!==null&&_!==void 0?_:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(E=p==null?void 0:p.name)!==null&&E!==void 0?E:"Error"}: ${O}`,I&&(d+=` (${I})`),p!=null&&p.stack&&(d+=`
${p.stack}`)}else{var A;d=(A=l==null?void 0:l.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},n3=class extends t3{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var c;const d=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const W1=new RegExp("[,()]");var _o=class extends n3{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&W1.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&W1.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},i3=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}select(t,e){const{head:n=!1,count:s}=e??{},a=n?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),s&&this.headers.append("Prefer",`count=${s}`),new _o({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _o({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new _o({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var n;const s="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new _o({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new _o({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},s3=class Tx{constructor(e,{headers:n={},schema:s,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new i3(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Tx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:a=!1,count:l}={}){var c;let d;const p=new URL(`${this.url}/rpc/${e}`);let g;s||a?(d=s?"HEAD":"GET",Object.entries(n).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{p.searchParams.append(_,E)})):(d="POST",g=n);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new _o({method:d,url:p,headers:y,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class r3{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const a3="2.89.0",o3=`realtime-js/${a3}`,Ex="1.0.0",l3="2.0.0",J1=Ex,pg=1e4,u3=1e3,c3=100;var hr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hr||(hr={}));var Ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ut||(Ut={}));var _i;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_i||(_i={}));var mg;(function(t){t.websocket="websocket"})(mg||(mg={}));var ia;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ia||(ia={}));class h3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const a=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,s;const a=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,s){var a,l;const c=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",g=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+c.length+g.length+_.length,A=new ArrayBuffer(this.HEADER_LENGTH+E);let O=new DataView(A),I=0;O.setUint8(I++,this.KINDS.userBroadcastPush),O.setUint8(I++,p.length),O.setUint8(I++,d.length),O.setUint8(I++,c.length),O.setUint8(I++,g.length),O.setUint8(I++,_.length),O.setUint8(I++,n),Array.from(p,$=>O.setUint8(I++,$.charCodeAt(0))),Array.from(d,$=>O.setUint8(I++,$.charCodeAt(0))),Array.from(c,$=>O.setUint8(I++,$.charCodeAt(0))),Array.from(g,$=>O.setUint8(I++,$.charCodeAt(0))),Array.from(_,$=>O.setUint8(I++,$.charCodeAt(0)));var P=new Uint8Array(A.byteLength+s.byteLength);return P.set(new Uint8Array(A),0),P.set(new Uint8Array(s),A.byteLength),P.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,l,c,d,p]=s;return n({join_ref:a,ref:l,topic:c,event:d,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,s){const a=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),d=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=s.decode(e.slice(p,p+a));p=p+a;const y=s.decode(e.slice(p,p+l));p=p+l;const _=s.decode(e.slice(p,p+c));p=p+c;const E=e.slice(p,e.byteLength),A=d===this.JSON_ENCODING?JSON.parse(s.decode(E)):E,O={type:this.BROADCAST_EVENT,event:y,payload:A};return c>0&&(O.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class Sx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const Z1=(t,e,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=d3(c,t,e,a),l),{}):{}},d3=(t,e,n,s)=>{const a=e.find(d=>d.name===t),l=a==null?void 0:a.type,c=n[t];return l&&!s.includes(l)?xx(l,c):gg(c)},xx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return g3(e,n)}switch(t){case st.bool:return f3(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return p3(e);case st.json:case st.jsonb:return m3(e);case st.timestamp:return y3(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return gg(e);default:return gg(e)}},gg=t=>t,f3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},p3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},m3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},g3=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>xx(e,d))}return t},y3=t=>typeof t=="string"?t.replace(" ","T"):t,Ax=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gm{constructor(e,n,s={},a=pg){this.channel=e,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eT||(eT={}));class _u{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_u.syncState(this.state,a,l,c),this.pendingDiffs.forEach(p=>{this.state=_u.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_u.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,a){const l=this.cloneDeep(e),c=this.transformState(n),d={},p={};return this.map(l,(g,y)=>{c[g]||(p[g]=y)}),this.map(c,(g,y)=>{const _=l[g];if(_){const E=y.map(P=>P.presence_ref),A=_.map(P=>P.presence_ref),O=y.filter(P=>A.indexOf(P.presence_ref)<0),I=_.filter(P=>E.indexOf(P.presence_ref)<0);O.length>0&&(d[g]=O),I.length>0&&(p[g]=I)}else d[g]=y}),this.syncDiff(l,{joins:d,leaves:p},s,a)}static syncDiff(e,n,s,a){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(d,p)=>{var g;const y=(g=e[d])!==null&&g!==void 0?g:[];if(e[d]=this.cloneDeep(p),y.length>0){const _=e[d].map(A=>A.presence_ref),E=y.filter(A=>_.indexOf(A.presence_ref)<0);e[d].unshift(...E)}s(d,y,p)}),this.map(c,(d,p)=>{let g=e[d];if(!g)return;const y=p.map(_=>_.presence_ref);g=g.filter(_=>y.indexOf(_.presence_ref)<0),e[d]=g,a(d,g,p),g.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const a=e[s];return"metas"in a?n[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tT||(tT={}));var bu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(bu||(bu={}));var Ts;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ts||(Ts={}));class Co{constructor(e,n={config:{}},s){var a,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gm(this,_i.join,this.params,this.timeout),this.rejoinTimer=new Sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_i.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new _u(this),this.broadcastEndpointURL=Ax(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:c,presence:d,private:p}}=this.params,g=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(A=>A.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[bu.PRESENCE]&&this.bindings[bu.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},E={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(A=>e==null?void 0:e(Ts.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Ts.CLOSED)),this.updateJoinPayload(Object.assign({config:E},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:A})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){e==null||e(Ts.SUBSCRIBED);return}else{const I=this.bindings.postgres_changes,P=(O=I==null?void 0:I.length)!==null&&O!==void 0?O:0,$=[];for(let Y=0;Y<P;Y++){const B=I[Y],{filter:{event:Z,schema:se,table:ie,filter:C}}=B,R=A&&A[Y];if(R&&R.event===Z&&Co.isFilterValueEqual(R.schema,se)&&Co.isFilterValueEqual(R.table,ie)&&Co.isFilterValueEqual(R.filter,C))$.push(Object.assign(Object.assign({},B),{id:R.id}));else{this.unsubscribe(),this.state=Ut.errored,e==null||e(Ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,e&&e(Ts.SUBSCRIBED);return}}).receive("error",A=>{this.state=Ut.errored,e==null||e(Ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Ut.joined&&e===bu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const g=await d.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,p;const g=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_i.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new gm(this,_i.leave,{},e),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ut.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gm(this,e,n,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>c3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var a,l;const c=e.toLocaleLowerCase(),{close:d,error:p,leave:g,join:y}=_i;if(s&&[d,p,g,y].indexOf(c)>=0&&s!==this._joinRef())return;let E=this._onMessage(c,n,s);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(A=>{var O,I,P;return((O=A.filter)===null||O===void 0?void 0:O.event)==="*"||((P=(I=A.filter)===null||I===void 0?void 0:I.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===c}).map(A=>A.callback(E,s)):(l=this.bindings[c])===null||l===void 0||l.filter(A=>{var O,I,P,$,Y,B;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in A){const Z=A.id,se=(O=A.filter)===null||O===void 0?void 0:O.event;return Z&&((I=n.ids)===null||I===void 0?void 0:I.includes(Z))&&(se==="*"||(se==null?void 0:se.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const Z=(Y=($=A==null?void 0:A.filter)===null||$===void 0?void 0:$.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return Z==="*"||Z===((B=n==null?void 0:n.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===c}).map(A=>{if(typeof E=="object"&&"ids"in E){const O=E.data,{schema:I,table:P,commit_timestamp:$,type:Y,errors:B}=O;E=Object.assign(Object.assign({},{schema:I,table:P,commit_timestamp:$,eventType:Y,new:{},old:{},errors:B}),this._getPayloadRecords(O))}A.callback(E,s)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Co.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_i.close,{},e)}_onError(e){this._on(_i.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Z1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Z1(e.columns,e.old_record)),n}}const ym=()=>{},jh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v3=[1e3,2e3,5e3,1e4],_3=1e4,b3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class w3{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pg,this.transport=null,this.heartbeatIntervalMs=jh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ym,this.ref=0,this.reconnectTimer=null,this.vsn=J1,this.logger=ym,this.conn=null,this.sendBuffer=[],this.serializer=new h3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${mg.websocket}`,this.httpEndpoint=Ax(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case hr.connecting:return ia.Connecting;case hr.open:return ia.Open;case hr.closing:return ia.Closing;default:return ia.Closed}}isConnected(){return this.connectionState()===ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new Co(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:a,ref:l}=e,c=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${n} ${s} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(u3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:l,ref:c}=n,d=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${s} ${a} ${d}`.trim(),l),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(a,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===hr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hr.open||this.conn.readyState===hr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_i.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${s}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([b3],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:o3};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(_i.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Sx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,a,l,c,d,p,g,y,_,E,A;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:pg,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:jh.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:ym,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:J1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(O=>v3[O-1]||_3),this.vsn){case Ex:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((O,I)=>I(JSON.stringify(O))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((O,I)=>I(JSON.parse(O)));break;case l3:this.encode=(E=e==null?void 0:e.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(A=e==null?void 0:e.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ku=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function T3(t,e,n){const s=new URL(e,t);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&s.searchParams.set(a,l);return s.toString()}async function E3(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function S3(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:a,body:l,headers:c}){const d=T3(t.baseUrl,s,a),p=await E3(t.auth),g=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...c},body:l?JSON.stringify(l):void 0}),y=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),E=_&&y?JSON.parse(y):y;if(!g.ok){const A=_?E:void 0,O=A==null?void 0:A.error;throw new ku((O==null?void 0:O.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:O==null?void 0:O.type,icebergCode:O==null?void 0:O.code,details:A})}return{status:g.status,headers:g.headers,data:E}}}}function Vh(t){return t.join("")}var x3=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Vh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vh(t.namespace)}`}),!0}catch(e){if(e instanceof ku&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ku&&n.status===409)return;throw n}}};function ho(t){return t.join("")}var A3=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ho(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ku&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ku&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},R3=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=S3({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new x3(this.client,e),this.tableOps=new A3(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Id=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ct(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var C3=class extends Id{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yg=class extends Id{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const I0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N3=()=>Response,vg=t=>{if(Array.isArray(t))return t.map(n=>vg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=vg(s)}),e},O3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},k3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function D3(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Du(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I3(t){var e=D3(t,"string");return Du(e)=="symbol"?e:e+""}function M3(t,e,n){return(e=I3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(s){M3(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const vm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},j3=async(t,e,n)=>{t instanceof await N3()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const a=t.status||500,l=(s==null?void 0:s.statusCode)||a+"";e(new C3(vm(s),a,l))}).catch(s=>{e(new yg(vm(s),s))}):e(new yg(vm(t),t))},V3=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?a:(O3(s)?(a.headers=ve({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),ve(ve({},a),n))};async function Gu(t,e,n,s,a,l){return new Promise((c,d)=>{t(n,V3(e,s,a,l)).then(p=>{if(!p.ok)throw p;return s!=null&&s.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>j3(p,d,s))})}async function Iu(t,e,n,s){return Gu(t,"GET",e,n,s)}async function vi(t,e,n,s,a){return Gu(t,"POST",e,s,a,n)}async function _g(t,e,n,s,a){return Gu(t,"PUT",e,s,a,n)}async function P3(t,e,n,s){return Gu(t,"HEAD",e,ve(ve({},n),{},{noResolveJson:!0}),s)}async function M0(t,e,n,s,a){return Gu(t,"DELETE",e,s,a,n)}var U3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}}};let Rx;Rx=Symbol.toStringTag;var L3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Rx]="BlobDownloadBuilder",this.promise=null}asStream(){return new U3(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ct(e))return{data:null,error:e};throw e}}};const z3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var B3=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=I0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var a=this;try{let l;const c=ve(ve({},iT),s);let d=ve(ve({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",a.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),p&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(p))):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,p&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(d=ve(ve({},d),s.headers));const g=a._removeEmptyFolders(e),y=a._getFinalPath(g),_=await(t=="PUT"?_g:vi)(a.fetch,`${a.url}/object/${y}`,l,ve({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var a=this;const l=a._removeEmptyFolders(t),c=a._getFinalPath(l),d=new URL(a.url+`/object/upload/sign/${c}`);d.searchParams.set("token",e);try{let p;const g=ve({upsert:iT.upsert},s),y=ve(ve({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",g.cacheControl)):(p=n,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:l,fullPath:(await _g(a.fetch,d.toString(),p,{headers:y})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(ct(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const a=ve({},n.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await vi(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:a}),c=new URL(n.url+l.url),d=c.searchParams.get("token");if(!d)throw new Id("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await vi(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}}async copy(t,e,n){var s=this;try{return{data:{path:(await vi(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,n){var s=this;try{let a=s._getFinalPath(t),l=await vi(s.fetch,`${s.url}/object/sign/${a}`,ve({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,n){var s=this;try{const a=await vi(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>ve(ve({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Iu(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new L3(c,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:vg(await Iu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await P3(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(ct(s)&&s instanceof yg){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&s.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(t){var e=this;try{return{data:await M0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const a=ve(ve(ve({},z3),e),{},{prefix:t||""});return{data:await vi(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},n),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}}async listV2(t,e){var n=this;try{const s=ve({},t);return{data:await vi(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Cx="2.89.0",Nx={"X-Client-Info":`storage-js/${Cx}`};var $3=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=ve(ve({},Nx),e),this.fetch=I0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Iu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Iu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await vi(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await _g(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ct(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await vi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await M0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},q3=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},Nx),e),this.fetch=I0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await vi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),a=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await Iu(e.fetch,a,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await M0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!k3(t))throw new Id("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new R3({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(a,d),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}};const j0={"X-Client-Info":`storage-js/${Cx}`,"Content-Type":"application/json"};var Ox=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var _m=class extends Ox{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},H3=class extends Ox{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const V0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G3=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new _m(sT(l),s,c))}).catch(()=>{const l=s+"";e(new _m(a.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new _m(a.statusText||`HTTP ${s} error`,s,l))}}else e(new H3(sT(t),t))},K3=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(F3(s)?(a.headers=ve({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,ve(ve({},a),n)):a};async function Y3(t,e,n,s,a,l){return new Promise((c,d)=>{t(n,K3(e,s,a,l)).then(p=>{if(!p.ok)throw p;if(s!=null&&s.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>G3(p,d,s))})}async function Un(t,e,n,s,a){return Y3(t,"POST",e,s,a,n)}var X3=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},j0),e),this.fetch=V0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Un(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Un(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Un(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Un(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Pn(s))return{data:null,error:s};throw s}}},Q3=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},j0),e),this.fetch=V0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Un(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Un(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Un(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Un(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Un(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}},W3=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ve(ve({},j0),e),this.fetch=V0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Un(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Un(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Un(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Un(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}},J3=class extends W3{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Z3(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},Z3=class extends X3{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new e6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},e6=class extends Q3{constructor(t,e,n,s,a){super(t,e,a),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ve(ve({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},t6=class extends $3{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new B3(this.url,this.headers,t,this.fetch)}get vectors(){return new J3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new q3(this.url+"/iceberg",this.headers,this.fetch)}};const kx="2.89.0",bo=30*1e3,bg=3,bm=bg*bo,n6="http://localhost:9999",i6="supabase.auth.token",s6={"X-Client-Info":`gotrue-js/${kx}`},wg="X-Supabase-Api-Version",Dx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,a6=600*1e3;class Mu extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class o6 extends Mu{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function l6(t){return pe(t)&&t.name==="AuthApiError"}class sa extends Mu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Cs extends Mu{constructor(e,n,s,a){super(e,s,a),this.name=n,this.status=s}}class Mn extends Cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u6(t){return pe(t)&&t.name==="AuthSessionMissingError"}class fo extends Cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ph extends Cs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uh extends Cs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c6(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class rT extends Cs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h6 extends Cs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Tg extends Cs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function wm(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class aT extends Cs{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Eg extends Cs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oT=` 	
\r=`.split(""),d6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<oT.length;e+=1)t[oT[e].charCodeAt(0)]=-2;for(let e=0;e<gd.length;e+=1)t[gd[e].charCodeAt(0)]=e;return t})();function lT(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(gd[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(gd[s]),e.queuedBits-=6}}function Ix(t,e,n){const s=d6[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function uT(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{m6(c,s,n)};for(let c=0;c<t.length;c+=1)Ix(t.charCodeAt(c),a,l);return e.join("")}function f6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function p6(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}f6(s,e)}}function m6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Io(t){const e=[],n={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Ix(t.charCodeAt(a),n,s);return new Uint8Array(e)}function g6(t){const e=[];return p6(t,n=>e.push(n)),new Uint8Array(e)}function ua(t){const e=[],n={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>lT(a,n,s)),lT(null,n,s),e.join("")}function y6(t){return Math.round(Date.now()/1e3)+t}function v6(){return Symbol("auth-callback")}const nn=()=>typeof window<"u"&&typeof document<"u",Zr={tested:!1,writable:!1},Mx=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zr.tested)return Zr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zr.tested=!0,Zr.writable=!0}catch{Zr.tested=!0,Zr.writable=!1}return Zr.writable};function _6(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((s,a)=>{e[a]=s}),e}const jx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),b6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ea=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tn=async(t,e)=>{await t.removeItem(e)};class Md{constructor(){this.promise=new Md.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Md.promiseConstructor=Promise;function Tm(t){const e=t.split(".");if(e.length!==3)throw new Eg("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!r6.test(e[s]))throw new Eg("JWT not in base64url format");return{header:JSON.parse(uT(e[0])),payload:JSON.parse(uT(e[1])),signature:Io(e[2]),raw:{header:e[0],payload:e[1]}}}async function w6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function T6(t,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function E6(t){return("0"+t.toString(16)).substr(-2)}function S6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,E6).join("")}async function x6(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function A6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await x6(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function po(t,e,n=!1){const s=S6();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await wo(t,`${e}-code-verifier`,a);const l=await A6(s);return[l,s===l?"plain":"s256"]}const R6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C6(t){const e=t.headers.get(wg);if(!e||!e.match(R6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function N6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function O6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const k6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mo(t){if(!k6.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Em(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function D6(t,e){return new Proxy(t,{get:(n,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,a)}})}function cT(t){return JSON.parse(JSON.stringify(t))}const na=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I6=[502,503,504];async function hT(t){var e;if(!b6(t))throw new Tg(na(t),0);if(I6.includes(t.status))throw new Tg(na(t),t.status);let n;try{n=await t.json()}catch(l){throw new sa(na(l),l)}let s;const a=C6(t);if(a&&a.getTime()>=Dx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new aT(na(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new aT(na(n),t.status,n.weak_password.reasons);throw new o6(na(n),t.status||500,s)}const M6=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function ye(t,e,n,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[wg]||(l[wg]=Dx["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await j6(t,e,n+d,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(p):{data:Object.assign({},p),error:null}}async function j6(t,e,n,s,a,l){const c=M6(e,s,a,l);let d;try{d=await t(n,Object.assign({},c))}catch(p){throw console.error(p),new Tg(na(p),0)}if(d.ok||await hT(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(p){await hT(p)}}function mi(t){var e;let n=null;U6(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=y6(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function dT(t){const e=mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function V6(t){return{data:t,error:null}}function P6(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l}=t,c=Dd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l},p=Object.assign({},c);return{data:{properties:d,user:p},error:null}}function fT(t){return t}function U6(t){return t.access_token&&t.refresh_token&&t.expires_in}const Sm=["global","local","others"];class L6{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=jx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Sm[0]){if(Sm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sm.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Dd(e,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:P6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,a,l,c,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:fT});if(y.error)throw y.error;const _=await y.json(),E=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return A.length>0&&(A.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);g[`${P}Page`]=I}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(pe(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){mo(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){mo(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){mo(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){mo(e.userId);try{const{data:n,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){mo(e.userId),mo(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,a,l,c,d,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:fT});if(y.error)throw y.error;const _=await y.json(),E=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return A.length>0&&(A.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);g[`${P}Page`]=I}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(pe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function pT(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const go={debug:!!(globalThis&&Mx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class z6 extends Vx{}async function B6(t,e,n){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new z6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(go.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function $6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Px(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function q6(t){return parseInt(t,16)}function H6(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function F6(t){var e;const{chainId:n,domain:s,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:p,resources:g,scheme:y,uri:_,version:E}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const A=Px(t.address),O=y?`${y}://${s}`:s,I=t.statement?`${t.statement}
`:"",P=`${O} wants you to sign in with your Ethereum account:
${A}

${I}`;let $=`URI: ${_}
Version: ${E}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&($+=`
Expiration Time: ${a.toISOString()}`),d&&($+=`
Not Before: ${d.toISOString()}`),p&&($+=`
Request ID: ${p}`),g){let Y=`
Resources:`;for(const B of g){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);Y+=`
- ${B}`}$+=Y}return`${P}
${$}`}class Dt extends Error{constructor({message:e,code:n,cause:s,name:a}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=a??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class yd extends Dt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function G6({error:t,options:e}){var n,s,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(Ux(c)){if(l.rp.id!==c)return new Dt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function K6({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Dt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Ux(s)){if(n.rpId!==s)return new Dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Y6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const X6=new Y6;function Q6(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,a=Dd(t,["challenge","user","excludeCredentials"]),l=Io(e).buffer,c=Object.assign(Object.assign({},n),{id:Io(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:c});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const g=s[p];d.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Io(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function W6(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Dd(t,["challenge","allowCredentials"]),a=Io(e).buffer,l=Object.assign(Object.assign({},s),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Io(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function J6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ua(new Uint8Array(t.response.attestationObject)),clientDataJSON:ua(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Z6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ua(new Uint8Array(a.authenticatorData)),clientDataJSON:ua(new Uint8Array(a.clientDataJSON)),signature:ua(new Uint8Array(a.signature)),userHandle:a.userHandle?ua(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ux(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mT(){var t,e;return!!(nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function eP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:G6({error:e,options:t})}}}async function tP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:K6({error:e,options:t})}}}const nP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vd(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const d=s[l];e(d)?s[l]=vd(d,c):s[l]=vd(c)}else s[l]=c}return s}function sP(t,e){return vd(nP,t,e||{})}function rP(t,e){return vd(iP,t,e||{})}class aP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:a},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const p=a??X6.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=sP(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:_}=await eP({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const g=rP(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:_}=await tP(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new sa("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Mu("rpId is required for WebAuthn authentication")};try{if(!mT())return{data:null,error:new sa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:a},{request:l});if(!c)return{data:null,error:d};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new sa("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Mu("rpId is required for WebAuthn registration")};try{if(!mT())return{data:null,error:new sa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:a},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new sa("Unexpected error in register",c)}}}}$6();const oP={url:n6,storageKey:i6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gT(t,e,n){return await n()}const yo={};class ju{get jwks(){var e,n;return(n=(e=yo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=yo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yo[this.storageKey]=Object.assign(Object.assign({},yo[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},oP),e);if(this.storageKey=l.storageKey,this.instanceID=(n=ju.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ju.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&nn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new L6({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=jx(l.fetch),this.lock=l.lock||gT,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&nn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=B6:this.lock=gT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Mx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pT(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=pT(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(nn()&&(n=_6(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),nn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),c6(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new sa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,a;try{const l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:mi}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,a;try{let l;if("email"in e){const{email:y,password:_,options:E}=e;let A=null,O=null;this.flowType==="pkce"&&([A,O]=await po(this.storage,this.storageKey)),l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:_,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:A,code_challenge_method:O},xform:mi})}else if("phone"in e){const{phone:y,password:_,options:E}=e;l=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(s=E==null?void 0:E.data)!==null&&s!==void 0?s:{},channel:(a=E==null?void 0:E.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:mi})}else throw new Ph("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await tn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(await tn(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:dT})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:dT})}else throw new Ph("You must provide either an email or phone number and a password");const{data:s,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const l=new fo;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,a,l,c,d,p,g,y,_,E;let A,O;if("message"in e)A=e.message,O=e.signature;else{const{chain:I,wallet:P,statement:$,options:Y}=e;let B;if(nn())if(typeof P=="object")B=P;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")B=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=P}const Z=new URL((n=Y==null?void 0:Y.url)!==null&&n!==void 0?n:window.location.href),se=await B.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ie=Px(se[0]);let C=(s=Y==null?void 0:Y.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!C){const N=await B.request({method:"eth_chainId"});C=q6(N)}const R={domain:Z.host,address:ie,statement:$,uri:Z.href,version:"1",chainId:C,nonce:(a=Y==null?void 0:Y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=Y==null?void 0:Y.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=Y==null?void 0:Y.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=Y==null?void 0:Y.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=Y==null?void 0:Y.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=Y==null?void 0:Y.signInWithEthereum)===null||y===void 0?void 0:y.resources};A=F6(R),O=await B.request({method:"personal_sign",params:[H6(A),ie]})}try{const{data:I,error:P}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:O},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:mi});if(P)throw P;if(!I||!I.session||!I.user){const $=new fo;return this._returnResult({data:{user:null,session:null},error:$})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:P})}catch(I){if(pe(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async signInWithSolana(e){var n,s,a,l,c,d,p,g,y,_,E,A;let O,I;if("message"in e)O=e.message,I=e.signature;else{const{chain:P,wallet:$,statement:Y,options:B}=e;let Z;if(nn())if(typeof $=="object")Z=$;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))Z=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=$}const se=new URL((n=B==null?void 0:B.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in Z&&Z.signIn){const ie=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),Y?{statement:Y}:null));let C;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")C=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)C=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)O=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),I=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${se.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(a=(s=B==null?void 0:B.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=B==null?void 0:B.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((p=B==null?void 0:B.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((_=(y=B==null?void 0:B.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...B.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const ie=await Z.signMessage(new TextEncoder().encode(O),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=ie}}try{const{data:P,error:$}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ua(I)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:mi});if($)throw $;if(!P||!P.session||!P.user){const Y=new fo;return this._returnResult({data:{user:null,session:null},error:Y})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:$})}catch(P){if(pe(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(e){const n=await ea(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new h6;const{data:l,error:c}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:mi});if(await tn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new fo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await tn(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:a,access_token:l,nonce:c}=e,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mi}),{data:p,error:g}=d;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const y=new fo;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,a,l,c;try{if("email"in e){const{email:d,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await po(this.storage,this.storageKey));const{error:_}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(s=p==null?void 0:p.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:d,options:p}=e,{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y})}throw new Ph("You must provide either an email or phone number.")}catch(d){if(await tn(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,s;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:mi});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,s,a,l,c;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await po(this.storage,this.storageKey));const g=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:V6});return!((l=g.data)===null||l===void 0)&&l.url&&nn()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(d){if(await tn(this.storage,`${this.storageKey}-code-verifier`),pe(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Mn;const{error:a}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:c}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:c,error:d}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Ph("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<bm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await ea(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Em()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=D6(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fr}):await this._useSession(async n=>{var s,a,l;const{data:c,error:d}=n;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:fr})})}catch(n){if(pe(n))return u6(n)&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new Mn;const c=a.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await po(this.storage,this.storageKey));const{data:g,error:y}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:c.access_token,xform:fr});if(y)throw y;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await tn(this.storage,`${this.storageKey}-code-verifier`),pe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Mn;const n=Date.now()/1e3;let s=n,a=!0,l=null;const{payload:c}=Tm(e.access_token);if(c.exp&&(s=c.exp,a=s<=n),a){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Mn;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!nn())throw new Uh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rT("No code detected.");const{data:Y,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:p,token_type:g}=e;if(!l||!d||!c||!g)throw new Uh("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(d);let E=y+_;p&&(E=parseInt(p));const A=E-y;A*1e3<=bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${_}s`);const O=E-_;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,E,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,E,y);const{data:I,error:P}=await this._getUser(l);if(P)throw P;const $={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:_,expires_at:E,refresh_token:c,token_type:g,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:e.type},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ea(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const c=(s=a.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(l6(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=v6(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,a;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await po(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await tn(this.storage,`${this.storageKey}-code-verifier`),pe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:a}=await this._useSession(async l=>{var c,d,p,g,y;const{data:_,error:E}=l;if(E)throw E;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",A,{headers:this.headers,jwt:(y=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(pe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:c,provider:d,token:p,access_token:g,nonce:y}=e,_=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:mi}),{data:E,error:A}=_;return A?this._returnResult({data:{user:null,session:null},error:A}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new fo}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:A}))}catch(a){if(await tn(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,a;const{data:l,error:c}=n;if(c)throw c;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await T6(async a=>(a>0&&await w6(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mi})),(a,l)=>{const c=200*Math.pow(2,a);return l&&wm(l)&&Date.now()+c-s<bo})}catch(s){if(this._debug(n,"error",s),pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),nn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ea(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await wo(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Em()}else if(a&&!a.user&&!a.user){const c=await ea(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await tn(this.storage,this.storageKey+"-user"),await wo(this.storage,this.storageKey,a)):a.user=Em()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bm;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${bm}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),wm(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(a.access_token);!d&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Md;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Mn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),pe(l)){const c={data:null,error:l};return wm(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await wo(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=cT(a);await wo(this.storage,this.storageKey,l)}else{const a=cT(n);await wo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${bo}ms, refresh threshold is ${bg} ticks`),a<=bg&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await po(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?J6(e.webauthn.credential_response):Z6(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:p}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Q6(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:W6(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Tm(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Mn});const c=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Mn});const c=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+a6>a)return s;const{data:l,error:c}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:A,error:O}=await this.getSession();if(O||!A.session)return this._returnResult({data:null,error:O});s=A.session.access_token}const{header:a,payload:l,signature:c,raw:{header:d,payload:p}}=Tm(s);n!=null&&n.allowExpired||N6(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:A}=await this.getUser(s);if(A)throw A;return{data:{claims:l,header:a,signature:c},error:null}}const y=O6(a.alg),_=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,c,g6(`${d}.${p}`)))throw new Eg("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}}ju.nextInstanceID={};const lP=ju,uP="2.89.0";let ru="";typeof Deno<"u"?ru="deno":typeof document<"u"?ru="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ru="react-native":ru="node";const cP={"X-Client-Info":`supabase-js-${ru}/${uP}`},hP={headers:cP},dP={schema:"public"},fP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pP={};function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function mP(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Vu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gP(t){var e=mP(t,"string");return Vu(e)=="symbol"?e:e+""}function yP(t,e,n){return(e=gP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(n),!0).forEach(function(s){yP(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const vP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_P=()=>Headers,bP=(t,e,n)=>{const s=vP(n),a=_P();return async(l,c)=>{var d;const p=(d=await e())!==null&&d!==void 0?d:t;let g=new a(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",t),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),s(l,mt(mt({},c),{},{headers:g}))}};function wP(t){return t.endsWith("/")?t:t+"/"}function TP(t,e){var n,s;const{db:a,auth:l,realtime:c,global:d}=t,{db:p,auth:g,realtime:y,global:_}=e,E={db:mt(mt({},p),a),auth:mt(mt({},g),l),realtime:mt(mt({},y),c),storage:{},global:mt(mt(mt({},_),d),{},{headers:mt(mt({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?E.accessToken=t.accessToken:delete E.accessToken,E}function EP(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SP=class extends lP{constructor(t){super(t)}},xP=class{constructor(t,e,n){var s,a;this.supabaseUrl=t,this.supabaseKey=e;const l=EP(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:dP,realtime:pP,auth:mt(mt({},fP),{},{storageKey:c}),global:hP},p=TP(n??{},d);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=bP(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new s3(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new t6(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new ZV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:l,flowType:c,lock:d,debug:p,throwOnError:g},y,_){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SP({url:this.authUrl.href,headers:mt(mt({},E),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:a,flowType:c,lock:d,debug:p,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new w3(this.realtimeUrl.href,mt(mt({},t),{},{params:mt(mt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const AP=(t,e,n)=>new xP(t,e,n);function RP(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}RP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CP={},Lx=CP||{},Qh=Lx.VITE_SUPABASE_URL||"https://vzjzwuggsmcohzmseyzu.supabase.co",Wh=Lx.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ6anp3dWdnc21jb2h6bXNleXp1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5NzA3MjYsImV4cCI6MjA4MjU0NjcyNn0.VBgnXXX80fdiu3Fw1TVR-bVIievtos-m3X6cHrkYM08",NP=typeof Qh=="string"&&Qh.startsWith("http")&&!Qh.includes("your-project"),OP=typeof Wh=="string"&&Wh.length>20&&!Wh.includes("your-anon-key"),zx=NP&&OP;AP(zx?Qh:"https://placeholder.supabase.co",Wh);const kP=()=>{const{user:t,isAdmin:e,editMode:n,toggleEditMode:s,logout:a}=xd(),[l,c]=ne.useState(!1);if(!e||!t)return null;const d=()=>{c(!0),setTimeout(()=>{window.location.reload()},800)},p=`https://cdn.discordapp.com/avatars/${t.id}/${t.avatar}.png`;return w.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100]",children:w.jsxs(_e.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"bg-dark-900/90 backdrop-blur-xl border border-vital-500/30 rounded-full p-2 pl-4 pr-2 shadow-[0_0_30px_rgba(0,0,0,0.5)] flex items-center gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:p,alt:t.username,className:"w-8 h-8 rounded-full border border-vital-500"}),w.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-dark-900 rounded-full"})]}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-white font-bold text-xs leading-none",children:t.username}),w.jsx("div",{className:"flex items-center gap-1 mt-0.5",children:zx?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),w.jsx("span",{className:"text-[9px] text-emerald-500 font-tech uppercase tracking-wider",children:"Cloud Active"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),w.jsx("span",{className:"text-[9px] text-yellow-500 font-tech uppercase tracking-wider",children:"Local Mode"})]})})]})]}),w.jsx("div",{className:"h-6 w-px bg-white/10 mx-2"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold transition-all ${n?"bg-vital-500 text-white shadow-[0_0_15px_rgba(249,115,22,0.4)]":"bg-white/5 text-gray-400 hover:text-white"}`,children:[n?w.jsx(o0,{size:14}):w.jsx(BD,{size:14}),n?"Stop Editing":"Edit Mode"]}),n&&w.jsx("button",{onClick:d,disabled:l,className:`p-2 rounded-full transition-colors ${l?"bg-green-500 text-white":"bg-green-500/20 text-green-400 hover:bg-green-500 hover:text-white"}`,title:"Refresh Data",children:l?w.jsx(a0,{size:16,className:"animate-spin"}):w.jsx(YD,{size:16})}),w.jsx("button",{onClick:a,className:"p-2 rounded-full bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white transition-colors",title:"Logout",children:w.jsx(DD,{size:16})})]})]})})},DP=({isOpen:t,onClose:e})=>(_T.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),w.jsx(Su,{children:t&&w.jsxs(w.Fragment,{children:[w.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60]"}),w.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 pointer-events-none",children:w.jsxs(_e.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5,bounce:.3},className:"w-full max-w-6xl h-[85vh] bg-dark-900 border border-white/10 rounded-2xl overflow-hidden flex flex-col shadow-2xl pointer-events-auto",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5 bg-dark-900 z-10 shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"bg-vital-500/10 p-2 rounded-lg text-vital-500",children:w.jsx(Xm,{size:20})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-display font-bold text-white text-lg leading-none",children:"Vital Store"}),w.jsx("p",{className:"text-xs text-gray-500 font-tech uppercase tracking-wider mt-0.5",children:"Secure Checkout"})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("a",{href:"https://vitalrp.tebex.io/",target:"_blank",rel:"noreferrer",className:"hidden md:flex items-center gap-2 px-4 py-2 bg-vital-600 hover:bg-vital-500 text-white text-sm font-bold rounded-lg transition-colors shadow-lg shadow-vital-500/20",children:[w.jsx("span",{children:"Open in New Tab"}),w.jsx(Vw,{size:14})]}),w.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:w.jsx(o0,{size:20})})]})]}),w.jsxs("div",{className:"flex-1 relative bg-dark-950 w-full h-full",children:[w.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500 z-0",children:[w.jsx(r0,{size:32,className:"animate-spin mb-4 text-vital-500"}),w.jsx("p",{className:"font-medium text-gray-400",children:"Loading Store Interface..."}),w.jsx("p",{className:"text-sm mt-2 max-w-xs text-center text-gray-600",children:'If the store does not appear shortly, please use the "Open in New Tab" button.'})]}),w.jsx("iframe",{src:"https://vitalrp.tebex.io/",title:"Vital RP Store",className:"absolute inset-0 w-full h-full border-0 z-10 bg-transparent",allow:"payment",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})]}),w.jsx("div",{className:"md:hidden p-4 border-t border-white/5 bg-dark-900 z-10 shrink-0",children:w.jsxs("a",{href:"https://vitalrp.tebex.io/",target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-vital-600 text-white font-bold rounded-lg shadow-lg shadow-vital-500/20",children:[w.jsx("span",{children:"Open in New Tab"}),w.jsx(Vw,{size:16})]})})]})})]})}));function IP(){const[t,e]=ne.useState(!1),{scrollYProgress:n}=s0(),s=Mk(n,{stiffness:100,damping:30,restDelta:.001});return w.jsx(PI,{children:w.jsxs("div",{className:"min-h-screen bg-dark-950 text-white selection:bg-vital-500 selection:text-white relative transition-colors duration-700",children:[w.jsx(kP,{}),w.jsx(_e.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-vital-500 to-vital-400 origin-left z-[100]",style:{scaleX:s}}),w.jsx(XV,{}),w.jsx(gI,{onOpenStore:()=>e(!0)}),w.jsxs("main",{className:"relative z-10",children:[w.jsx(_I,{}),w.jsx(EI,{}),w.jsx(RI,{}),w.jsx(MI,{}),w.jsx(DV,{}),w.jsx(VV,{}),w.jsx(zV,{}),w.jsx($V,{})]}),w.jsx("div",{className:"relative z-10",children:w.jsx(KV,{onOpenStore:()=>e(!0)})}),w.jsx(DP,{isOpen:t,onClose:()=>e(!1)}),w.jsx(YV,{})]})})}const Bx=document.getElementById("root");if(!Bx)throw new Error("Could not find root element to mount to");const MP=C2.createRoot(Bx);MP.render(w.jsx(_T.StrictMode,{children:w.jsx(IP,{})}));
